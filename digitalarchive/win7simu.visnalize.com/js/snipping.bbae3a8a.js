(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["snipping"],{"036c":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fragment"},[n("window",{class:e.showResult?"maximized":"",attrs:{id:"window-"+e.id,resizable:!1,h:e.showResult?300:"auto",lock:e.showDialog}},[n("title-bar",{attrs:{icon:e.id,title:e.$t(e.id)}},[n("controls",{attrs:{disableMaximize:""}})],1),n("tool-bar",{staticClass:"lg-icons",attrs:{items:e.toolbar}}),n("div",{ref:"Result",staticClass:"container"},[e._v(" "+e._s(e.message)+" ")])],1),e.showDialog?n("dialog-save",{attrs:{parent:e.id,dialogIcon:e.id,dialogName:"save-as",content:e.content,fileName:e.fileName,fileTypes:{png:"Portable Network Graphic file (*.PNG)",jpg:"JPEG file (*.JPG)"}},on:{cancel:e.toggleDialog,done:e.toggleDialog}}):e._e()],1)},r=[],i=n("8dc1"),l=n("3af2"),a=n("8229"),s=n("b468"),c=n("6792"),u=n("6210"),d=n("e273"),h=n("10dc");const f=(e,t,n)=>t.split(" ").forEach(t=>e.addEventListener(t,n)),m=(e,t,n)=>t.split(" ").forEach(t=>e.removeEventListener(t,n));var g={components:{Window:h["a"],Controls:l["a"],TitleBar:u["a"],ToolBar:d["a"],DialogSave:s["a"]},data(){const{icon:e}=this.$store.getters.themeData;return{id:"snipping",toolbar:[{label:this.$t("new"),icon:e.snipping,items:[{label:this.$t("free-form")+" "+this.$t("snip"),disabled:!0},{label:this.$t("rectangular")+" "+this.$t("snip"),onClick:()=>this.snipRect()},{label:this.$t("window")+" "+this.$t("snip"),onClick:()=>this.snipWindow()},{label:this.$t("full-screen")+" "+this.$t("snip"),onClick:()=>this.snipFull()}]},{label:this.$t("cancel"),icon:e.cancel,onClick:this.cancel}],saveButton:{label:"",icon:e.save,onClick:this.toggleDialog},showResult:!1,showDialog:!1,message:this.$t("select-snip"),fileName:"Capture",content:null,rootEl:null}},watch:{showResult(e){e?this.toolbar.push(this.saveButton):this.toolbar.pop()}},mounted(){this.rootEl=this.$root.$el.querySelector("#windows")},methods:{_getOverlay(){const e=document.createElement("canvas"),t=e.getContext("2d");return e.width=this.rootEl.clientWidth,e.height=this.rootEl.clientHeight,e.style.zIndex=9999,e.style.position="absolute",e.style.cursor="crosshair",t.lineWidth=1,t.strokeStyle="red",t.fillStyle="rgba(255, 255, 255, 0.7)",t.fillRect(0,0,e.width,e.height),e},_highlight(e,t){const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillRect(0,0,e.width,e.height),n.strokeRect(t.x,t.y,t.width,t.height),n.clearRect(t.x,t.y,t.width,t.height)},async _snip(e){const t=await Object(i["domToImage"])(this.rootEl),n=document.createElement("canvas"),o=n.getContext("2d"),{x:r,y:l,width:a,height:s}=e;return n.width=a,n.height=s,o.drawImage(t,r,l,a,s,0,0,a,s),n},snipWindow(){let e;const t=this,n=this._getOverlay();function o(o){const r=o.target.closest(".window"),i=o.target.closest("#taskbar");if(e=r||i||t.rootEl,e&&!e.querySelector(".snip-layer")){const t=document.createElement("div");t.className="snip-layer",e.append(t)}t._highlight(n,e.getBoundingClientRect())}async function r(){m(this,"mousemove touchmove",o),m(this,"click",r),t.$root.$emit(c["c"].ChangeCursor,a["a"].Working),t.show(await t._snip(e.getBoundingClientRect())),n.remove(),document.querySelectorAll(".snip-layer").forEach(e=>e.remove())}n.style.pointerEvents="none",this.rootEl.append(n),f(this.rootEl,"mousemove touchmove",o),f(this.rootEl,"click",r)},snipRect(){let e,t,n,o,r;const i=this,l=this._getOverlay();function s(n){e="mousedown"===n.type?n.offsetX:n.touches[0].clientX,t="mousedown"===n.type?n.offsetY:n.touches[0].clientY,e-=n.target.offsetLeft,t-=n.target.offsetTop}function u(a){n="mousemove"===a.type?a.offsetX:a.touches[0].clientX,o="mousemove"===a.type?a.offsetY:a.touches[0].clientY,n-=a.target.offsetLeft,o-=a.target.offsetTop,r={x:n>e?e:n,y:o>t?t:o,width:Math.abs(n-e),height:Math.abs(o-t)},i._highlight(l,r)}async function d(){m(this,"mousedown touchstart",s),m(this,"mousemove touchmove",u),m(this,"mouseup touchend",d),i.$root.$emit(c["c"].ChangeCursor,a["a"].Working),i.show(await i._snip(r)),l.remove()}this.rootEl.append(l),f(this.rootEl,"mousedown touchstart",s),f(this.rootEl,"mousemove touchmove",u),f(this.rootEl,"mouseup touchend",d),this.$root.$emit(c["c"].ChangeCursor,a["a"].Precision)},snipFull(){this.$root.$emit(c["c"].ChangeCursor,a["a"].Working),Object(i["domToCanvas"])(this.rootEl).then(this.show)},show(e){const{Result:t}=this.$refs;this.showResult=!0,this.content=e,e.style.margin="auto",e.dataset.defaultCursor=!0,t.innerHTML="",t.append(e),this.$root.$emit(c["c"].ChangeCursor,a["a"].Default)},cancel(){const{Result:e}=this.$refs;this.showResult=!1,e.innerHTML=this.message},toggleDialog(){this.showDialog=!this.showDialog}}},p=g,w=(n("484b"),n("434d"),n("2877")),y=Object(w["a"])(p,o,r,!1,null,"c2010cb4",null);t["default"]=y.exports},"287d":function(e,t,n){},"434d":function(e,t,n){"use strict";n("287d")},"484b":function(e,t,n){"use strict";n("a3e3")},"6a8a4":function(e,t,n){"use strict";n("a6cd")},"8dc1":function(e,t,n){(function(e,n){n(t)})(0,(function(e){var t,n=Object.defineProperty,o=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=Math.pow,c=(e,t,o)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,u=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&c(e,n,t[n]);if(i)for(var n of i(t))a.call(t,n)&&c(e,n,t[n]);return e},d=(e,t)=>o(e,r(t)),h=(e,t)=>{var n={};for(var o in e)l.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&i)for(var o of i(e))t.indexOf(o)<0&&a.call(e,o)&&(n[o]=e[o]);return n},f=(e,t,n)=>new Promise((o,r)=>{var i=e=>{try{a(n.next(e))}catch(E){r(E)}},l=e=>{try{a(n.throw(e))}catch(E){r(E)}},a=e=>e.done?o(e.value):Promise.resolve(e.value).then(i,l);a((n=n.apply(e,t)).next())});function m(e,t){return e[13]=1,e[14]=t>>8,e[15]=255&t,e[16]=t>>8,e[17]=255&t,e}const g="p".charCodeAt(0),p="H".charCodeAt(0),w="Y".charCodeAt(0),y="s".charCodeAt(0);let v;function b(){const e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}function C(e){let t=-1;v||(v=b());for(let n=0;n<e.length;n++)t=v[255&(t^e[n])]^t>>>8;return-1^t}function E(e){const t=e.length-1;for(let n=t;n>=4;n--)if(9===e[n-4]&&e[n-3]===g&&e[n-2]===p&&e[n-1]===w&&e[n]===y)return n-3;return 0}function S(e,t,n=!1){const o=new Uint8Array(13);t*=39.3701,o[0]=g,o[1]=p,o[2]=w,o[3]=y,o[4]=t>>>24,o[5]=t>>>16,o[6]=t>>>8,o[7]=255&t,o[8]=o[4],o[9]=o[5],o[10]=o[6],o[11]=o[7],o[12]=1;const r=C(o),i=new Uint8Array(4);if(i[0]=r>>>24,i[1]=r>>>16,i[2]=r>>>8,i[3]=255&r,n){const t=E(e);return e.set(o,t),e.set(i,t+13),e}{const t=new Uint8Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=9;const n=new Uint8Array(54);return n.set(e,0),n.set(t,33),n.set(o,37),n.set(i,50),n}}const x="AAlwSFlz",A="AAAJcEhZ",k="AAAACXBI";function T(e){let t=e.indexOf(x);return-1===t&&(t=e.indexOf(A)),-1===t&&(t=e.indexOf(k)),t}const N="[modern-screenshot]",D="undefined"!=typeof window,$=D&&"Worker"in window,_=D&&"atob"in window,R=D&&"btoa"in window,I=D?null==(t=window.navigator)?void 0:t.userAgent:"",P=I.includes("Chrome"),O=I.includes("AppleWebKit")&&!P,F=I.includes("Firefox"),j=e=>e&&"__CONTEXT__"in e,M=e=>"CSSFontFaceRule"===e.constructor.name,L=e=>"CSSImportRule"===e.constructor.name,B=e=>1===e.nodeType,U=e=>"object"==typeof e.className,W=e=>U(e)&&"svg"===e.tagName,q=e=>U(e)&&"image"===e.tagName,z=e=>B(e)&&"undefined"!=typeof e.style&&!U(e),V=e=>8===e.nodeType,X=e=>3===e.nodeType,H=e=>"IMG"===e.tagName,Y=e=>"VIDEO"===e.tagName,G=e=>"CANVAS"===e.tagName,J=e=>"TEXTAREA"===e.tagName,K=e=>"INPUT"===e.tagName,Q=e=>"STYLE"===e.tagName,Z=e=>"SCRIPT"===e.tagName,ee=e=>"SELECT"===e.tagName,te=e=>"SLOT"===e.tagName,ne=e=>"IFRAME"===e.tagName,oe=(...e)=>console.warn(N,...e),re=e=>console.time(`${N} ${e}`),ie=e=>console.timeEnd(`${N} ${e}`),le=e=>{var t;const n=null==(t=null==e?void 0:e.createElement)?void 0:t.call(e,"canvas");return n&&(n.height=n.width=1),n&&"toDataURL"in n&&Boolean(n.toDataURL("image/webp").includes("image/webp"))},ae=e=>e.startsWith("data:");function se(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(D&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!D)return e;const n=ce().implementation.createHTMLDocument(),o=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(r),t&&(o.href=t),r.href=e,r.href}function ce(e){var t;return null!=(t=e&&B(e)?null==e?void 0:e.ownerDocument:e)?t:window.document}const ue="http://www.w3.org/2000/svg";function de(e,t,n){const o=ce(n).createElementNS(ue,"svg");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),o}function he(e,t){let n=(new XMLSerializer).serializeToString(e);return t&&(n=n.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/gu,"")),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(n)}function fe(e,t="image/png",n=1){return f(this,null,(function*(){try{return yield new Promise((o,r)=>{e.toBlob(e=>{e?o(e):r(new Error("Blob is null"))},t,n)})}catch(o){if(_)return oe("Failed canvas to blob",{type:t,quality:n},o),me(e.toDataURL(t,n));throw o}}))}function me(e){var t,n;const[o,r]=e.split(","),i=null!=(n=null==(t=o.match(/data:(.+);/))?void 0:t[1])?n:void 0,l=window.atob(r),a=l.length,s=new Uint8Array(a);for(let c=0;c<a;c+=1)s[c]=l.charCodeAt(c);return new Blob([s],{type:i})}function ge(e,t){return new Promise((n,o)=>{const r=new FileReader;r.onload=()=>n(r.result),r.onerror=()=>o(r.error),r.onabort=()=>o(new Error("Failed read blob to "+t)),"dataUrl"===t?r.readAsDataURL(e):"arrayBuffer"===t&&r.readAsArrayBuffer(e)})}const pe=e=>ge(e,"dataUrl"),we=e=>ge(e,"arrayBuffer");function ye(e,t){const n=ce(t).createElement("img");return n.decoding="sync",n.loading="eager",n.src=e,n}function ve(e,t){return new Promise(n=>{const{timeout:o,ownerDocument:r,onError:i}=null!=t?t:{},l="string"==typeof e?ye(e,ce(r)):e;let a=null,s=null;function c(){n(l),a&&clearTimeout(a),null==s||s()}if(o&&(a=setTimeout(c,o)),Y(l)){const e=l.currentSrc||l.src;if(!e)return l.poster?ve(l.poster,t).then(n):c();if(l.readyState>=2)return c();const o=c,r=t=>{oe("Failed video load",e,t),null==i||i(t),c()};s=()=>{l.removeEventListener("loadeddata",o),l.removeEventListener("error",r)},l.addEventListener("loadeddata",o,{once:!0}),l.addEventListener("error",r,{once:!0})}else{const e=q(l)?l.href.baseVal:l.currentSrc||l.src;if(!e)return c();const t=()=>f(this,null,(function*(){if(H(l)&&"decode"in l)try{yield l.decode()}catch(t){oe("Failed to decode image, trying to render anyway",l.dataset.originalSrc||e,t)}c()})),n=t=>{oe("Failed image load",l.dataset.originalSrc||e,t),c()};if(H(l)&&l.complete)return t();s=()=>{l.removeEventListener("load",t),l.removeEventListener("error",n)},l.addEventListener("load",t,{once:!0}),l.addEventListener("error",n,{once:!0})}})}function be(e,t){return f(this,null,(function*(){z(e)&&(H(e)||Y(e)?yield ve(e,{timeout:t}):yield Promise.all(["img","video"].flatMap(n=>Array.from(e.querySelectorAll(n)).map(e=>ve(e,{timeout:t})))))}))}const Ce=function(){let e=0;const t=()=>("0000"+(Math.random()*s(36,4)<<0).toString(36)).slice(-4);return()=>(e+=1,`u${t()}${e}`)}();function Ee(e){return null==e?void 0:e.split(",").map(e=>e.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}function Se(e){return{time:t=>e&&re(t),timeEnd:t=>e&&ie(t),warn:(...t)=>e&&oe(...t)}}function xe(e){return{cache:e?"no-cache":"force-cache"}}function Ae(e,t){return f(this,null,(function*(){return j(e)?e:ke(e,d(u({},t),{autoDestruct:!0}))}))}function ke(e,t){return f(this,null,(function*(){var n,o,r,i,l;const{scale:a=1,workerUrl:s,workerNumber:c=1}=t||{},h=Boolean(null==t?void 0:t.debug),m=null==(n=null==t?void 0:t.features)||n,g=null!=(o=e.ownerDocument)?o:D?window.document:void 0,p=null!=(i=null==(r=e.ownerDocument)?void 0:r.defaultView)?i:D?window:void 0,w=new Map,y=d(u({width:0,height:0,quality:1,type:"image/png",scale:a,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:h,fetch:u({requestInit:xe(null==(l=null==t?void 0:t.fetch)?void 0:l.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1},null==t?void 0:t.fetch),font:{},drawImageInterval:100,workerUrl:null,workerNumber:c,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,autoDestruct:!1},t),{__CONTEXT__:!0,log:Se(h),node:e,ownerDocument:g,ownerWindow:p,dpi:1===a?null:96*a,svgStyleElement:Te(g),svgDefsElement:null==g?void 0:g.createElementNS(ue,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...new Array($&&s&&c?c:0)].map(()=>{try{const e=new Worker(s);return e.onmessage=e=>f(this,null,(function*(){var t,n,o,r;const{url:i,result:l}=e.data;l?null==(n=null==(t=w.get(i))?void 0:t.resovle)||n.call(t,l):null==(r=null==(o=w.get(i))?void 0:o.reject)||r.call(o,new Error("Error receiving message from worker: "+i))})),e.onmessageerror=e=>{var t,n;const{url:o}=e.data;null==(n=null==(t=w.get(o))?void 0:t.reject)||n.call(t,new Error("Error receiving message from worker: "+o))},e}catch(e){return oe("Failed to new Worker",e),null}}).filter(Boolean),fontFamilies:new Set,fontCssTexts:new Map,acceptOfImage:[le(g)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")+";q=0.8",requests:w,drawImageCount:0,tasks:[],features:m,isEnable:e=>{var t;return"boolean"==typeof m?m:null==(t=m[e])||t}});y.log.time("wait until load"),yield be(e,y.timeout),y.log.timeEnd("wait until load");const{width:v,height:b}=Ne(e,y);return y.width=v,y.height=b,y}))}function Te(e){if(!e)return;const t=e.createElement("style"),n=t.ownerDocument.createTextNode("\n.______background-clip--text {\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n");return t.appendChild(n),t}function Ne(e,t){let{width:n,height:o}=t;if(B(e)&&(!n||!o)){const t=e.getBoundingClientRect();n=n||t.width||Number(e.getAttribute("width"))||0,o=o||t.height||Number(e.getAttribute("height"))||0}return{width:n,height:o}}function De(e,t){return f(this,null,(function*(){const{log:n,timeout:o,drawImageCount:r,drawImageInterval:i}=t;n.time("image to canvas");const l=yield ve(e,{timeout:o}),{canvas:a,context2d:s}=$e(e.ownerDocument,t),c=()=>{try{null==s||s.drawImage(l,0,0,a.width,a.height)}catch(e){oe("Failed to drawImage",e)}};if(c(),t.isEnable("fixSvgXmlDecode"))for(let e=0;e<r;e++)yield new Promise(t=>{setTimeout(()=>{c(),t()},e+i)});return t.drawImageCount=0,n.timeEnd("image to canvas"),a}))}function $e(e,t){const{width:n,height:o,scale:r,backgroundColor:i,maximumCanvasSize:l}=t,a=e.createElement("canvas");a.width=Math.floor(n*r),a.height=Math.floor(o*r),a.style.width=n+"px",a.style.height=o+"px",l&&(a.width>l||a.height>l)&&(a.width>l&&a.height>l?a.width>a.height?(a.height*=l/a.width,a.width=l):(a.width*=l/a.height,a.height=l):a.width>l?(a.height*=l/a.width,a.width=l):(a.width*=l/a.height,a.height=l));const s=a.getContext("2d");return s&&i&&(s.fillStyle=i,s.fillRect(0,0,a.width,a.height)),{canvas:a,context2d:s}}const _e=["width","height"],Re=["stroke","fill"];function Ie(e,t,n){var o;const{defaultComputedStyles:r,ownerDocument:i}=n,l=e.nodeName.toLowerCase(),a=U(e)&&"svg"!==l,s=a?Re.map(t=>[t,e.getAttribute(t)]).filter(([,e])=>null!==e):[],c=[a&&"svg",l,s.map((e,t)=>`${e}=${t}`).join(","),t].filter(Boolean).join(":");if(r.has(c))return r.get(c);let u=n.sandbox;if(!u)try{i&&(u=i.createElement("iframe"),u.id="__SANDBOX__-"+Ce(),u.width="0",u.height="0",u.style.visibility="hidden",u.style.position="fixed",i.body.appendChild(u),null==(o=u.contentWindow)||o.document.write('<!DOCTYPE html><meta charset="UTF-8"><title></title><body>'),n.sandbox=u)}catch(w){oe("Failed to create iframe sandbox",w)}if(!u)return new Map;const d=u.contentWindow;if(!d)return new Map;const h=d.document;let f,m;a?(f=h.createElementNS(ue,"svg"),m=f.ownerDocument.createElementNS(f.namespaceURI,l),s.forEach(([e,t])=>{m.setAttributeNS(null,e,t)}),f.appendChild(m)):f=m=h.createElement(l),m.textContent=" ",h.body.appendChild(f);const g=d.getComputedStyle(m,t),p=new Map;for(let y=g.length,v=0;v<y;v++){const e=g.item(v);_e.includes(e)||p.set(e,g.getPropertyValue(e))}return h.body.removeChild(f),r.set(c,p),p}function Pe(e,t){var n;const o=new Map,r=[],i=new Map;for(let l=e.length,a=0;a<l;a++){const n=e.item(a),l=e.getPropertyValue(n),s=e.getPropertyPriority(n),c=n.lastIndexOf("-"),u=c>-1?n.substring(0,c):void 0;if(u){let e=i.get(u);e||(e=new Map,i.set(u,e)),e.set(n,[l,s])}t.get(n)===l&&!s||(u?r.push(u):o.set(n,[l,s]))}for(let l=r.length,a=0;a<l;a++)null==(n=i.get(r[a]))||n.forEach((e,t)=>o.set(t,e));return o}const Oe=[":before",":after"],Fe=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function je(e,t,n,o){const{ownerWindow:r,svgStyleElement:i,svgStyles:l}=o;function a(n){var i;const a=r.getComputedStyle(e,n);let s=a.getPropertyValue("content");if(!s||"none"===s)return;s=s.replace(/(')|(")|(counter\(.+\))/g,"");const c=[Ce()],u=Ie(e,n,o),d=[`content: '${s}';`],h=Pe(a,u);if(h.delete("content"),h.delete("-webkit-locale"),"text"===(null==(i=h.get("background-clip"))?void 0:i[0])&&t.classList.add("______background-clip--text"),h.forEach(([e,t],n)=>{d.push(`${n}: ${e}${t?" !important":""};`)}),1===d.length)return;try{t.className=[t.className,...c].join(" ")}catch(g){return}const f=d.join("\n  ");let m=l.get(f);m||(m=[],l.set(f,m)),m.push(`.${c[0]}:${n}`)}i&&r&&(Oe.forEach(a),n&&Fe.forEach(a))}function Me(e,t){J(e)&&(t.innerHTML=e.value),(J(e)||K(e)||ee(e))&&t.setAttribute("value",e.value)}function Le(e,t,n,o){var r,i,l,a;const{ownerWindow:s}=o,c=t.style,u=s.getComputedStyle(e),d=Ie(e,null,o),h=Pe(u,d);return h.delete("transition-property"),h.delete("all"),h.delete("d"),h.delete("content"),n&&(h.delete("margin-top"),h.delete("margin-right"),h.delete("margin-bottom"),h.delete("margin-left"),h.delete("margin-block-start"),h.delete("margin-block-end"),h.delete("margin-inline-start"),h.delete("margin-inline-end"),h.set("box-sizing",["border-box",""])),"text"===(null==(r=h.get("background-clip"))?void 0:r[0])&&t.classList.add("______background-clip--text"),P&&(h.has("font-kerning")||h.set("font-kerning",["normal",""]),("hidden"===(null==(i=h.get("overflow-x"))?void 0:i[0])||"hidden"===(null==(l=h.get("overflow-y"))?void 0:l[0]))&&"ellipsis"===(null==(a=h.get("text-overflow"))?void 0:a[0])&&e.scrollWidth===e.clientWidth&&h.set("text-overflow",["clip",""])),h.forEach(([e,t],n)=>{c.setProperty(n,e,t)}),h}function Be(e,t){return f(this,null,(function*(){var n,o,r;const{ownerDocument:i,svgDefsElement:l}=t,a=null!=(o=null==(n=e.querySelectorAll)?void 0:n.call(e,"use"))?o:[];if(a.length)for(let e=a.length,s=0;s<e;s++){const e=a[s],n=null!=(r=e.getAttribute("xlink:href"))?r:e.getAttribute("href");if(!n)continue;const o=null==i?void 0:i.querySelector("svg "+n);!o||null!=l&&l.querySelector(n)||null==l||l.appendChild(yield Je(o,t))}return e.cloneNode(!1)}))}function Ue(e,t){var n;try{if(null!=(n=null==e?void 0:e.contentDocument)&&n.body)return Je(e.contentDocument.body,t)}catch(o){oe("Failed to clone iframe",o)}return e.cloneNode(!1)}function We(e){if(e.ownerDocument)try{const t=e.toDataURL();if("data:,"!==t)return ye(t,e.ownerDocument)}catch(r){}const t=e.cloneNode(!1),n=e.getContext("2d"),o=t.getContext("2d");try{return n&&o&&o.putImageData(n.getImageData(0,0,e.width,e.height),0,0),t}catch(r){oe("Failed to clone canvas",r)}return t}function qe(e){return f(this,null,(function*(){if(e.ownerDocument&&!e.currentSrc&&e.poster)return ye(e.poster,e.ownerDocument);const t=e.cloneNode(!1);t.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc);const n=t.ownerDocument;if(n){let r=!0;if(yield ve(t,{onError:()=>r=!1}),!r)return e.poster?ye(e.poster,e.ownerDocument):t;t.currentTime=e.currentTime,yield new Promise(e=>{t.addEventListener("seeked",e,{once:!0})});const i=n.createElement("canvas");i.width=e.offsetWidth,i.height=e.offsetHeight;try{const e=i.getContext("2d");e&&e.drawImage(t,0,0,i.width,i.height)}catch(o){return oe("Failed to clone video",o),e.poster?ye(e.poster,e.ownerDocument):t}return We(i)}return t}))}function ze(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager"),t}function Ve(e,t){return G(e)?We(e):ne(e)?Ue(e,t):H(e)?ze(e):Y(e)?qe(e):W(e)?Be(e,t):e.cloneNode(!1)}function Xe(e,t,n){return f(this,null,(function*(){B(t)&&(Q(t)||Z(t))||n.filter&&!n.filter(t)||e.appendChild(yield Je(t,n))}))}function He(e,t,n){return f(this,null,(function*(){var o,r;const i=null!=(r=B(e)?null==(o=e.shadowRoot)?void 0:o.firstChild:void 0)?r:e.firstChild;for(let e=i;e;e=e.nextSibling)if(!V(e))if(B(e)&&te(e)&&"function"==typeof e.assignedNodes){const o=e.assignedNodes();for(let e=0;e<o.length;e++)yield Xe(t,o[e],n)}else yield Xe(t,e,n)}))}function Ye(e,t){const{backgroundColor:n,width:o,height:r,style:i}=t,l=e.style;if(n&&l.setProperty("background-color",n,"important"),o&&l.setProperty("width",o+"px","important"),r&&l.setProperty("height",r+"px","important"),i)for(const a in i)l[a]=i[a]}const Ge=/^[\w-]+$/;function Je(e,t,n=!1){return f(this,null,(function*(){var o,r,i,l;const{ownerDocument:a,ownerWindow:s,fontFamilies:c}=t;if(a&&X(e))return a.createTextNode(e.data);if(a&&s&&B(e)&&(z(e)||U(e))){const a=yield Ve(e,t);if(t.isEnable("removeAbnormalAttributes")){const e=a.getAttributeNames();for(let t=e.length,n=0;n<t;n++){const t=e[n];Ge.test(t)||a.removeAttribute(t)}}const s=Le(e,a,n,t);n&&Ye(a,t);let u=!1;if(t.isEnable("copyScrollbar")){const t=[null==(o=s.get("overflow-x"))?void 0:o[0],null==(r=s.get("overflow-y"))?void 0:r[1]];u=t.includes("scroll")||(t.includes("auto")||t.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}return je(e,a,u,t),Me(e,a),null==(l=Ee(null==(i=s.get("font-family"))?void 0:i[0]))||l.forEach(e=>c.add(e)),Y(e)||(yield He(e,a,t)),a}const u=e.cloneNode(!1);return yield He(e,u,t),u}))}function Ke(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch(t){}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[]}function Qe(e){const t=e,{url:n,timeout:o,responseType:r}=t,i=h(t,["url","timeout","responseType"]),l=new AbortController,a=o?setTimeout(()=>l.abort(),o):void 0;return fetch(n,u({signal:l.signal},i)).then(e=>{if(!e.ok)throw new Error("Failed fetch, not 2xx response",{cause:e});switch(r){case"dataUrl":return e.blob().then(pe);case"text":default:return e.text()}}).finally(()=>clearTimeout(a))}function Ze(e,t){const{url:n,requestType:o="text",responseType:r="text",imageDom:i}=t;let l=n;const{timeout:a,acceptOfImage:s,requests:c,fetch:{requestInit:d,bypassingCache:h,placeholderImage:f},workers:m}=e;"image"===o&&(O||F)&&e.drawImageCount++;let g=c.get(n);if(!g){h&&(l+=(/\?/.test(l)?"&":"?")+(new Date).getTime());const e=u({url:l,timeout:a,responseType:r,headers:"image"===o?{accept:s}:void 0},d);g={type:o,resovle:void 0,reject:void 0,response:null},g.response=(!O&&n.startsWith("http")&&m.length?new Promise((t,o)=>{m[c.size&m.length-1].postMessage(u({rawUrl:n},e)),g.resovle=t,g.reject=o}):Qe(e)).catch(e=>{if(c.delete(n),"image"===o&&f)return oe("Failed to fetch image base64, trying to use placeholder image",l),"string"==typeof f?f:f(i);throw e}),c.set(n,g)}return g.response}function et(e,t,n,o){return f(this,null,(function*(){if(!tt(e))return e;for(const[i,l]of ot(e,t))try{const t=yield Ze(n,{url:l,requestType:o?"image":"text",responseType:"dataUrl"});e=e.replace(rt(i),`$1${t}$3`)}catch(r){oe("Failed to fetch css data url",i,r)}return e}))}function tt(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const nt=/url\((['"]?)([^'"]+?)\1\)/g;function ot(e,t){const n=[];return e.replace(nt,(e,o,r)=>(n.push([r,se(r,t)]),e)),n.filter(([e])=>!ae(e))}function rt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function it(e,t){return f(this,null,(function*(){const{ownerDocument:e,svgStyleElement:n,fontFamilies:o,fontCssTexts:r,tasks:i,font:l}=t;if(e&&n&&o.size)if(l&&l.cssText){const o=dt(l.cssText,t);n.appendChild(e.createTextNode(o+"\n"))}else{const l=Array.from(e.styleSheets).filter(e=>{try{return"cssRules"in e&&Boolean(e.cssRules.length)}catch(t){return oe("Error while reading CSS rules from "+e.href,t),!1}});yield Promise.all(l.flatMap(e=>Array.from(e.cssRules).map((n,o)=>f(this,null,(function*(){if(L(n)){let l=o+1;const a=n.href;let s="";try{s=yield Ze(t,{url:a,requestType:"text",responseType:"text"})}catch(r){oe("Error fetch remote css import from "+a,r)}const c=s.replace(nt,(e,t,n)=>e.replace(n,se(n,a)));for(const t of st(c))try{e.insertRule(t,t.startsWith("@import")?l+=1:e.cssRules.length)}catch(i){oe("Error inserting rule from remote css import",{rule:t,error:i})}}}))))),l.flatMap(e=>Array.from(e.cssRules)).filter(e=>{var t;return M(e)&&tt(e.style.getPropertyValue("src"))&&(null==(t=Ee(e.style.getPropertyValue("font-family")))?void 0:t.some(e=>o.has(e)))}).forEach(o=>{const l=o,a=r.get(l.cssText);a?n.appendChild(e.createTextNode(a+"\n")):i.push(et(l.cssText,l.parentStyleSheet?l.parentStyleSheet.href:null,t).then(o=>{o=dt(o,t),r.set(l.cssText,o),n.appendChild(e.createTextNode(o+"\n"))}))})}}))}const lt=/(\/\*[\s\S]*?\*\/)/gi,at=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi;function st(e){if(null==e)return[];const t=[];let n=e.replace(lt,"");for(;;){const e=at.exec(n);if(!e)break;t.push(e[0])}n=n.replace(at,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,r=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(e)r.lastIndex=o.lastIndex;else{if(e=r.exec(n),!e)break;o.lastIndex=r.lastIndex}t.push(e[0])}return t}const ct=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ut=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function dt(e,t){const{font:n}=t,o=n?null==n?void 0:n.preferredFormat:void 0;return o?e.replace(ut,e=>{for(;;){const[t,,n]=ct.exec(e)||[];if(!n)return"";if(n===o)return`src: ${t};`}}):e}function ht(e,t){if(H(e)){const n=e.currentSrc||e.src;if(!ae(n))return[Ze(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(t=>{t&&(e.srcset="",e.dataset.originalSrc=n,e.src=t||"")})];(O||F)&&t.drawImageCount++}else if(U(e)&&!ae(e.href.baseVal)){const n=e.href.baseVal;return[Ze(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(t=>{t&&(e.dataset.originalSrc=n,e.href.baseVal=t||"")})]}return[]}const ft=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function mt(e,t){return ft.map(n=>{const o=e.getPropertyValue(n);return o?((O||F)&&t.drawImageCount++,et(o,null,t,!0).then(t=>{!t||o===t||e.setProperty(n,t,e.getPropertyPriority(n))})):null}).filter(Boolean)}function gt(e,t){const{tasks:n}=t;B(e)&&(H(e)||q(e))&&n.push(...ht(e,t)),z(e)&&n.push(...mt(e.style,t)),e.childNodes.forEach(e=>{gt(e,t)})}function pt(e,t){return f(this,null,(function*(){const n=yield Ae(e,t);if(B(n.node)&&U(n.node))return n.node;const{ownerDocument:o,log:r,tasks:i,svgStyleElement:l,svgDefsElement:a,svgStyles:s,font:c,progress:u,autoDestruct:d,onCloneNode:h,onEmbedNode:m,onCreateForeignObjectSvg:g}=n;r.time("clone node");const p=yield Je(n.node,n,!0);if(l&&o){let e="";s.forEach((t,n)=>{e+=`${t.join(",\n")} {\n  ${n}\n}\n`}),l.appendChild(o.createTextNode(e))}r.timeEnd("clone node"),null==h||h(p),!1!==c&&B(p)&&(r.time("embed web font"),yield it(p,n),r.timeEnd("embed web font")),r.time("embed node"),gt(p,n);const w=i.length;let y=0;const v=()=>f(this,null,(function*(){for(;;){const t=i.pop();if(!t)break;try{yield t}catch(e){oe("Failed to run task",e)}null==u||u(++y,w)}}));null==u||u(y,w),yield Promise.all([...Array(4)].map(v)),r.timeEnd("embed node"),null==m||m(p);const b=wt(p,n);return a&&b.insertBefore(a,b.children[0]),l&&b.insertBefore(l,b.children[0]),d&&Ke(n),null==g||g(b),b}))}function wt(e,t){const{width:n,height:o}=t,r=de(n,o,e.ownerDocument),i=r.ownerDocument.createElementNS(r.namespaceURI,"foreignObject");return i.setAttributeNS(null,"x","0%"),i.setAttributeNS(null,"y","0%"),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.append(e),r.appendChild(i),r}function yt(e,t){return f(this,null,(function*(){var n;const o=yield Ae(e,t),r=yield pt(o),i=he(r,o.isEnable("removeControlCharacter"));o.autoDestruct||(o.svgStyleElement=Te(o.ownerDocument),o.svgDefsElement=null==(n=o.ownerDocument)?void 0:n.createElementNS(ue,"defs"),o.svgStyles.clear());const l=ye(i,r.ownerDocument);return yield De(l,o)}))}function vt(e,t){return f(this,null,(function*(){const n=yield Ae(e,t),{log:o,type:r,quality:i,dpi:l}=n,a=yield yt(n);o.time("canvas to blob");const s=yield fe(a,r,i);if(["image/png","image/jpeg"].includes(r)&&l){const e=yield we(s.slice(0,33));let t=new Uint8Array(e);return"image/png"===r?t=S(t,l):"image/jpeg"===r&&(t=m(t,l)),new Blob([t,s.slice(33)],{type:r})}return o.timeEnd("canvas to blob"),s}))}function bt(e,t){return f(this,null,(function*(){const n=yield Ae(e,t),{log:o,quality:r,type:i,dpi:l}=n,a=yield yt(n);o.time("canvas to data url");let s=a.toDataURL(i,r);if(["image/png","image/jpeg"].includes(i)&&l&&_&&R){const[e,t]=s.split(",");let n=0,o=!1;if("image/png"===i){const e=T(t);e>=0?(n=4*Math.ceil((e+28)/3),o=!0):n=44}else"image/jpeg"===i&&(n=24);const r=t.substring(0,n),a=t.substring(n),c=window.atob(r),u=new Uint8Array(c.length);for(let i=0;i<u.length;i++)u[i]=c.charCodeAt(i);const d="image/png"===i?S(u,l,o):m(u,l),h=window.btoa(String.fromCharCode(...d));s=[e,",",h,a].join("")}return o.timeEnd("canvas to data url"),s}))}function Ct(e,t){return f(this,null,(function*(){const n=yield Ae(e,t),{width:o,height:r,ownerDocument:i}=n,l=yield bt(n),a=de(o,r,i),s=a.ownerDocument.createElementNS(a.namespaceURI,"image");return s.setAttributeNS(null,"href",l),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"width","100%"),a.appendChild(s),he(a,n.isEnable("removeControlCharacter"))}))}function Et(e,t){return f(this,null,(function*(){const n=yield Ae(e,t),{ownerDocument:o,width:r,height:i,scale:l,type:a}=n,s="image/svg+xml"===a?yield Ct(n):yield bt(n),c=ye(s,o);return c.width=Math.floor(r*l),c.height=Math.floor(i*l),c.style.width=r+"px",c.style.height=i+"px",c}))}function St(e,t){return f(this,null,(function*(){return bt(yield Ae(e,d(u({},t),{type:"image/jpeg"})))}))}function xt(e,t){return f(this,null,(function*(){const n=yield Ae(e,t),o=yield yt(n);return o.getContext("2d").getImageData(0,0,o.width,o.height).data}))}function At(e,t){return f(this,null,(function*(){return bt(yield Ae(e,d(u({},t),{type:"image/png"})))}))}function kt(e,t){return f(this,null,(function*(){return bt(yield Ae(e,d(u({},t),{type:"image/webp"})))}))}e.createContext=ke,e.destroyContext=Ke,e.domToBlob=vt,e.domToCanvas=yt,e.domToDataUrl=bt,e.domToForeignObjectSvg=pt,e.domToImage=Et,e.domToJpeg=St,e.domToPixel=xt,e.domToPng=At,e.domToSvg=Ct,e.domToWebp=kt,e.loadMedia=ve,e.waitUntilLoad=be,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},a3e3:function(e,t,n){},a6cd:function(e,t,n){},b468:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fragment"},[n("computer",{attrs:{dialog:"",dialogIcon:e.dialogIcon,dialogName:e.dialogName,filter:["directory"],lock:e.showConfirmReplace,parent:e.parent},on:{close:e.cancel,change:e.setPath},scopedSlots:e._u([{key:"footer",fn:function(){return[n("div",{staticClass:"form-control"},[n("label",[e._v(e._s(e.$t("file-name"))+":")]),n("winui-textbox",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveFile(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("div",{staticClass:"form-control"},[n("label",[e._v(e._s(e.$t("save-as"))+":")]),n("winui-dropdown",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.fileTypes,(function(t,o){return n("option",{key:o,domProps:{value:o}},[e._v(" "+e._s(e.fileTypes[o])+" ")])})),0)],1),n("div",{staticClass:"buttons"},[n("winui-button",{staticClass:"default",attrs:{disabled:!e.canSave},on:{click:function(t){return t.stopPropagation(),e.saveFile(t)}}},[e._v(" "+e._s(e.$t("save"))+" ")]),n("winui-button",{on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)]},proxy:!0}])}),e.showConfirmReplace?n("confirm-replace",{attrs:{title:e.$t(e.dialogName)},on:{yes:function(){return e.save(!0)},no:e.toggleConfirmReplace}}):e._e()],1)},r=[],i=n("4cca"),l=n("13a7"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("core-message",{attrs:{noPreTag:"",type:"warning",title:e.title},on:{close:function(t){return e.$emit("no")}},scopedSlots:e._u([{key:"footer",fn:function(){return[n("winui-button",{on:{click:function(t){return e.$emit("yes")}}},[e._v(" "+e._s(e.$t("yes"))+" ")]),n("winui-button",{staticClass:"default",on:{click:function(t){return e.$emit("no")}}},[e._v(" "+e._s(e.$t("no"))+" ")])]},proxy:!0}])},[n("div",{staticClass:"ml-3"},[e._v(" "+e._s(e.$t("filename-exist"))+" "+e._s(e.$t("confirm-replace"))+" ")])])},s=[],c=n("3f55"),u={components:{CoreMessage:c["a"]},props:{title:String}},d=u,h=n("2877"),f=Object(h["a"])(d,a,s,!1,null,"809e4614",null),m=f.exports,g=n("04a5"),p=n("01b4"),w=n("0fbc"),y=n("f106"),v=n("2f62"),b=n("0e9a"),C=n("e302"),E={components:{Computer:l["default"],ConfirmReplace:m},props:{parent:String,dialogIcon:String,dialogName:String,fileName:String,fileTypes:Object,content:[String,Object,HTMLCanvasElement,ArrayBuffer],parse:Function},data(){return{type:Object.keys(this.fileTypes)[0],name:Object(b["r"])(this.fileName).name,path:null,showConfirmReplace:!1}},computed:{...Object(v["d"])(["user","desktopPath"]),canSave(){return this.path&&this.name},fullName(){return this.name+"."+this.type}},methods:{setPath(e){this.path=e},saveFile(){return this.save()},async save(e=!1){if(!this.canSave)return;const t=this.content,{path:n,fullName:o}=this,r=`${n}/${o}`;let l=null;l=this.parse?this.parse(this.type):t instanceof HTMLCanvasElement?await Object(w["f"])(t,"image/"+this.type):t;try{if(n===this.desktopPath)await this.$store.dispatch(p["a"].ShortcutAdd,{lbl:o,key:Object(i["b"])(o),icon:Object(i["e"])(o),data:l,type:"file",overwrite:e});else{const t=await y["a"].isExisting(r,n);if(t&&!e)throw new Error(g["a"].NAME_EXISTS);await y["a"].write(l,r)}this.$emit("done",{name:o,path:r})}catch(a){const e=a.message||a;e===g["a"].NAME_EXISTS?this.toggleConfirmReplace():Object(C["l"])(e)}},cancel(){this.$emit("cancel")},toggleConfirmReplace(){this.showConfirmReplace=!this.showConfirmReplace}}},S=E,x=(n("6a8a4"),Object(h["a"])(S,o,r,!1,null,"492c89cc",null));t["a"]=x.exports}}]);