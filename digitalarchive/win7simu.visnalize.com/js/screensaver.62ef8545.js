(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["screensaver"],{"0368":function(e,t,n){},"10dc":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("drag-resize",{class:["window-wrapper",{minimized:e.minimized},{maximized:e.maximized}],attrs:{dragHandle:".title",id:e.id?e.id+"-wrapper":null,active:e.active,draggable:e.draggable,resizable:e.allowResize,minWidth:320,minHeight:240,w:e.width,h:e.height,x:e.x,y:e.y,z:e.z,onResize:e.resize,onDrag:e.handleDrag},on:{"update:active":function(t){e.active=t},dragstop:e.handleDragStop},nativeOn:{mousedown:function(t){return e.focus(t)}}},[n("pose-window",{class:["window",{changing:e.changing},{minimized:e.minimized},{maximized:e.maximized},{active:e.active},{"animated skewIn faster":e.mounted},{"auto-w":e.autoW},{"auto-h":e.autoH}],attrs:{id:e.id,pose:e.minimized?"minimized":"visible",offsetX:e.offsetX,offsetY:e.offsetY},on:{poseComplete:e.handlePoseComplete}},[e._t("default")],2),e.lock?n("overlay",{style:{zIndex:9999}}):e._e()],1)},o=[],r=n("37b6"),a=n("fb19"),s=n.n(a),l=n("6792"),c=n("5097"),u=n("01b4"),d=n("2ea7"),h=n("2f62"),f=n("95d1"),m={props:{id:String,lock:Boolean,parent:String,w:{type:[Number,String],default:400},h:{type:[Number,String],default:300},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},centered:{type:Boolean,default:!1},location:{type:String,default:"top left",validator(e){return["center","top left","top right","bottom left","bottom right"].indexOf(e)>-1}}},data(){const{windows:e}=this.$store.state,t=this.getWindow(e);return{z:t.index,maximized:t.maximized,minimized:t.minimized,active:t.index===e.length,unsubscribe:null,changing:!1,mounted:!1,x:0,y:0,offsetX:0,offsetY:0,width:this.w,height:this.h}},computed:{...Object(h["c"])(["isRtl"]),allowResize(){return!this.maximized&&this.resizable},autoW(){return"auto"===this.w},autoH(){return"auto"===this.h}},watch:{maximized(e){e?(this.offsetX=0,this.$emit("resize","full","full")):this.$emit("resize",this.width,this.height)},minimized(e){this.active=!e,this.changing=!0},lock(e){this.$store.commit(u["a"].WindowUpdate,{id:this.getId(),locked:e})},location:{immediate:!0,handler(e){let t=window.innerWidth-this.width;t=this.isRtl?-t:t;const n=this.$root.$el.querySelector("#taskbar"),i=n?n.offsetHeight:0,o=window.innerHeight-this.height-i,r={left:0,right:t,center:t/2},a={top:0,bottom:o,center:o/2};if(this.centered||"center"===e)this.x=r.center,this.y=a.center;else{const[t,n]=e.split(" ");this.x=r[n],this.y=a[t]}}}},mounted(){this.calcOffset(this.x,this.w),this.mounted=!0,setTimeout(()=>this.mounted=!1,r["a"]),this.unsubscribe=this.$store.subscribe((e,t)=>{if(!e.type.includes("Window"))return;const n=this.getWindow(t.windows);this.z=n.index,this.active=n.index===t.windows.length,this.maximized=n.maximized,this.minimized=n.minimized}),d["a"].scope(this.getId()),d["a"].on("alt+up",()=>this.bindState("maximized"),"Maximize window",this.getId()),d["a"].on("alt+down",()=>this.bindState("minimized"),"Minimize window",this.getId()),d["a"].on("alt+left",()=>this.dock("left"),"Maximize to the left side",this.getId()),d["a"].on("alt+right",()=>this.dock("right"),"Maximize to the right side",this.getId()),d["a"].on("alt+4",()=>this.close(),"Close window",this.getId())},destroyed(){this.unsubscribe(),d["a"].deleteScope(this.getId())},methods:{getId(){return this.id?this.id.split("-")[1]:"dialog"},async calcOffset(e,t){var n;await this.$nextTick();const i=`[data-target="${this.getId()}"]`,o=null===(n=this.$root.$el.querySelector(i))||void 0===n?void 0:n.getBoundingClientRect();if(!o||this.isRtl)this.offsetX=0,this.offsetY=0;else{const{top:n,height:i}=this.$el.getBoundingClientRect(),r=o.x+o.width/2,a=o.y-(n+i/2);this.offsetX=r-(e+t/2),this.offsetY=Math.max(a,50)}},getDefaultSetting(){return{index:99,maximized:!1,minimized:!1,locked:!1}},getWindow(e){const t=e.find(e=>e.id===(this.parent||this.getId()));return this.parent?{...this.getDefaultSetting(),index:t.index}:t||this.getDefaultSetting()},setWindowState(e){this.$store.commit(u["a"].WindowUpdate,{id:this.getId(),...e})},bindState(e){"maximized"===e&&(this.minimized?this.setWindowState({minimized:!1}):this.setWindowState({maximized:!0})),"minimized"===e&&(this.maximized?this.setWindowState({maximized:!1}):this.setWindowState({minimized:!0}))},handleDrag(){this.maximized&&this.setWindowState({maximized:!1})},handleDragStop(e){this.calcOffset(e,this.w)},handlePoseComplete(){this.changing=!1},focus(){this.$store.commit(u["a"].WindowFocus,this.getId()),this.active=!this.minimized,this.lock&&this.$emit("ting"),d["a"].scope(this.getId())},resize(e,t,n,i,o){this.calcOffset(t,i),this.$emit("resize",i,o),this.width=i,this.height=o},dock(e){this.maximized&&this.setWindowState({maximized:!1});const t=this.$root.$el.querySelector("#taskbar"),n=t?t.offsetHeight:0;this.x="left"===e?0:window.innerWidth/2,this.y=0,this.width=window.innerWidth/2,this.height=window.innerHeight-n},close(){const e=this.getId();"dialog"!==e&&this.$root.$emit(l["c"].CloseWindow,this.getId())}},components:{DragResize:s.a,Overlay:c["a"],PoseWindow:f["a"].div({visible:{opacity:1,scale:1,x:0,y:0,transition:{opacity:{duration:400}},applyAtStart:{display:""}},minimized:{opacity:0,scale:.6,x:({offsetX:e})=>e,y:({offsetY:e})=>e,transition:{opacity:{duration:200}},applyAtEnd:{display:"none"}}})}},g=m,p=(n("9cbc"),n("2877")),v=Object(p["a"])(g,i,o,!1,null,null,null);t["a"]=v.exports},2620:function(e,t,n){},"3af2":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isWin3?n("div",[n("div",{staticClass:"control",attrs:{"aria-label":"close","data-test-control":"close"},on:{click:function(t){return t.stopPropagation(),e.handleClose(t)}}},[n("i",{staticClass:"fa fa-minus"})]),n("div",{staticClass:"controls"},[e.hideMinimize?e._e():n("div",{class:["control",{disabled:e.disableMinimize}],attrs:{"aria-label":"minimize","data-test-control":"minimize"},on:{click:e.handleMinimize}},[n("i",{staticClass:"fa fa-caret-down"})]),e.hideMaximize?e._e():n("div",{class:["control",{disabled:e.disableMaximize}],attrs:{"aria-label":"maximize","data-test-control":"maximize"},on:{click:e.handleMaximize}},[n("i",{staticClass:"fa fa-caret-up"})])])]):n("div",{staticClass:"controls"},[e.hideMinimize?e._e():n("div",{class:["control",{disabled:e.disableMinimize}],attrs:{"aria-label":"minimize","data-test-control":"minimize"},on:{click:e.handleMinimize}},[e.isWinX?n("i",{staticClass:"la las la-minus"}):n("img",{staticClass:"mt-2 w-3.5",attrs:{src:e.control.minimize}})]),e.hideMaximize?e._e():n("div",{class:["control",{disabled:e.disableMaximize}],attrs:{"aria-label":"maximize","data-test-control":"maximize"},on:{click:e.handleMaximize}},[e.isWinX?n("i",{staticClass:"la las la-stop"}):n("img",{staticClass:"w-3.5",attrs:{src:e.control.maximize}})]),n("div",{staticClass:"control",attrs:{"aria-label":"close","data-test-control":"close"},on:{click:function(t){return t.stopPropagation(),e.handleClose(t)}}},[e.isWinX?n("i",{staticClass:"la las la-times"}):n("img",{staticClass:"w-3.5",attrs:{src:e.control.close}})])])},o=[],r=n("6792"),a=n("01b4"),s=n("2f62");const l={minimize:"data:image/svg+xml;charset=utf-8,%3Csvg width='7' height='2' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M0 0h6v2H0z'/%3E%3C/svg%3E",maximize:"data:image/svg+xml;charset=utf-8,%3Csvg width='9' height='9' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M9 0H0v9h9V0zM8 2H1v6h7V2z' fill-rule='evenodd' clip-rule='evenodd' /%3E%3C/svg%3E",close:"data:image/svg+xml;charset=utf-8,%3Csvg width='8' height='7' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M0 0h2v1h1v1h2V1h1V0h2v1H7v1H6v1H5v1h1v1h1v1h1v1H6V6H5V5H3v1H2v1H0V6h1V5h1V4h1V3H2V2H1V1H0V0z' fill-rule='evenodd' clip-rule='evenodd' /%3E%3C/svg%3E"},c={minimize:"data:image/svg+xml;charset=utf-8,%3Csvg width='9' height='2' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M0 0h6v2H0z'/%3E%3C/svg%3E",maximize:"data:image/svg+xml;charset=utf-8,%3Csvg width='9' height='9' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M9 0H0v9h9V0zM8 2H1v6h7V2z' fill-rule='evenodd' clip-rule='evenodd' /%3E%3C/svg%3E",close:"data:image/svg+xml;charset=utf-8,%3Csvg width='8' height='7' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M0 0h2v1h1v1h2V1h1V0h2v1H7v1H6v1H5v1h1v1h1v1h1v1H6V6H5V5H3v1H2v1H0V6h1V5h1V4h1V3H2V2H1V1H0V0z' fill-rule='evenodd' clip-rule='evenodd' /%3E%3C/svg%3E"},u={minimize:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='12' height='5' fill='none' viewBox='0 0 12 5'%3e%3cpath fill='url(%23a)' d='M0 0h12v5H0z'/%3e%3cdefs%3e%3cpattern id='a' width='1' height='1' patternContentUnits='objectBoundingBox'%3e%3cuse xlink:href='%23b' transform='scale(.08333 .2)'/%3e%3c/pattern%3e%3cimage xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAAwAAAAFCAYAAABxeg0vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA7SURBVHgBlY%2bxDQAgDMNaiQ9B8AHcxAlI/NYtKwj6QOohUzxYc%2b1HAqQ3e03qXNpwwcyE5QsAaEGjDRf8ZAza6Bz6VQAAAABJRU5ErkJggg==' id='b' width='12' height='5' /%3e%3c/defs%3e%3c/svg%3e",maximize:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='15' fill='none' viewBox='0 0 17 15'%3e%3cpath fill='url(%23a)' d='M0 0h17v15H0z'/%3e%3cdefs%3e%3cpattern id='a' width='1' height='1' patternContentUnits='objectBoundingBox'%3e%3cuse xlink:href='%23b' transform='matrix(.08824 0 0 .1 -.03 0)'/%3e%3c/pattern%3e%3cimage xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABsSURBVHgBlZHBCYAwDEVT6YaKbqArOILgBLqBosP1VkhAaQ6S1lKad%2bihPy8kxLT9%2bIACG57r2KqKu2GCBpTYtEMOOQELzrnv4z53I4vDjjJnwXsPJWTOAiJGHVNB5pGwLjPk%2bAlEBLUY7eFebCosBHOR7vYAAAAASUVORK5CYII=' id='b' width='12' height='10' /%3e%3c/defs%3e%3c/svg%3e",close:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='14' height='13' fill='none' viewBox='0 0 14 13'%3e%3cpath fill='url(%23a)' d='M0 0h14v13H0z'/%3e%3cdefs%3e%3cpattern id='a' width='1' height='1' patternContentUnits='objectBoundingBox'%3e%3cuse xlink:href='%23b' transform='matrix(.09286 0 0 .1 -.01 0)'/%3e%3c/pattern%3e%3cimage xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACUSURBVHgBlZFNCoQwDIVbmRvOMHOAAd0K/uDGlYKiCG4VPICi9yu0oCSQoFUXFtKEl6%2bvoZXvr7sKay1TL690FOexY%2bHz87i2decOuDKQsNGVe8AGYTRJIh0Y%2borBvxszCPllOymlxN06jNE26Qnwg4zdHQLrMhFaawwAqAadDPE1ijwUxhiMKCmxCZk06OMYTz5lAx3xWDeXkLNAAAAAAElFTkSuQmCC' id='b' width='11' height='10' /%3e%3c/defs%3e%3c/svg%3e"},d={win95:l,win2k:l,winLS:c,winLP:c,"basic-2":l,"basic-4":l,winxp:c,winxpE:c,winxpG:c,winxpN:c,winxpR:c,winxpS:c,winxpZ:c,default:u};var h=d,f={props:{controlTheme:String,hideMaximize:Boolean,hideMinimize:Boolean,maximize:Function,minimize:Function,close:Function,disableMinimize:Boolean,disableMaximize:Boolean,asDecoration:Boolean},data(){return{id:null}},computed:{...Object(s["d"])(["theme","windows"]),isWin3(){return"win31"===this.theme},isWinX(){return["win8","win81","win10","win11","win11dark","chromeos","kubuntu","ubuntu"].includes(this.theme)},control(){const e=this.controlTheme||this.theme;return h[e]||h.default}},mounted(){this.id=this.$el.closest(".window").id.split("-")[1]},methods:{getWindow(){return this.windows.find(e=>e.id===this.id)},handleMinimize(){if(this.asDecoration||this.disableMinimize)return;if(this.minimize)return this.minimize();const{minimized:e}=this.getWindow(),{id:t}=this;this.$store.commit(a["a"].WindowUpdate,{id:t,minimized:!e})},handleMaximize(){if(this.asDecoration||this.disableMaximize)return;if(this.maximize)return this.maximize();const{maximized:e}=this.getWindow(),{id:t}=this;this.$store.commit(a["a"].WindowUpdate,{id:t,maximized:!e})},handleClose(){this.asDecoration||(this.close?this.close():this.$root.$emit(r["c"].CloseWindow,this.id))}}},m=f,g=(n("d78f"),n("2877")),p=Object(g["a"])(m,i,o,!1,null,"27b9ddf6",null);t["a"]=p.exports},5128:function(e,t,n){},6210:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"titlebar"},[n("div",{class:["title",{"has-icon":!!e.icon}],style:e.style,attrs:{"data-icon":e.id,"data-test-window-title":""},domProps:{innerHTML:e._s(e.title||"&nbsp;")}}),e._t("default")],2)},o=[],r=n("0f35"),a=n("2f62"),s={props:{title:String,icon:String},data(){return{id:null}},computed:{...Object(a["c"])(["themeData"]),titleIcon(){const{icon:e,themeData:t}=this;return Object(r["g"])(e)||Object(r["f"])(e)?e:t.icon[e]||null},style(){return this.titleIcon?{"--icon":`url('${this.titleIcon}')`}:null}},mounted(){this.id=this.$el.closest(".window").id.split("-")[1]}},l=s,c=(n("9eef"),n("2877")),u=Object(c["a"])(l,i,o,!1,null,"7ea83bba",null);t["a"]=u.exports},"6e30":function(e,t,n){},"6fa4":function(e,t,n){"use strict";function i(e=null){return e=e||(()=>{}),{None:{value:null,label:"("+e("none")+")"},Blank:{value:"blank",label:e("blank")},Bubbles:{value:"bubbles",label:e("bubbles")},Pictures:{value:"pictures",label:e("pictures")}}}n.d(t,"a",(function(){return i}))},"6fb2":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"screensaver",attrs:{"data-test-screensaver":""},on:{mousemove:e.cancel,touchmove:e.cancel}})},o=[],r=n("6792");class a{constructor(e){const t=document.createElement("div");t.style.backgroundColor="black",t.style.width="100%",t.style.height="100%",e.append(t),this.div=t}destroy(){this.div.remove()}}function s(e,t){const n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y),o=Math.sqrt(n*n+i*i);return o<e.size}function l(e,t){const n={x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.x*Math.sin(t)+e.y*Math.cos(t)};return n}function c(e,t){const n=e.velocity.x-t.velocity.x,i=e.velocity.y-t.velocity.y,o=t.x-e.x,r=t.y-e.y;if(n*o+i*r>=0){const n=-Math.atan2(t.y-e.y,t.x-e.x),i=1,o=1,r=l(e.velocity,n),a=l(t.velocity,n),s={x:r.x*(i-o)/(i+o)+2*a.x*o/(i+o),y:r.y},c={x:a.x*(i-o)/(i+o)+2*r.x*o/(i+o),y:a.y},u=l(s,-n),d=l(c,-n);e.velocity.x=u.x,e.velocity.y=u.y,t.velocity.x=d.x,t.velocity.y=d.y}}var u=n("b6f9"),d=n.n(u),h=n("5bef"),f=n.n(h);function m(e){return new t(e);function t(e){let n=this;n.canvas=document.createElement("canvas");let i=n.canvas.getContext("2d");n.width=100,n.height=100,n.canvas.width=n.width,n.canvas.height=n.height,e&&e.append(n.canvas),v(),n.MAGIC=161533525,n.RGB=0,n.HSV=1,n.HSB=1,n.CHORD=0,n.PIE=1,n.OPEN=2,n.RADIUS=1,n.CORNER=2,n.CORNERS=3,n.ROUND="round",n.SQUARE="butt",n.PROJECT="square",n.MITER="miter",n.BEVEL="bevel",n.CLOSE=1,n.BLEND="source-over",n.REMOVE="destination-out",n.ADD="lighter",n.DARKEST="darken",n.LIGHTEST="lighten",n.DIFFERENCE="difference",n.SUBTRACT="subtract",n.EXCLUSION="exclusion",n.MULTIPLY="multiply",n.SCREEN="screen",n.REPLACE="copy",n.OVERLAY="overlay",n.HARD_LIGHT="hard-light",n.SOFT_LIGHT="soft-light",n.DODGE="color-dodge",n.BURN="color-burn",n.NORMAL="normal",n.ITALIC="italic",n.BOLD="bold",n.BOLDITALIC="italic bold",n.CENTER="center",n.LEFT="left",n.RIGHT="right",n.TOP="top",n.BOTTOM="bottom",n.BASELINE="alphabetic",n.LANDSCAPE="landscape",n.PORTRAIT="portrait",n.ALT=18,n.BACKSPACE=8,n.CONTROL=17,n.DELETE=46,n.DOWN_ARROW=40,n.ENTER=13,n.ESCAPE=27,n.LEFT_ARROW=37,n.OPTION=18,n.RETURN=13,n.RIGHT_ARROW=39,n.SHIFT=16,n.TAB=9,n.UP_ARROW=38,n.HALF_PI=Math.PI/2,n.PI=Math.PI,n.QUARTER_PI=Math.PI/4,n.TAU=2*Math.PI,n.TWO_PI=2*Math.PI,n.THRESHOLD=1,n.GRAY=2,n.OPAQUE=3,n.INVERT=4,n.POSTERIZE=5,n.DILATE=6,n.ERODE=7,n.BLUR=8,n.ARROW="default",n.CROSS="crosshair",n.HAND="pointer",n.MOVE="move",n.TEXT="text",n.VIDEO={video:!0,audio:!1},n.AUDIO={video:!1,audio:!0},n.SHR3=1,n.LCG=2,n.HARDWARE_FILTERS=!0,n.hint=function(e,t){n[e]=t},n.frameCount=0,n.mouseX=0,n.mouseY=0,n.pmouseX=0,n.pmouseY=0,n.mouseButton=null,n.keyIsPressed=!1,n.mouseIsPressed=!1,n.key=null,n.keyCode=null,n.pixels=null,n.accelerationX=0,n.accelerationY=0,n.accelerationZ=0,n.rotationX=0,n.rotationY=0,n.rotationZ=0,n.relRotationX=0,n.relRotationY=0,n.relRotationZ=0,n.pAccelerationX=0,n.pAccelerationY=0,n.pAccelerationZ=0,n.pRotationX=0,n.pRotationY=0,n.pRotationZ=0,n.pRelRotationX=0,n.pRelRotationY=0,n.pRelRotationZ=0,n.touches=[],n._colorMode=n.RGB,n._noStroke=!1,n._noFill=!1,n._ellipseMode=n.CENTER,n._rectMode=n.CORNER,n._curveDetail=20,n._curveAlpha=0,n._noLoop=!1,n._textFont="sans-serif",n._textSize=12,n._textLeading=12,n._textStyle="normal",n._pixelDensity=1,n._frameRate=null,n._tint=null;let o=null,r=!0,a=[],s=null,l=0,c={},u=0,d=null,h=null,f=null;Object.defineProperty(n,"deviceOrientation",{get:function(){return 90==Math.abs(window.orientation)?n.LANDSCAPE:n.PORTRAIT}}),Object.defineProperty(n,"windowWidth",{get:function(){return window.innerWidth}}),Object.defineProperty(n,"windowHeight",{get:function(){return window.innerHeight}}),Object.defineProperty(n,"drawingContext",{get:function(){return i}}),n.createCanvas=function(e,t){n.width=e,n.height=t,n.canvas.width=e,n.canvas.height=t,v()},n.resizeCanvas=function(e,t){n.width=e,n.height=t,n.canvas.width=e,n.canvas.height=t},n.createGraphics=n.createImage=function(e,n){let i=new t;return i.createCanvas(e,n),i.noLoop(),i},n.pixelDensity=function(e){return void 0==e||(n._pixelDensity=e,n.canvas.width=Math.ceil(n.width*e),n.canvas.height=Math.ceil(n.height*e),n.canvas.style.width=n.width+"px",n.canvas.style.height=n.height+"px",i.scale(n._pixelDensity,n._pixelDensity),v()),n._pixelDensity},n.map=function(e,t,n,i,o,r){let a=i+1*(e-t)/(n-t)*(o-i);return r?i<o?Math.min(Math.max(a,i),o):Math.min(Math.max(a,o),i):a},n.lerp=function(e,t,n){return e*(1-n)+t*n},n.constrain=function(e,t,n){return Math.min(Math.max(e,t),n)},n.dist=function(){return 4==arguments.length?Math.hypot(arguments[0]-arguments[2],arguments[1]-arguments[3]):Math.hypot(arguments[0]-arguments[3],arguments[1]-arguments[4],arguments[2]-arguments[5])},n.norm=function(e,t,i){return n.map(e,t,i,0,1)},n.sq=function(e){return e*e},n.fract=function(e){return e-Math.floor(e)},n.degrees=function(e){return 180*e/Math.PI},n.radians=function(e){return e*Math.PI/180},n.abs=Math.abs,n.ceil=Math.ceil,n.exp=Math.exp,n.floor=Math.floor,n.log=Math.log,n.mag=Math.hypot,n.max=Math.max,n.min=Math.min,n.round=Math.round,n.sqrt=Math.sqrt,n.sin=Math.sin,n.cos=Math.cos,n.tan=Math.tan,n.asin=Math.asin,n.acos=Math.acos,n.atan=Math.atan,n.atan2=Math.atan2,n.Vector=function(e,t,i){let o=this;o.x=e||0,o.y=t||0,o.z=i||0;let r=null,a=null;function s(e,t,n){return void 0!=e.x?e:void 0!=t?{x:e,y:t,z:n||0}:{x:e,y:e,z:e}}function l(){null==a&&(a=o.x*o.x+o.y*o.y+o.z*o.z,r=Math.sqrt(a))}function c(){a=null,r=null}o.set=function(e,t,n){o.x=e||0,o.y=t||0,o.z=n||0},o.copy=function(){return new n.Vector(o.x,o.y,o.z)},o.add=function(){let e=s.apply(null,arguments);return o.x+=e.x,o.y+=e.y,o.z+=e.z,c(),o},o.rem=function(){let e=s.apply(null,arguments);return o.x%=e.x,o.y%=e.y,o.z%=e.z,c(),o},o.sub=function(){let e=s.apply(null,arguments);return o.x-=e.x,o.y-=e.y,o.z-=e.z,c(),o},o.mult=function(){let e=s.apply(null,arguments);return o.x*=e.x,o.y*=e.y,o.z*=e.z,c(),o},o.div=function(){let e=s.apply(null,arguments);return o.x/=e.x,o.y/=e.y,o.z/=e.z,c(),o},o.mag=function(){return l(),r},o.magSq=function(){return l(),a},o.dot=function(){let e=s.apply(null,arguments);return o.x*e.x+o.y*e.y+o.z*e.z},o.dist=function(){let e=s.apply(null,arguments),t=o.x-e.x,n=o.y-e.y,i=o.z-e.z;return Math.sqrt(t*t+n*n+i*i)},o.cross=function(){let e=s.apply(null,arguments),t=o.y*e.z-o.z*e.y,n=o.z*e.x-o.x*e.z,i=o.x*e.y-o.y*e.x;return o.x=t,o.y=n,o.z=i,c(),o},o.normalize=function(){l();let e=r;return o.x/=e,o.y/=e,o.z/=e,r=1,a=1,o},o.limit=function(e){l();let t=r;if(t>e){let n=e/t;o.x*=n,o.y*=n,o.z*=n,r=e,a=e*e}return o},o.setMag=function(e){l();let t=r,n=e/t;return o.x*=n,o.y*=n,o.z*=n,r=e,a=e*e,o},o.heading=function(){return Math.atan2(o.y,o.x)},o.rotate=function(e){let t=Math.cos(e),n=Math.sin(e),i=o.x*t-o.y*n,r=o.x*n+o.y*t;return o.x=i,o.y=r,o},o.angleBetween=function(){let e=s.apply(null,arguments);const t=o.dot(e)/(o.mag()*e.mag());let n;return n=Math.acos(Math.min(1,Math.max(-1,t))),n*=Math.sign(o.cross(e).z||1),n},o.lerp=function(e,t){return o.x=o.x*(1-t)+e.x*t,o.y=o.y*(1-t)+e.y*t,o.z=o.z*(1-t)+e.z*t,c(),o},o.reflect=function(e){return e.normalize(),o.sub(e.mult(2*o.dot(e)))},o.array=function(){return[o.x,o.y,o.z]},o.equals=function(e,t){return void 0==t&&(t=Number.EPSILON,void 0==t&&(t=0)),Math.abs(e.x-o.x)<t&&Math.abs(e.y-o.y)<t&&Math.abs(e.z-o.z)<t},o.fromAngle=function(e,t){return void 0==t&&(t=1),r=t,a=t*t,o.x=t*Math.cos(e),o.y=t*Math.sin(e),o.z=0,o},o.fromAngles=function(e,t,n){void 0==n&&(n=1),r=n,a=n*n;const i=Math.cos(t),s=Math.sin(t),l=Math.cos(e),c=Math.sin(e);return o.x=n*c*s,o.y=-n*l,o.z=n*c*i,o},o.random2D=function(){return r=1,a=1,o.fromAngle(Math.random()*Math.PI*2)},o.random3D=function(){return r=1,a=1,o.fromAngles(Math.random()*Math.PI*2,Math.random()*Math.PI*2)},o.toString=function(){return`[${o.x}, ${o.y}, ${o.z}]`}},n.Vector.add=function(e,t){return new n.Vector(e.x+t.x,e.y+t.y,e.z+t.z)},n.Vector.rem=function(e,t){return new n.Vector(e.x%t.x,e.y%t.y,e.z%t.z)},n.Vector.sub=function(e,t){return new n.Vector(e.x-t.x,e.y-t.y,e.z-t.z)},n.Vector.mult=function(e,t){return void 0==t.x?new n.Vector(e.x*t,e.y*t,e.z*t):new n.Vector(e.x*t.x,e.y*t.y,e.z*t.z)},n.Vector.div=function(e,t){return void 0==t.x?new n.Vector(e.x/t,e.y/t,e.z/t):new n.Vector(e.x/t.x,e.y/t.y,e.z/t.z)},n.Vector.dist=function(e,t){return Math.hypot(e.x-t.x,e.y-t.y,e.z-t.z)},n.Vector.cross=function(e,t){return new n.Vector(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x)},n.Vector.lerp=function(e,t,i){return new n.Vector(e.x*(1-i)+t.x*i,e.y=e.y*(1-i)+t.y*i,e.z=e.z*(1-i)+t.z*i)},n.Vector.equals=function(e,t,n){return e.equals(t,n)};for(let t of["fromAngle","fromAngles","random2D","random3D"])n.Vector[t]=function(e,i,o){return(new n.Vector)[t](e,i,o)};function m(e,t,n){let i,o,r,a,s,l,c,u,d;if(0==t)return i=n,o=n,r=n,[255*i,255*o,255*r];switch(a=e,a>360&&(a=0),a/=60,s=~~a,l=a-s,c=n*(1-t),u=n*(1-t*l),d=n*(1-t*(1-l)),s){case 0:i=n,o=d,r=c;break;case 1:i=u,o=n,r=c;break;case 2:i=c,o=n,r=d;break;case 3:i=c,o=u,r=n;break;case 4:i=d,o=c,r=n;break;default:i=n,o=c,r=u;break}return[255*i,255*o,255*r]}function g(e,t,n){let i,o,r,a,s;return i=e<t?e<n?e:n:t<n?t:n,o=e>t?e>n?e:n:t>n?t:n,s=100*o/255,0==s?(r=0,a=0,[r,a,s]):(a=100*(o-i)/o,0==a?(r=0,[r,a,s]):(r=o==e?0+60*(t-n)/(o-i):o==t?120+60*(n-e)/(o-i):240+60*(e-t)/(o-i),[r,a,s]))}function p(e,t,i){var o=[[Math.abs(t-e),n.map(i,0,1,e,t)],[Math.abs(t+360-e),n.map(i,0,1,e,t+360)],[Math.abs(t-360-e),n.map(i,0,1,e,t-360)]];return o.sort((e,t)=>e[0]-t[0]),(o[0][1]+720)%360}function v(){i.fillStyle="white",i.strokeStyle="black",i.lineCap="round",i.lineJoin="miter"}function w(e){if(0<=e&&e<2*Math.PI)return e;while(e<0)e+=2*Math.PI;while(e>=Math.PI)e-=2*Math.PI;return e}function y(e,t,o,r,a,s,l,c){if(n._noFill&&n._noStroke)return;let u=w(a),d=w(s);i.beginPath();for(let h=0;h<c+1;h++){let a=h/c,s=n.lerp(u,d,a),l=Math.cos(s)*o/2,f=Math.sin(s)*r/2;i[h?"lineTo":"moveTo"](e+l,t+f)}l==n.CHORD?i.closePath():l==n.PIE&&(i.lineTo(e,t),i.closePath()),n._noFill||i.fill(),n._noStroke||i.stroke()}function x(e,t,o,r){n._noFill&&n._noStroke||(i.beginPath(),i.ellipse(e,t,o/2,r/2,0,0,2*Math.PI),n._noFill||i.fill(),n._noStroke||i.stroke())}function b(e,t,o,r){n._noFill||i.fillRect(e,t,o,r),n._noStroke||i.strokeRect(e,t,o,r)}function A(e,t,o,r,a,s,l,c){if(n._noFill&&n._noStroke)return;if(void 0==a)return b(e,t,o,r);if(void 0==s)return A(e,t,o,r,a,a,a,a);const u=Math.min(Math.abs(r),Math.abs(o))/2;a=Math.min(u,a),s=Math.min(u,s),c=Math.min(u,c),l=Math.min(u,l),i.beginPath(),i.moveTo(e+a,t),i.arcTo(e+o,t,e+o,t+r,s),i.arcTo(e+o,t+r,e,t+r,l),i.arcTo(e,t+r,e,t,c),i.arcTo(e,t,e+o,t,a),i.closePath(),n._noFill||i.fill(),n._noStroke||i.stroke()}function M(){a=[]}function C(e,t,n,i,o,r,a,s,l,c){function u(e,t,n,i,o,r){let a=Math.pow(i-t,2)+Math.pow(o-n,2),s=Math.pow(a,.5*r);return s+e}let d=[],h=0,f=u(h,e,t,n,i,c),m=u(f,n,i,o,r,c),g=u(m,o,r,a,s,c);for(let p=0;p<l;p++){let c=f+p/(l-1)*(m-f),u=[(f-c)/(f-h),(c-h)/(f-h),(m-c)/(m-f),(c-f)/(m-f),(g-c)/(g-m),(c-m)/(g-m),(m-c)/(m-h),(c-h)/(m-h),(g-c)/(g-f),(c-f)/(g-f)];for(let e=0;e<u.length;e+=2)isNaN(u[e])&&(u[e]=1,u[e+1]=0),isFinite(u[e])||(u[e]>0?(u[e]=1,u[e+1]=0):(u[e]=0,u[e+1]=1));let v=e*u[0]+n*u[1],w=t*u[0]+i*u[1],y=n*u[2]+o*u[3],x=i*u[2]+r*u[3],b=o*u[4]+a*u[5],A=r*u[4]+s*u[5],M=v*u[6]+y*u[7],C=w*u[6]+x*u[7],_=y*u[8]+b*u[9],S=x*u[8]+A*u[9],E=M*u[2]+_*u[3],I=C*u[2]+S*u[3];d.push([E,I])}return d}n.createVector=function(e,t,i){return new n.Vector(e,t,i)},n.curvePoint=function(e,t,n,i,o){const r=o*o*o,a=o*o,s=-.5*r+a-.5*o,l=1.5*r-2.5*a+1,c=-1.5*r+2*a+.5*o,u=.5*r-.5*a;return e*s+t*l+n*c+i*u},n.bezierPoint=function(e,t,n,i,o){const r=1-o;return Math.pow(r,3)*e+3*Math.pow(r,2)*o*t+3*r*Math.pow(o,2)*n+Math.pow(o,3)*i},n.curveTangent=function(e,t,n,i,o){const r=o*o,a=-3*r/2+2*o-.5,s=9*r/2-5*o,l=-9*r/2+4*o+.5,c=3*r/2-o;return e*a+t*s+n*l+i*c},n.bezierTangent=function(e,t,n,i,o){const r=1-o;return 3*i*Math.pow(o,2)-3*n*Math.pow(o,2)+6*n*r*o-6*t*r*o+3*t*Math.pow(r,2)-3*e*Math.pow(r,2)},n.Color=function(e,t,n,i){let o=this;o.MAGIC=786698,o._r=e,o._g=t,o._b=n,o._a=i,o._h=0,o._s=0,o._v=0,o._hsvInferred=!1,o.setRed=function(e){o._r=e,o._hsvInferred=!1},o.setGreen=function(e){o._g=e,o._hsvInferred=!1},o.setBlue=function(e){o._b=e,o._hsvInferred=!1},o.setAlpha=function(e){o._a=e/255,o._hsvInferred=!1},o._inferHSV=function(){o._hsvInferred||([o._h,o._s,o._v]=g(o._r,o._g,o._b),o._hsvInferred=!0)},o.toString=function(){return`rgba(${Math.round(o._r)},${Math.round(o._g)},${Math.round(o._b)},${~~(1e3*o._a)/1e3})`}},n.colorMode=function(e){n._colorMode=e},n.color=function(){if(1==arguments.length&&786698==arguments[0].MAGIC)return arguments[0];if(n._colorMode==n.RGB){if(1==arguments.length)return new n.Color(arguments[0],arguments[0],arguments[0],1);if(2==arguments.length)return new n.Color(arguments[0],arguments[0],arguments[0],arguments[1]/255);if(3==arguments.length)return new n.Color(arguments[0],arguments[1],arguments[2],1);if(4==arguments.length)return new n.Color(arguments[0],arguments[1],arguments[2],arguments[3]/255)}else{if(1==arguments.length)return new n.Color(...m(0,0,arguments[0]/100),1);if(2==arguments.length)return new n.Color(...m(0,0,arguments[0]/100),arguments[1]/255);if(3==arguments.length)return new n.Color(...m(arguments[0],arguments[1]/100,arguments[2]/100),1);if(4==arguments.length)return new n.Color(...m(arguments[0],arguments[1]/100,arguments[2]/100),arguments[3])}return null},n.red=function(e){return e._r},n.green=function(e){return e._g},n.blue=function(e){return e._b},n.alpha=function(e){return 255*e._a},n.hue=function(e){return e._inferHSV(),e._h},n.saturation=function(e){return e._inferHSV(),e._s},n.brightness=function(e){return e._inferHSV(),e._v},n.lightness=function(e){return 100*(.2126*e._r+.7152*e._g+.0722*e._b)/255},n.lerpColor=function(e,t,i){return n._colorMode==n.RGB?new n.Color(n.constrain(n.lerp(e._r,t._r,i),0,255),n.constrain(n.lerp(e._g,t._g,i),0,255),n.constrain(n.lerp(e._b,t._b,i),0,255),n.constrain(n.lerp(e._a,t._a,i),0,1)):(e._inferHSV(),t._inferHSV(),new n.Color(n.constrain(p(e._h,t._h,i),0,360),n.constrain(n.lerp(e._s,t._s,i),0,100),n.constrain(n.lerp(e._v,t._v,i),0,100),n.constrain(n.lerp(e._a,t._a,i),0,1)))},n.strokeWeight=function(e){n._noStroke=!1,i.lineWidth=e},n.stroke=function(){if(n._noStroke=!1,"string"==typeof arguments[0])return void(i.strokeStyle=arguments[0]);let e=n.color.apply(null,arguments);e._a<=0?n._noStroke=!0:i.strokeStyle=e},n.noStroke=function(){n._noStroke=!0},n.fill=function(){if(n._noFill=!1,"string"==typeof arguments[0])return void(i.fillStyle=arguments[0]);let e=n.color.apply(null,arguments);e._a<=0?n._noFill=!0:i.fillStyle=e},n.noFill=function(){n._noFill=!0},n.blendMode=function(e){i.globalCompositeOperation=e},n.strokeCap=function(e){i.lineCap=e},n.strokeJoin=function(e){i.lineJoin=e},n.ellipseMode=function(e){n._ellipseMode=e},n.rectMode=function(e){n._rectMode=e},n.curveDetail=function(e){n._curveDetail=e},n.curveAlpha=function(e){n._curveAlpha=e},n.curveTightness=function(e){n._curveAlpha=e},n.clear=function(){i.clearRect(0,0,n.width,n.height)},n.background=function(){if(arguments[0]&&arguments[0].MAGIC==n.MAGIC)return n.image(arguments[0],0,0,n.width,n.height);i.save(),i.resetTransform(),i.fillStyle="string"==typeof arguments[0]?arguments[0]:n.color(...Array.from(arguments)),i.fillRect(0,0,n.width,n.height),i.restore()},n.line=function(e,t,o,r){n._noStroke||(i.beginPath(),i.moveTo(e,t),i.lineTo(o,r),i.stroke())},n.arc=function(e,t,i,o,r,a,s,l){if(r==a)return n.ellipse(e,t,i,o);void 0==l&&(l=25),void 0==s&&(s=n.PIE),n._ellipseMode==n.CENTER?y(e,t,i,o,r,a,s,l):n._ellipseMode==n.RADIUS?y(e,t,2*i,2*o,r,a,s,l):n._ellipseMode==n.CORNER?y(e+i/2,t+o/2,i,o,r,a,s,l):n._ellipseMode==n.CORNERS&&y((e+i)/2,(t+o)/2,i-e,o-t,r,a,s,l)},n.ellipse=function(e,t,i,o){void 0==o&&(o=i),n._ellipseMode==n.CENTER?x(e,t,i,o):n._ellipseMode==n.RADIUS?x(e,t,2*i,2*o):n._ellipseMode==n.CORNER?x(e+i/2,t+o/2,i,o):n._ellipseMode==n.CORNERS&&x((e+i)/2,(t+o)/2,i-e,o-t)},n.circle=function(e,t,i){return n.ellipse(e,t,i,i)},n.point=function(e,t){e.x&&(t=e.y,e=e.x),i.beginPath(),i.ellipse(e,t,.4,.4,0,0,2*Math.PI),i.stroke()},n.rect=function(e,t,i,o,r,a,s,l){n._rectMode==n.CENTER?A(e-i/2,t-o/2,i,o,r,a,s,l):n._rectMode==n.RADIUS?A(e-i,t-o,2*i,2*o,r,a,s,l):n._rectMode==n.CORNER?A(e,t,i,o,r,a,s,l):n._rectMode==n.CORNERS&&A(e,t,i-e,o-t,r,a,s,l)},n.square=function(e,t,i,o,r,a,s){return n.rect(e,t,i,i,o,r,a,s)},n.beginShape=function(){M(),i.beginPath(),r=!0},n.beginContour=function(){i.closePath(),M(),r=!0},n.endContour=function(){M(),r=!0},n.vertex=function(e,t){M(),r?i.moveTo(e,t):i.lineTo(e,t),r=!1},n.bezierVertex=function(e,t,n,o,r,a){M(),i.bezierCurveTo(e,t,n,o,r,a)},n.quadraticVertex=function(e,t,n,o){M(),i.quadraticCurveTo(e,t,n,o)},n.bezier=function(e,t,i,o,r,a,s,l){n.beginShape(),n.vertex(e,t),n.bezierVertex(i,o,r,a,s,l),n.endShape()},n.triangle=function(e,t,i,o,r,a){n.beginShape(),n.vertex(e,t),n.vertex(i,o),n.vertex(r,a),n.endShape(n.CLOSE)},n.quad=function(e,t,i,o,r,a,s,l){n.beginShape(),n.vertex(e,t),n.vertex(i,o),n.vertex(r,a),n.vertex(s,l),n.endShape(n.CLOSE)},n.endShape=function(e){M(),e&&i.closePath(),n._noFill||i.fill(),n._noStroke||i.stroke(),n._noFill&&n._noStroke&&(i.save(),i.fillStyle="none",i.fill(),i.restore())},n.curveVertex=function(e,t){if(a.push([e,t]),a.length<4)return;let o=a[a.length-4],s=a[a.length-3],l=a[a.length-2],c=a[a.length-1],u=C(...o,...s,...l,...c,n._curveDetail,n._curveAlpha);for(let n=0;n<u.length;n++)r?i.moveTo(...u[n]):i.lineTo(...u[n]),r=!1},n.curve=function(e,t,i,o,r,a,s,l){n.beginShape(),n.curveVertex(e,t),n.curveVertex(i,o),n.curveVertex(r,a),n.curveVertex(s,l),n.endShape()},n.translate=function(e,t){i.translate(e,t)},n.rotate=function(e){i.rotate(e)},n.scale=function(e,t){void 0==t&&(t=e),i.scale(e,t)},n.applyMatrix=function(e,t,n,o,r,a){i.transform(e,t,n,o,r,a)},n.shearX=function(e){i.transform(1,0,Math.tan(e),1,0,0)},n.shearY=function(e){i.transform(1,Math.tan(e),0,1,0,0)},n.resetMatrix=function(){i.resetTransform(),i.scale(n._pixelDensity,n._pixelDensity)},n.pushMatrix=n.push=function(){i.save()},n.popMatrix=n.pop=function(){i.restore()},n.image=function(e,t,o,r,a,s,l,c,u){let d=e.MAGIC==n.MAGIC?e.canvas:e;function f(){if(e.MAGIC!=n.MAGIC||!n._tint)return;let t=e.canvas.getContext("2d");t.save(),t.resetTransform(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(h.canvas,0,0),t.restore()}return e.MAGIC==n.MAGIC&&null!=n._tint&&(E(e.canvas.width,e.canvas.height),h.drawImage(e.canvas,0,0),e.tinted(n._tint)),r?s?(c||(c=d.width),u||(u=d.height),i.drawImage(d,s,l,c,u,t,o,r,a),void f()):(i.drawImage(d,t,o,r,a),void f()):(e.MAGIC==n.MAGIC||e.width?i.drawImage(d,t,o,e.width,e.height):i.drawImage(d,t,o,e.videoWidth,e.videoHeight),void f())},n.loadPixels=function(){s=i.getImageData(0,0,n.canvas.width,n.canvas.height),n.pixels=s.data},n.updatePixels=function(){null!=s&&i.putImageData(s,0,0)},n.loadImage=function(e,t){l++;let i=n.createGraphics(100,100),o=i.canvas.getContext("2d"),r=new Image;return r.src=e,r.onload=function(){o.canvas.width=r.width,o.canvas.height=r.height,i.width=r.width,i.height=r.height,o.drawImage(r,0,0),l--,t&&t(i)},i};let _={};function S(e,t){null==d&&(d=document.createElement("canvas").getContext("2d")),void 0==e&&(e=i.canvas.width,t=i.canvas.height),d.canvas.width==e&&d.canvas.height==t||(d.canvas.width=e,d.canvas.height=t)}function E(e,t){null==h&&(h=document.createElement("canvas").getContext("2d")),void 0==e&&(e=i.canvas.width,t=i.canvas.height),h.canvas.width==e&&h.canvas.height==t||(h.canvas.width=e,h.canvas.height=t)}function I(){let e=i.canvas.width*i.canvas.height*4;null!=f&&e==f.length||(f=new Uint8ClampedArray(e))}function z(e){d.clearRect(0,0,d.canvas.width,d.canvas.height),d.filter=e,d.drawImage(i.canvas,0,0),i.save(),i.resetTransform(),i.clearRect(0,0,i.canvas.width,i.canvas.height),i.drawImage(d.canvas,0,0),i.restore()}_[n.THRESHOLD]=function(e,t){void 0==t?t=127.5:t*=255;for(let n=0;n<e.length;n+=4){const i=.2126*e[n]+.7152*e[n+1]+.0722*e[n+2];e[n]=e[n+1]=e[n+2]=i>=t?255:0}},_[n.GRAY]=function(e){for(let t=0;t<e.length;t+=4){const n=.2126*e[t]+.7152*e[t+1]+.0722*e[t+2];e[t]=e[t+1]=e[t+2]=n}},_[n.OPAQUE]=function(e){for(let t=0;t<e.length;t+=4)e[t+3]=255},_[n.INVERT]=function(e){for(let t=0;t<e.length;t+=4)e[t]=255-e[t],e[t+1]=255-e[t+1],e[t+2]=255-e[t+2]},_[n.POSTERIZE]=function(e,t){let n=t-1;for(let i=0;i<e.length;i+=4)e[i]=255*(e[i]*t>>8)/n,e[i+1]=255*(e[i+1]*t>>8)/n,e[i+2]=255*(e[i+2]*t>>8)/n},_[n.DILATE]=function(e){I(),f.set(e);let[t,n]=[i.canvas.width,i.canvas.height];for(let i=0;i<n;i++)for(let o=0;o<t;o++){let r=4*Math.max(o-1,0),a=4*Math.min(o+1,t-1),s=4*Math.max(i-1,0)*t,l=4*Math.min(i+1,n-1)*t,c=4*i*t,u=4*o;for(let t=0;t<4;t++){let n=t+s,i=t+l,o=t+c;e[c+u+t]=Math.max(f[n+u],f[o+r],f[o+u],f[o+a],f[i+u])}}},_[n.ERODE]=function(e){I(),f.set(e);let[t,n]=[i.canvas.width,i.canvas.height];for(let i=0;i<n;i++)for(let o=0;o<t;o++){let r=4*Math.max(o-1,0),a=4*Math.min(o+1,t-1),s=4*Math.max(i-1,0)*t,l=4*Math.min(i+1,n-1)*t,c=4*i*t,u=4*o;for(let t=0;t<4;t++){let n=t+s,i=t+l,o=t+c;e[c+u+t]=Math.min(f[n+u],f[o+r],f[o+u],f[o+a],f[i+u])}}},_[n.BLUR]=function(e,t){t=t||1,t=Math.floor(t*n._pixelDensity),I(),f.set(e);let o=2*t+1;function r(e){let n=new Float32Array(e),i=.3*t+.8,o=i*i*2;for(let t=0;t<e;t++){let r=t-e/2,a=Math.exp(-r*r/o)/(2.5066282746*i);n[t]=a}return n}let a=r(o),[s,l]=[i.canvas.width,i.canvas.height];for(let n=0;n<l;n++)for(let i=0;i<s;i++){let r=0,l=0,c=0,u=0;for(let e=0;e<o;e++){let o=Math.min(Math.max(i-t+e,0),s-1),d=4*(n*s+o);r+=f[d]*a[e],l+=f[d+1]*a[e],c+=f[d+2]*a[e],u+=f[d+3]*a[e]}let d=4*(n*s+i);e[d]=r,e[d+1]=l,e[d+2]=c,e[d+3]=u}f.set(e);for(let n=0;n<l;n++)for(let i=0;i<s;i++){let r=0,c=0,u=0,d=0;for(let e=0;e<o;e++){let o=Math.min(Math.max(n-t+e,0),l-1),h=4*(o*s+i);r+=f[h]*a[e],c+=f[h+1]*a[e],u+=f[h+2]*a[e],d+=f[h+3]*a[e]}let h=4*(n*s+i);e[h]=r,e[h+1]=c,e[h+2]=u,e[h+3]=d}},n.filter=function(e,t){let o=n.HARDWARE_FILTERS&&void 0!=i.filter;if(o)if(S(),e==n.THRESHOLD){void 0==t&&(t=.5),t=Math.max(t,1e-5);let e=Math.floor(.5/t*100);z(`saturate(0%) brightness(${e}%) contrast(1000000%)`)}else if(e==n.GRAY)z("saturate(0%)");else if(e==n.OPAQUE)d.fillStyle="black",d.fillRect(0,0,d.canvas.width,d.canvas.height),d.drawImage(i.canvas,0,0),i.save(),i.resetTransform(),i.drawImage(d.canvas,0,0),i.restore();else if(e==n.INVERT)z("invert(100%)");else if(e==n.BLUR)z(`blur(${Math.ceil(t*n._pixelDensity/1)||1}px)`);else{let n=i.getImageData(0,0,i.canvas.width,i.canvas.height);_[e](n.data,t),i.putImageData(n,0,0)}else{let n=i.getImageData(0,0,i.canvas.width,i.canvas.height);_[e](n.data,t),i.putImageData(n,0,0)}},n.resize=function(e,t){S(),d.drawImage(i.canvas,0,0),n.width=e,n.height=t,i.canvas.width=e*n._pixelDensity,i.canvas.height=t*n._pixelDensity,i.save(),i.resetTransform(),i.clearRect(0,0,i.canvas.width,i.canvas.height),i.drawImage(d.canvas,0,0,i.canvas.width,i.canvas.height),i.restore()},n.get=function(e,t,o,r){if(void 0!=e&&void 0==o){let o=i.getImageData(e,t,1,1).data;return new n.Color(o[0],o[1],o[2],o[3]/255)}e=e||0,t=t||0,o=o||n.width,r=r||n.height;let a=n.createGraphics(o,r);a.pixelDensity(n._pixelDensity);let s=i.getImageData(e*n._pixelDensity,t*n._pixelDensity,o*n._pixelDensity,r*n._pixelDensity);return a.canvas.getContext("2d").putImageData(s,0,0),a},n.set=function(e,t,o){if(o.MAGIC==n.MAGIC){let i=n._tint;return n._tint=null,n.image(o,e,t),void(n._tint=i)}let r=4*(t*n._pixelDensity*i.canvas.width+e*n._pixelDensity);n.pixels[r]=o._r,n.pixels[r+1]=o._g,n.pixels[r+2]=o._b,n.pixels[r+3]=255*o._a},n.tinted=function(){let e=n.color(...Array.from(arguments)),t=e._a;e._a=1,S(),d.clearRect(0,0,d.canvas.width,d.canvas.height),d.fillStyle=e,d.fillRect(0,0,d.canvas.width,d.canvas.height),d.globalCompositeOperation="multiply",d.drawImage(i.canvas,0,0),d.globalCompositeOperation="source-over",i.save(),i.resetTransform();let o=i.globalCompositeOperation;i.globalCompositeOperation="source-in",i.drawImage(d.canvas,0,0),i.globalCompositeOperation=o,i.restore(),d.globalAlpha=t,d.clearRect(0,0,d.canvas.width,d.canvas.height),d.drawImage(i.canvas,0,0),d.globalAlpha=1,i.save(),i.resetTransform(),i.clearRect(0,0,i.canvas.width,i.canvas.height),i.drawImage(d.canvas,0,0),i.restore()},n.tint=function(){n._tint=n.color(...Array.from(arguments))},n.noTint=function(){n._tint=null},n.mask=function(e){i.save(),i.resetTransform();let t=i.globalCompositeOperation;i.globalCompositeOperation="destination-in",i.drawImage(e.canvas,0,0),i.globalCompositeOperation=t,i.restore()},n.clearTemporaryBuffers=function(){d=null,h=null,f=null},n.save=function(e,t){e=e||"untitled",t=t||"png";var n=document.createElement("a");n.innerHTML="[Download]",n.addEventListener("click",(function(){this.href=i.canvas.toDataURL(),this.download=e+"."+t}),!1),document.body.appendChild(n),n.click(),document.body.removeChild(n)},n.saveCanvas=function(e,t,i){if(e.MAGIC==n.MAGIC){i&&e.save(t,i);let n=t.split(".");return e.save(n.slice(0,-1).join("."),n[n.length-1])}if(t)return n.save(e,t);let o=e.split(".");return n.save(o.slice(0,-1).join("."),o[o.length-1])},n.loadFont=function(e){let t=e.split("/"),n=t[t.length-1].split(".")[0].replace(" ",""),i=`@font-face {\n        font-family: '${n}';\n        src: url('${e}');\n      }`;const o=document.createElement("style");return o.textContent=i,document.head.append(o),n},n.textFont=function(e){n._textFont=e},n.textSize=function(e){n._textSize=e,n._textLeading=e},n.textLeading=function(e){n._textLeading=e},n.textStyle=function(e){n._textStyle=e},n.textAlign=function(e,t){i.textAlign=e,t&&(i.textBaseline=t==n.CENTER?"middle":t)},n.text=function(e,t,o,r){if(!e)return;if(e=e.toString(),n._noFill&&n._noStroke)return;i.font=`${n._textStyle} ${n._textSize}px ${n._textFont}`;let a=e.split("\n");for(let s=0;s<a.length;s++)n._noFill||i.fillText(a[s],t,o,r),n._noStroke||i.strokeText(a[s],t,o,r),o+=n._textLeading},n.textWidth=function(e){return i.font=`${n._textStyle} ${n._textSize}px ${n._textFont}`,i.measureText(e).width},n.textAscent=function(e){return i.font=`${n._textStyle} ${n._textSize}px ${n._textFont}`,i.measureText(e).actualBoundingBoxAscent},n.textDescent=function(e){return i.font=`${n._textStyle} ${n._textSize}px ${n._textFont}`,i.measureText(e).actualBoundingBoxDescent};var R,k=4,D=1<<k,T=8,P=1<<T,O=4095,N=4,B=.5,$=function(e){return.5*(1-Math.cos(e*Math.PI))};n.noise=function(e,t,n){if(t=t||0,n=n||0,null==R){R=new Array(O+1);for(var i=0;i<O+1;i++)R[i]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),n<0&&(n=-n);for(var o,r,a,s,l,c=Math.floor(e),u=Math.floor(t),d=Math.floor(n),h=e-c,f=t-u,m=n-d,g=0,p=.5,v=0;v<N;v++){var w=c+(u<<k)+(d<<T);o=$(h),r=$(f),a=R[w&O],a+=o*(R[w+1&O]-a),s=R[w+D&O],s+=o*(R[w+D+1&O]-s),a+=r*(s-a),w+=P,s=R[w&O],s+=o*(R[w+1&O]-s),l=R[w+D&O],l+=o*(R[w+D+1&O]-l),s+=r*(l-s),a+=$(m)*(s-a),g+=a*p,p*=B,c<<=1,h*=2,u<<=1,f*=2,d<<=1,m*=2,h>=1&&(c++,h--),f>=1&&(u++,f--),m>=1&&(d++,m--)}return g},n.noiseDetail=function(e,t){e>0&&(N=e),t>0&&(B=t)};const F=function(){const e=4294967296,t=1664525,n=1013904223;let i,o;return{setSeed(t){o=i=(null==t?Math.random()*e:t)>>>0},getSeed(){return i},rand(){return o=(t*o+n)%e,o/e}}},L=function(){let e,t,n=4294967295;return{setSeed(i){e=t=(null==i?Math.random()*n:i)>>>0},getSeed(){return t},rand(){return e^=e<<17,e^=e>>13,e^=e<<5,(e>>>0)/n}}};let H=L();H.setSeed(),n.noiseSeed=function(e){let t=void 0==e?4294967295*Math.random():e;R||(R=new Float32Array(O+1));for(var n=0;n<O+1;n++)t^=t<<17,t^=t>>13,t^=t<<5,R[n]=(t>>>0)/4294967295},n.randomSeed=function(e){H.setSeed(e)},n.random=function(e,t){return"number"==typeof e?void 0!=t?H.rand()*(t-e)+e:H.rand()*e:e[~~(e.length*H.rand())]},n.randomGenerator=function(e){e==n.LCG?H=F():e==n.SHR3&&(H=L()),H.setSeed()};var V=new function(){var e,t,n,i=new Array(128),o=new Array(256),r=new Array(128),a=new Array(128),s=new Array(256),l=new Array(256),c=function(){return 4294967296*H.rand()-2147483648},u=function(){return.5+2.328306e-10*(c()<<0)},d=function(){return n=c(),e=127&n,Math.abs(n)<i[e]?n*r[e]:f()},h=function(){return t=c()>>>0,e=255&t,t<i[e]?t*s[e]:m()},f=function(){for(var t,o,s,l,d=3.44262;;){if(t=n*r[e],0==e){do{s=u(),l=u(),t=.2904764*-Math.log(s),o=-Math.log(l)}while(o+o<t*t);return n>0?d+t:-d-t}if(a[e]+u()*(a[e-1]-a[e])<Math.exp(-.5*t*t))return t;if(n=c(),e=127&n,Math.abs(n)<i[e])return n*r[e]}},m=function(){for(var n;;){if(0==e)return 7.69711-Math.log(u());if(n=t*s[e],l[e]+u()*(l[e-1]-l[e])<Math.exp(-n))return n;if(t=c(),e=255&t,t<o[e])return t*s[e]}},g=function(){var e,t,n=2147483648,c=4294967296,u=3.442619855899,d=u,h=.00991256303526217,f=7.697117470131487,m=f,g=.003949659822581572;for(e=h/Math.exp(-.5*u*u),i[0]=Math.floor(u/e*n),i[1]=0,r[0]=e/n,r[127]=u/n,a[0]=1,a[127]=Math.exp(-.5*u*u),t=126;t>=1;t--)u=Math.sqrt(-2*Math.log(h/u+Math.exp(-.5*u*u))),i[t+1]=Math.floor(u/d*n),d=u,a[t]=Math.exp(-.5*u*u),r[t]=u/n;for(e=g/Math.exp(-f),o[0]=Math.floor(f/e*c),o[1]=0,s[0]=e/c,s[255]=f/c,l[0]=1,l[255]=Math.exp(-f),t=254;t>=1;t--)f=-Math.log(g/f+Math.exp(-f)),o[t+1]=Math.floor(f/m*c),m=f,l[t]=Math.exp(-f),s[t]=f/c};this.SHR3=c,this.UNI=u,this.RNOR=d,this.REXP=h,this.zigset=g};V.hasInit=!1,n.randomGaussian=function(e,t){return V.hasInit||(V.zigset(),V.hasInit=!0),V.RNOR()*t+e},n.randomExponential=function(){return V.hasInit||(V.zigset(),V.hasInit=!0),V.REXP()},n.cursor=function(e,t,i){let o="";e.includes(".")&&(e=`url("${e}")`,o=", auto"),void 0!=t&&(e+=" "+t+" "+i),n.canvas.style.cursor=e+o},n.noCursor=function(){n.canvas.style.cursor="none"},n.createCapture=function(e){var t=document.createElement("video");return t.playsinline="playsinline",t.autoplay="autoplay",navigator.mediaDevices.getUserMedia(e).then((function(e){t.srcObject=e})),t.style.position="absolute",t.style.opacity=1e-5,t.style.zIndex=-1e3,document.body.appendChild(t),t},n.remove=function(){e.removeChild(n.canvas)};let Y=["setup","draw","preload","mouseMoved","mousePressed","mouseReleased","mouseDragged","mouseClicked","keyPressed","keyReleased","keyTyped","touchStarted","touchEnded"];for(let t of Y){let e="_"+t+"Fn";n[e]=function(){},n[e].isPlaceHolder=!0,n[t]?n[e]=n[t]:Object.defineProperty(n,t,{set:function(t){n[e]=t}})}function U(){n._noLoop||(o=null==n._frameRate?requestAnimationFrame(U):setTimeout(U,1e3/n._frameRate)),M(),r=!0,i.save(),n._drawFn(),i.restore(),n.frameCount++}function X(e){const t=n.canvas.getBoundingClientRect(),i=n.canvas.scrollWidth/n.width||1,o=n.canvas.scrollHeight/n.height||1;return{x:(e.clientX-t.left)/i,y:(e.clientY-t.top)/o,id:e.identifier}}function W(){return n._touchStarted.isPlaceHolder&&n._touchMoved.isPlaceHolder&&n._touchEnded.isPlaceHolder}n.noLoop=function(){n._noLoop=!0,o=null},n.loop=function(){n._noLoop=!1,null==o&&U()},n.redraw=function(){U()},n.frameRate=function(e){n._frameRate=e},setTimeout((function(){function e(){if(l>0)return setTimeout(e,10);n._setupFn(),U()}n._preloadFn(),u=window.performance.now(),e()}),1),n.canvas.onmousemove=function(e){n.pmouseX=n.mouseX,n.pmouseY=n.mouseY,n.mouseX=e.offsetX,n.mouseY=e.offsetY,n.mouseIsPressed?n._mouseDraggedFn(e):n._mouseMovedFn(e)},n.canvas.onmousedown=function(e){n.pmouseX=n.mouseX,n.pmouseY=n.mouseY,n.mouseX=e.offsetX,n.mouseY=e.offsetY,n.mouseIsPressed=!0,n.mouseButton=[n.LEFT,n.CENTER,n.RIGHT][e.button],n._mousePressedFn(e)},n.canvas.onmouseup=function(e){n.pmouseX=n.mouseX,n.pmouseY=n.mouseY,n.mouseX=e.offsetX,n.mouseY=e.offsetY,n.mouseIsPressed=!1,n._mouseReleasedFn(e)},n.canvas.onclick=function(e){n.pmouseX=n.mouseX,n.pmouseY=n.mouseY,n.mouseX=e.offsetX,n.mouseY=e.offsetY,n.mouseIsPressed=!0,n._mouseClickedFn(e),n.mouseIsPressed=!1},window.addEventListener("keydown",(function(e){n.keyIsPressed=!0,n.key=e.key,n.keyCode=e.keyCode,c[n.keyCode]=!0,n._keyPressedFn(e),1==e.key.length&&n._keyTypedFn(e)})),window.addEventListener("keyup",(function(e){n.keyIsPressed=!1,n.key=e.key,n.keyCode=e.keyCode,c[n.keyCode]=!1,n._keyReleasedFn(e)})),n.keyIsDown=function(e){return!!c[e]},n.canvas.ontouchstart=function(e){const t=Array.from(e.touches||e.changedTouches);n.touches=t.map(X),W()&&(n.pmouseX=n.mouseX,n.pmouseY=n.mouseY,n.mouseX=n.touches[0].x,n.mouseY=n.touches[0].y,n.mouseIsPressed=!0,n.mouseButton=n.LEFT,n._mousePressedFn(e)||e.preventDefault()),n._touchStartedFn(e)||e.preventDefault()},n.canvas.ontouchmove=function(e){const t=Array.from(e.touches||e.changedTouches);n.touches=t.map(X),W()&&(n.pmouseX=n.mouseX,n.pmouseY=n.mouseY,n.mouseX=n.touches[0].x,n.mouseY=n.touches[0].y,n.mouseIsPressed=!0,n.mouseButton=n.LEFT,n._mouseDraggedFn(e)||e.preventDefault()),n._touchMovedFn(e)||e.preventDefault()},n.canvas.ontouchend=n.canvas.ontouchcancel=function(e){const t=Array.from(e.touches||e.changedTouches);n.touches=t.map(X),W()&&(n.pmouseX=n.mouseX,n.pmouseY=n.mouseY,n.mouseX=n.touches[0].x,n.mouseY=n.touches[0].y,n.mouseIsPressed=!1,n._mouseReleasedFn(e)||e.preventDefault()),n._touchEndedFn(e)||e.preventDefault()},n.hasSensorPermission=!window.DeviceOrientationEvent&&!window.DeviceMotionEvent||!(DeviceOrientationEvent.requestPermission||DeviceMotionEvent.requestPermission),n.requestSensorPermissions=function(){DeviceOrientationEvent.requestPermission&&DeviceOrientationEvent.requestPermission().then(e=>{"granted"==e&&DeviceMotionEvent.requestPermission&&DeviceMotionEvent.requestPermission().then(e=>{"granted"==e&&(n.hasSensorPermission=!0)}).catch(alert)}).catch(alert)};let j=e=>[1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1],q=e=>[Math.cos(e),0,Math.sin(e),0,0,1,0,0,-Math.sin(e),0,Math.cos(e),0,0,0,0,1],G=(e,t)=>[e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],e[4]*t[0]+e[5]*t[4]+e[6]*t[8]+e[7]*t[12],e[4]*t[1]+e[5]*t[5]+e[6]*t[9]+e[7]*t[13],e[4]*t[2]+e[5]*t[6]+e[6]*t[10]+e[7]*t[14],e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7]*t[15],e[8]*t[0]+e[9]*t[4]+e[10]*t[8]+e[11]*t[12],e[8]*t[1]+e[9]*t[5]+e[10]*t[9]+e[11]*t[13],e[8]*t[2]+e[9]*t[6]+e[10]*t[10]+e[11]*t[14],e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]*t[15],e[12]*t[0]+e[13]*t[4]+e[14]*t[8]+e[15]*t[12],e[12]*t[1]+e[13]*t[5]+e[14]*t[9]+e[15]*t[13],e[12]*t[2]+e[13]*t[6]+e[14]*t[10]+e[15]*t[14],e[12]*t[3]+e[13]*t[7]+e[14]*t[11]+e[15]*t[15]],Q=(e,t)=>[(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3])/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]),(e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7])/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]),(e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11])/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15])];window.ondeviceorientation=function(e){n.pRotationX=n.rotationX,n.pRotationY=n.rotationY,n.pRotationZ=n.rotationZ,n.pRelRotationX=n.relRotationX,n.pRelRotationY=n.relRotationY,n.pRelRotationZ=n.relRotationZ,n.rotationX=e.beta*(Math.PI/180),n.rotationY=e.gamma*(Math.PI/180),n.rotationZ=e.alpha*(Math.PI/180),n.relRotationX=[-n.rotationY,-n.rotationX,n.rotationY][1+~~(window.orientation/90)],n.relRotationY=[-n.rotationX,n.rotationY,n.rotationX][1+~~(window.orientation/90)],n.relRotationZ=n.rotationZ},window.ondevicemotion=function(e){if(n.pAccelerationX=n.accelerationX,n.pAccelerationY=n.accelerationY,n.pAccelerationZ=n.accelerationZ,!e.acceleration){let t=Q(G(q(n.rotationY),j(n.rotationX)),[0,0,-9.80665]);n.accelerationX=e.accelerationIncludingGravity.x+t[0],n.accelerationY=e.accelerationIncludingGravity.y+t[1],n.accelerationZ=e.accelerationIncludingGravity.z-t[2]}},n.year=function(){return(new Date).getFullYear()},n.day=function(){return(new Date).getDay()},n.hour=function(){return(new Date).getHours()},n.minute=function(){return(new Date).getMinutes()},n.second=function(){return(new Date).getSeconds()},n.millis=function(){return window.performance.now()-u}}}var g=n("deae"),p=n.n(g);class v{constructor(e){this.container=e;const t=new m(e);t.setup=this.setup.bind(this),t.draw=this.draw.bind(this),this.q5=t}setup(){const{q5:e,container:t}=this,{offsetWidth:n,offsetHeight:i}=t;e.createCanvas(n,i),this.redBubble=e.loadImage(p.a),this.blueBubble=e.loadImage(d.a),this.purpleBubble=e.loadImage(f.a),this.setImage(),this.interval=setInterval(this.setImage.bind(this),5e3),this.bubbles=[];let o,r,a=0;r=i/300,r=r>.8?r:.8,o=r>.8?.8:0;while(a++<16)setTimeout(()=>{const t=i/5,n=0,a=i-t-1,s={x:e.random(o,r),y:e.random(o,r)},l={size:t,x:n,y:a,velocity:s};this.bubbles.push(l)},800*a)}draw(){const{q5:e,bubbles:t}=this;e.clear();for(let n=0;n<t.length;n++){const i=t[n],{x:o,y:r,size:a}=i;e.image(this.bubbleImage,o,r,a,a),this.update(i,n)}}setImage(){const{q5:e,redBubble:t,blueBubble:n,purpleBubble:i}=this;this.bubbleImage=e.random([t,n,i])}update(e,t){const{offsetWidth:n,offsetHeight:i}=this.container,{size:o,velocity:r}=e;e.x+=r.x,e.y+=r.y;const{x:a,y:l}=e;(a>n-o||a<0)&&(e.velocity.x*=-1),(l>i-o||l<0)&&(e.velocity.y*=-1);const u=e;for(let d=0;d<this.bubbles.length;d++){if(t===d)continue;const e=this.bubbles[d];s(u,e)&&c(u,e)}}destroy(){this.q5.remove(),this.interval=clearInterval(this.interval)}}var w=n("8229"),y=n("0f35");class x{constructor(e,t){const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.background="no-repeat center",n.style.backgroundSize="cover",e.append(n),this.pictures=t,this.image=n,this.setImage(),this.interval=setInterval(this.setImage.bind(this),5e3)}async setImage(){const e=this.pictures[Object(y["q"])(this.pictures.length-1)];await Object(y["o"])(e),this.image.style.backgroundImage=`url(${e})`}destroy(){this.image.remove(),this.interval=clearInterval(this.interval)}}var b=n("8dc1"),A=n("6fa4"),M={props:{type:String,isPreview:Boolean},data(){return{instance:null}},watch:{type(e){this.changeSaver(e)}},async mounted(){if(this.changeSaver(this.type),this.isPreview){this.$root.$emit(r["c"].ChangeCursor,w["a"].Working);try{const e=await Object(b["domToCanvas"])(this.$root.$el.querySelector("#windows"));e.style.width=this.$el.offsetWidth+"px",e.style.height=this.$el.offsetHeight+"px",this.$refs.container.prepend(e)}catch(e){}this.$root.$emit(r["c"].ChangeCursor,w["a"].Default)}},beforeDestroy(){this.clear()},methods:{changeSaver(e){this.clear();const t=Object(A["a"])();if(e===t.Blank.value&&(this.instance=new a(this.$el)),e===t.Bubbles.value&&(this.instance=new v(this.$el)),e===t.Pictures.value){const{bgs:e}=this.$store.state.assets;this.instance=new x(this.$el,e)}},cancel(){if(!this.isPreview){const{showLogon:e}=this.$store.state.screensaver;e?this.$root.$emit(r["c"].ChangeView,r["d"].Logon):this.$root.$emit(r["c"].SaveScreen,null)}},clear(){this.instance&&this.instance.destroy(),this.instance=null}}},C=M,_=(n("dd77"),n("2877")),S=Object(_["a"])(C,i,o,!1,null,null,null);t["default"]=S.exports},"837c":function(e,t,n){"use strict";n("0368")},"8dc1":function(e,t,n){(function(e,n){n(t)})(0,(function(e){var t,n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=Math.pow,c=(e,t,i)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,u=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(r)for(var n of r(t))s.call(t,n)&&c(e,n,t[n]);return e},d=(e,t)=>i(e,o(t)),h=(e,t)=>{var n={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&s.call(e,i)&&(n[i]=e[i]);return n},f=(e,t,n)=>new Promise((i,o)=>{var r=e=>{try{s(n.next(e))}catch(A){o(A)}},a=e=>{try{s(n.throw(e))}catch(A){o(A)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,a);s((n=n.apply(e,t)).next())});function m(e,t){return e[13]=1,e[14]=t>>8,e[15]=255&t,e[16]=t>>8,e[17]=255&t,e}const g="p".charCodeAt(0),p="H".charCodeAt(0),v="Y".charCodeAt(0),w="s".charCodeAt(0);let y;function x(){const e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}function b(e){let t=-1;y||(y=x());for(let n=0;n<e.length;n++)t=y[255&(t^e[n])]^t>>>8;return-1^t}function A(e){const t=e.length-1;for(let n=t;n>=4;n--)if(9===e[n-4]&&e[n-3]===g&&e[n-2]===p&&e[n-1]===v&&e[n]===w)return n-3;return 0}function M(e,t,n=!1){const i=new Uint8Array(13);t*=39.3701,i[0]=g,i[1]=p,i[2]=v,i[3]=w,i[4]=t>>>24,i[5]=t>>>16,i[6]=t>>>8,i[7]=255&t,i[8]=i[4],i[9]=i[5],i[10]=i[6],i[11]=i[7],i[12]=1;const o=b(i),r=new Uint8Array(4);if(r[0]=o>>>24,r[1]=o>>>16,r[2]=o>>>8,r[3]=255&o,n){const t=A(e);return e.set(i,t),e.set(r,t+13),e}{const t=new Uint8Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=9;const n=new Uint8Array(54);return n.set(e,0),n.set(t,33),n.set(i,37),n.set(r,50),n}}const C="AAlwSFlz",_="AAAJcEhZ",S="AAAACXBI";function E(e){let t=e.indexOf(C);return-1===t&&(t=e.indexOf(_)),-1===t&&(t=e.indexOf(S)),t}const I="[modern-screenshot]",z="undefined"!=typeof window,R=z&&"Worker"in window,k=z&&"atob"in window,D=z&&"btoa"in window,T=z?null==(t=window.navigator)?void 0:t.userAgent:"",P=T.includes("Chrome"),O=T.includes("AppleWebKit")&&!P,N=T.includes("Firefox"),B=e=>e&&"__CONTEXT__"in e,$=e=>"CSSFontFaceRule"===e.constructor.name,F=e=>"CSSImportRule"===e.constructor.name,L=e=>1===e.nodeType,H=e=>"object"==typeof e.className,V=e=>H(e)&&"svg"===e.tagName,Y=e=>H(e)&&"image"===e.tagName,U=e=>L(e)&&"undefined"!=typeof e.style&&!H(e),X=e=>8===e.nodeType,W=e=>3===e.nodeType,j=e=>"IMG"===e.tagName,q=e=>"VIDEO"===e.tagName,G=e=>"CANVAS"===e.tagName,Q=e=>"TEXTAREA"===e.tagName,Z=e=>"INPUT"===e.tagName,K=e=>"STYLE"===e.tagName,J=e=>"SCRIPT"===e.tagName,ee=e=>"SELECT"===e.tagName,te=e=>"SLOT"===e.tagName,ne=e=>"IFRAME"===e.tagName,ie=(...e)=>console.warn(I,...e),oe=e=>console.time(`${I} ${e}`),re=e=>console.timeEnd(`${I} ${e}`),ae=e=>{var t;const n=null==(t=null==e?void 0:e.createElement)?void 0:t.call(e,"canvas");return n&&(n.height=n.width=1),n&&"toDataURL"in n&&Boolean(n.toDataURL("image/webp").includes("image/webp"))},se=e=>e.startsWith("data:");function le(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(z&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!z)return e;const n=ce().implementation.createHTMLDocument(),i=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(i),n.body.appendChild(o),t&&(i.href=t),o.href=e,o.href}function ce(e){var t;return null!=(t=e&&L(e)?null==e?void 0:e.ownerDocument:e)?t:window.document}const ue="http://www.w3.org/2000/svg";function de(e,t,n){const i=ce(n).createElementNS(ue,"svg");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),i}function he(e,t){let n=(new XMLSerializer).serializeToString(e);return t&&(n=n.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/gu,"")),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(n)}function fe(e,t="image/png",n=1){return f(this,null,(function*(){try{return yield new Promise((i,o)=>{e.toBlob(e=>{e?i(e):o(new Error("Blob is null"))},t,n)})}catch(i){if(k)return ie("Failed canvas to blob",{type:t,quality:n},i),me(e.toDataURL(t,n));throw i}}))}function me(e){var t,n;const[i,o]=e.split(","),r=null!=(n=null==(t=i.match(/data:(.+);/))?void 0:t[1])?n:void 0,a=window.atob(o),s=a.length,l=new Uint8Array(s);for(let c=0;c<s;c+=1)l[c]=a.charCodeAt(c);return new Blob([l],{type:r})}function ge(e,t){return new Promise((n,i)=>{const o=new FileReader;o.onload=()=>n(o.result),o.onerror=()=>i(o.error),o.onabort=()=>i(new Error("Failed read blob to "+t)),"dataUrl"===t?o.readAsDataURL(e):"arrayBuffer"===t&&o.readAsArrayBuffer(e)})}const pe=e=>ge(e,"dataUrl"),ve=e=>ge(e,"arrayBuffer");function we(e,t){const n=ce(t).createElement("img");return n.decoding="sync",n.loading="eager",n.src=e,n}function ye(e,t){return new Promise(n=>{const{timeout:i,ownerDocument:o,onError:r}=null!=t?t:{},a="string"==typeof e?we(e,ce(o)):e;let s=null,l=null;function c(){n(a),s&&clearTimeout(s),null==l||l()}if(i&&(s=setTimeout(c,i)),q(a)){const e=a.currentSrc||a.src;if(!e)return a.poster?ye(a.poster,t).then(n):c();if(a.readyState>=2)return c();const i=c,o=t=>{ie("Failed video load",e,t),null==r||r(t),c()};l=()=>{a.removeEventListener("loadeddata",i),a.removeEventListener("error",o)},a.addEventListener("loadeddata",i,{once:!0}),a.addEventListener("error",o,{once:!0})}else{const e=Y(a)?a.href.baseVal:a.currentSrc||a.src;if(!e)return c();const t=()=>f(this,null,(function*(){if(j(a)&&"decode"in a)try{yield a.decode()}catch(t){ie("Failed to decode image, trying to render anyway",a.dataset.originalSrc||e,t)}c()})),n=t=>{ie("Failed image load",a.dataset.originalSrc||e,t),c()};if(j(a)&&a.complete)return t();l=()=>{a.removeEventListener("load",t),a.removeEventListener("error",n)},a.addEventListener("load",t,{once:!0}),a.addEventListener("error",n,{once:!0})}})}function xe(e,t){return f(this,null,(function*(){U(e)&&(j(e)||q(e)?yield ye(e,{timeout:t}):yield Promise.all(["img","video"].flatMap(n=>Array.from(e.querySelectorAll(n)).map(e=>ye(e,{timeout:t})))))}))}const be=function(){let e=0;const t=()=>("0000"+(Math.random()*l(36,4)<<0).toString(36)).slice(-4);return()=>(e+=1,`u${t()}${e}`)}();function Ae(e){return null==e?void 0:e.split(",").map(e=>e.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}function Me(e){return{time:t=>e&&oe(t),timeEnd:t=>e&&re(t),warn:(...t)=>e&&ie(...t)}}function Ce(e){return{cache:e?"no-cache":"force-cache"}}function _e(e,t){return f(this,null,(function*(){return B(e)?e:Se(e,d(u({},t),{autoDestruct:!0}))}))}function Se(e,t){return f(this,null,(function*(){var n,i,o,r,a;const{scale:s=1,workerUrl:l,workerNumber:c=1}=t||{},h=Boolean(null==t?void 0:t.debug),m=null==(n=null==t?void 0:t.features)||n,g=null!=(i=e.ownerDocument)?i:z?window.document:void 0,p=null!=(r=null==(o=e.ownerDocument)?void 0:o.defaultView)?r:z?window:void 0,v=new Map,w=d(u({width:0,height:0,quality:1,type:"image/png",scale:s,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:h,fetch:u({requestInit:Ce(null==(a=null==t?void 0:t.fetch)?void 0:a.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1},null==t?void 0:t.fetch),font:{},drawImageInterval:100,workerUrl:null,workerNumber:c,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,autoDestruct:!1},t),{__CONTEXT__:!0,log:Me(h),node:e,ownerDocument:g,ownerWindow:p,dpi:1===s?null:96*s,svgStyleElement:Ee(g),svgDefsElement:null==g?void 0:g.createElementNS(ue,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...new Array(R&&l&&c?c:0)].map(()=>{try{const e=new Worker(l);return e.onmessage=e=>f(this,null,(function*(){var t,n,i,o;const{url:r,result:a}=e.data;a?null==(n=null==(t=v.get(r))?void 0:t.resovle)||n.call(t,a):null==(o=null==(i=v.get(r))?void 0:i.reject)||o.call(i,new Error("Error receiving message from worker: "+r))})),e.onmessageerror=e=>{var t,n;const{url:i}=e.data;null==(n=null==(t=v.get(i))?void 0:t.reject)||n.call(t,new Error("Error receiving message from worker: "+i))},e}catch(e){return ie("Failed to new Worker",e),null}}).filter(Boolean),fontFamilies:new Set,fontCssTexts:new Map,acceptOfImage:[ae(g)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")+";q=0.8",requests:v,drawImageCount:0,tasks:[],features:m,isEnable:e=>{var t;return"boolean"==typeof m?m:null==(t=m[e])||t}});w.log.time("wait until load"),yield xe(e,w.timeout),w.log.timeEnd("wait until load");const{width:y,height:x}=Ie(e,w);return w.width=y,w.height=x,w}))}function Ee(e){if(!e)return;const t=e.createElement("style"),n=t.ownerDocument.createTextNode("\n.______background-clip--text {\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n");return t.appendChild(n),t}function Ie(e,t){let{width:n,height:i}=t;if(L(e)&&(!n||!i)){const t=e.getBoundingClientRect();n=n||t.width||Number(e.getAttribute("width"))||0,i=i||t.height||Number(e.getAttribute("height"))||0}return{width:n,height:i}}function ze(e,t){return f(this,null,(function*(){const{log:n,timeout:i,drawImageCount:o,drawImageInterval:r}=t;n.time("image to canvas");const a=yield ye(e,{timeout:i}),{canvas:s,context2d:l}=Re(e.ownerDocument,t),c=()=>{try{null==l||l.drawImage(a,0,0,s.width,s.height)}catch(e){ie("Failed to drawImage",e)}};if(c(),t.isEnable("fixSvgXmlDecode"))for(let e=0;e<o;e++)yield new Promise(t=>{setTimeout(()=>{c(),t()},e+r)});return t.drawImageCount=0,n.timeEnd("image to canvas"),s}))}function Re(e,t){const{width:n,height:i,scale:o,backgroundColor:r,maximumCanvasSize:a}=t,s=e.createElement("canvas");s.width=Math.floor(n*o),s.height=Math.floor(i*o),s.style.width=n+"px",s.style.height=i+"px",a&&(s.width>a||s.height>a)&&(s.width>a&&s.height>a?s.width>s.height?(s.height*=a/s.width,s.width=a):(s.width*=a/s.height,s.height=a):s.width>a?(s.height*=a/s.width,s.width=a):(s.width*=a/s.height,s.height=a));const l=s.getContext("2d");return l&&r&&(l.fillStyle=r,l.fillRect(0,0,s.width,s.height)),{canvas:s,context2d:l}}const ke=["width","height"],De=["stroke","fill"];function Te(e,t,n){var i;const{defaultComputedStyles:o,ownerDocument:r}=n,a=e.nodeName.toLowerCase(),s=H(e)&&"svg"!==a,l=s?De.map(t=>[t,e.getAttribute(t)]).filter(([,e])=>null!==e):[],c=[s&&"svg",a,l.map((e,t)=>`${e}=${t}`).join(","),t].filter(Boolean).join(":");if(o.has(c))return o.get(c);let u=n.sandbox;if(!u)try{r&&(u=r.createElement("iframe"),u.id="__SANDBOX__-"+be(),u.width="0",u.height="0",u.style.visibility="hidden",u.style.position="fixed",r.body.appendChild(u),null==(i=u.contentWindow)||i.document.write('<!DOCTYPE html><meta charset="UTF-8"><title></title><body>'),n.sandbox=u)}catch(v){ie("Failed to create iframe sandbox",v)}if(!u)return new Map;const d=u.contentWindow;if(!d)return new Map;const h=d.document;let f,m;s?(f=h.createElementNS(ue,"svg"),m=f.ownerDocument.createElementNS(f.namespaceURI,a),l.forEach(([e,t])=>{m.setAttributeNS(null,e,t)}),f.appendChild(m)):f=m=h.createElement(a),m.textContent=" ",h.body.appendChild(f);const g=d.getComputedStyle(m,t),p=new Map;for(let w=g.length,y=0;y<w;y++){const e=g.item(y);ke.includes(e)||p.set(e,g.getPropertyValue(e))}return h.body.removeChild(f),o.set(c,p),p}function Pe(e,t){var n;const i=new Map,o=[],r=new Map;for(let a=e.length,s=0;s<a;s++){const n=e.item(s),a=e.getPropertyValue(n),l=e.getPropertyPriority(n),c=n.lastIndexOf("-"),u=c>-1?n.substring(0,c):void 0;if(u){let e=r.get(u);e||(e=new Map,r.set(u,e)),e.set(n,[a,l])}t.get(n)===a&&!l||(u?o.push(u):i.set(n,[a,l]))}for(let a=o.length,s=0;s<a;s++)null==(n=r.get(o[s]))||n.forEach((e,t)=>i.set(t,e));return i}const Oe=[":before",":after"],Ne=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function Be(e,t,n,i){const{ownerWindow:o,svgStyleElement:r,svgStyles:a}=i;function s(n){var r;const s=o.getComputedStyle(e,n);let l=s.getPropertyValue("content");if(!l||"none"===l)return;l=l.replace(/(')|(")|(counter\(.+\))/g,"");const c=[be()],u=Te(e,n,i),d=[`content: '${l}';`],h=Pe(s,u);if(h.delete("content"),h.delete("-webkit-locale"),"text"===(null==(r=h.get("background-clip"))?void 0:r[0])&&t.classList.add("______background-clip--text"),h.forEach(([e,t],n)=>{d.push(`${n}: ${e}${t?" !important":""};`)}),1===d.length)return;try{t.className=[t.className,...c].join(" ")}catch(g){return}const f=d.join("\n  ");let m=a.get(f);m||(m=[],a.set(f,m)),m.push(`.${c[0]}:${n}`)}r&&o&&(Oe.forEach(s),n&&Ne.forEach(s))}function $e(e,t){Q(e)&&(t.innerHTML=e.value),(Q(e)||Z(e)||ee(e))&&t.setAttribute("value",e.value)}function Fe(e,t,n,i){var o,r,a,s;const{ownerWindow:l}=i,c=t.style,u=l.getComputedStyle(e),d=Te(e,null,i),h=Pe(u,d);return h.delete("transition-property"),h.delete("all"),h.delete("d"),h.delete("content"),n&&(h.delete("margin-top"),h.delete("margin-right"),h.delete("margin-bottom"),h.delete("margin-left"),h.delete("margin-block-start"),h.delete("margin-block-end"),h.delete("margin-inline-start"),h.delete("margin-inline-end"),h.set("box-sizing",["border-box",""])),"text"===(null==(o=h.get("background-clip"))?void 0:o[0])&&t.classList.add("______background-clip--text"),P&&(h.has("font-kerning")||h.set("font-kerning",["normal",""]),("hidden"===(null==(r=h.get("overflow-x"))?void 0:r[0])||"hidden"===(null==(a=h.get("overflow-y"))?void 0:a[0]))&&"ellipsis"===(null==(s=h.get("text-overflow"))?void 0:s[0])&&e.scrollWidth===e.clientWidth&&h.set("text-overflow",["clip",""])),h.forEach(([e,t],n)=>{c.setProperty(n,e,t)}),h}function Le(e,t){return f(this,null,(function*(){var n,i,o;const{ownerDocument:r,svgDefsElement:a}=t,s=null!=(i=null==(n=e.querySelectorAll)?void 0:n.call(e,"use"))?i:[];if(s.length)for(let e=s.length,l=0;l<e;l++){const e=s[l],n=null!=(o=e.getAttribute("xlink:href"))?o:e.getAttribute("href");if(!n)continue;const i=null==r?void 0:r.querySelector("svg "+n);!i||null!=a&&a.querySelector(n)||null==a||a.appendChild(yield Qe(i,t))}return e.cloneNode(!1)}))}function He(e,t){var n;try{if(null!=(n=null==e?void 0:e.contentDocument)&&n.body)return Qe(e.contentDocument.body,t)}catch(i){ie("Failed to clone iframe",i)}return e.cloneNode(!1)}function Ve(e){if(e.ownerDocument)try{const t=e.toDataURL();if("data:,"!==t)return we(t,e.ownerDocument)}catch(o){}const t=e.cloneNode(!1),n=e.getContext("2d"),i=t.getContext("2d");try{return n&&i&&i.putImageData(n.getImageData(0,0,e.width,e.height),0,0),t}catch(o){ie("Failed to clone canvas",o)}return t}function Ye(e){return f(this,null,(function*(){if(e.ownerDocument&&!e.currentSrc&&e.poster)return we(e.poster,e.ownerDocument);const t=e.cloneNode(!1);t.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc);const n=t.ownerDocument;if(n){let o=!0;if(yield ye(t,{onError:()=>o=!1}),!o)return e.poster?we(e.poster,e.ownerDocument):t;t.currentTime=e.currentTime,yield new Promise(e=>{t.addEventListener("seeked",e,{once:!0})});const r=n.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;try{const e=r.getContext("2d");e&&e.drawImage(t,0,0,r.width,r.height)}catch(i){return ie("Failed to clone video",i),e.poster?we(e.poster,e.ownerDocument):t}return Ve(r)}return t}))}function Ue(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager"),t}function Xe(e,t){return G(e)?Ve(e):ne(e)?He(e,t):j(e)?Ue(e):q(e)?Ye(e):V(e)?Le(e,t):e.cloneNode(!1)}function We(e,t,n){return f(this,null,(function*(){L(t)&&(K(t)||J(t))||n.filter&&!n.filter(t)||e.appendChild(yield Qe(t,n))}))}function je(e,t,n){return f(this,null,(function*(){var i,o;const r=null!=(o=L(e)?null==(i=e.shadowRoot)?void 0:i.firstChild:void 0)?o:e.firstChild;for(let e=r;e;e=e.nextSibling)if(!X(e))if(L(e)&&te(e)&&"function"==typeof e.assignedNodes){const i=e.assignedNodes();for(let e=0;e<i.length;e++)yield We(t,i[e],n)}else yield We(t,e,n)}))}function qe(e,t){const{backgroundColor:n,width:i,height:o,style:r}=t,a=e.style;if(n&&a.setProperty("background-color",n,"important"),i&&a.setProperty("width",i+"px","important"),o&&a.setProperty("height",o+"px","important"),r)for(const s in r)a[s]=r[s]}const Ge=/^[\w-]+$/;function Qe(e,t,n=!1){return f(this,null,(function*(){var i,o,r,a;const{ownerDocument:s,ownerWindow:l,fontFamilies:c}=t;if(s&&W(e))return s.createTextNode(e.data);if(s&&l&&L(e)&&(U(e)||H(e))){const s=yield Xe(e,t);if(t.isEnable("removeAbnormalAttributes")){const e=s.getAttributeNames();for(let t=e.length,n=0;n<t;n++){const t=e[n];Ge.test(t)||s.removeAttribute(t)}}const l=Fe(e,s,n,t);n&&qe(s,t);let u=!1;if(t.isEnable("copyScrollbar")){const t=[null==(i=l.get("overflow-x"))?void 0:i[0],null==(o=l.get("overflow-y"))?void 0:o[1]];u=t.includes("scroll")||(t.includes("auto")||t.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}return Be(e,s,u,t),$e(e,s),null==(a=Ae(null==(r=l.get("font-family"))?void 0:r[0]))||a.forEach(e=>c.add(e)),q(e)||(yield je(e,s,t)),s}const u=e.cloneNode(!1);return yield je(e,u,t),u}))}function Ze(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch(t){}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[]}function Ke(e){const t=e,{url:n,timeout:i,responseType:o}=t,r=h(t,["url","timeout","responseType"]),a=new AbortController,s=i?setTimeout(()=>a.abort(),i):void 0;return fetch(n,u({signal:a.signal},r)).then(e=>{if(!e.ok)throw new Error("Failed fetch, not 2xx response",{cause:e});switch(o){case"dataUrl":return e.blob().then(pe);case"text":default:return e.text()}}).finally(()=>clearTimeout(s))}function Je(e,t){const{url:n,requestType:i="text",responseType:o="text",imageDom:r}=t;let a=n;const{timeout:s,acceptOfImage:l,requests:c,fetch:{requestInit:d,bypassingCache:h,placeholderImage:f},workers:m}=e;"image"===i&&(O||N)&&e.drawImageCount++;let g=c.get(n);if(!g){h&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());const e=u({url:a,timeout:s,responseType:o,headers:"image"===i?{accept:l}:void 0},d);g={type:i,resovle:void 0,reject:void 0,response:null},g.response=(!O&&n.startsWith("http")&&m.length?new Promise((t,i)=>{m[c.size&m.length-1].postMessage(u({rawUrl:n},e)),g.resovle=t,g.reject=i}):Ke(e)).catch(e=>{if(c.delete(n),"image"===i&&f)return ie("Failed to fetch image base64, trying to use placeholder image",a),"string"==typeof f?f:f(r);throw e}),c.set(n,g)}return g.response}function et(e,t,n,i){return f(this,null,(function*(){if(!tt(e))return e;for(const[r,a]of it(e,t))try{const t=yield Je(n,{url:a,requestType:i?"image":"text",responseType:"dataUrl"});e=e.replace(ot(r),`$1${t}$3`)}catch(o){ie("Failed to fetch css data url",r,o)}return e}))}function tt(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const nt=/url\((['"]?)([^'"]+?)\1\)/g;function it(e,t){const n=[];return e.replace(nt,(e,i,o)=>(n.push([o,le(o,t)]),e)),n.filter(([e])=>!se(e))}function ot(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function rt(e,t){return f(this,null,(function*(){const{ownerDocument:e,svgStyleElement:n,fontFamilies:i,fontCssTexts:o,tasks:r,font:a}=t;if(e&&n&&i.size)if(a&&a.cssText){const i=dt(a.cssText,t);n.appendChild(e.createTextNode(i+"\n"))}else{const a=Array.from(e.styleSheets).filter(e=>{try{return"cssRules"in e&&Boolean(e.cssRules.length)}catch(t){return ie("Error while reading CSS rules from "+e.href,t),!1}});yield Promise.all(a.flatMap(e=>Array.from(e.cssRules).map((n,i)=>f(this,null,(function*(){if(F(n)){let a=i+1;const s=n.href;let l="";try{l=yield Je(t,{url:s,requestType:"text",responseType:"text"})}catch(o){ie("Error fetch remote css import from "+s,o)}const c=l.replace(nt,(e,t,n)=>e.replace(n,le(n,s)));for(const t of lt(c))try{e.insertRule(t,t.startsWith("@import")?a+=1:e.cssRules.length)}catch(r){ie("Error inserting rule from remote css import",{rule:t,error:r})}}}))))),a.flatMap(e=>Array.from(e.cssRules)).filter(e=>{var t;return $(e)&&tt(e.style.getPropertyValue("src"))&&(null==(t=Ae(e.style.getPropertyValue("font-family")))?void 0:t.some(e=>i.has(e)))}).forEach(i=>{const a=i,s=o.get(a.cssText);s?n.appendChild(e.createTextNode(s+"\n")):r.push(et(a.cssText,a.parentStyleSheet?a.parentStyleSheet.href:null,t).then(i=>{i=dt(i,t),o.set(a.cssText,i),n.appendChild(e.createTextNode(i+"\n"))}))})}}))}const at=/(\/\*[\s\S]*?\*\/)/gi,st=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi;function lt(e){if(null==e)return[];const t=[];let n=e.replace(at,"");for(;;){const e=st.exec(n);if(!e)break;t.push(e[0])}n=n.replace(st,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=i.exec(n);if(e)o.lastIndex=i.lastIndex;else{if(e=o.exec(n),!e)break;i.lastIndex=o.lastIndex}t.push(e[0])}return t}const ct=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ut=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function dt(e,t){const{font:n}=t,i=n?null==n?void 0:n.preferredFormat:void 0;return i?e.replace(ut,e=>{for(;;){const[t,,n]=ct.exec(e)||[];if(!n)return"";if(n===i)return`src: ${t};`}}):e}function ht(e,t){if(j(e)){const n=e.currentSrc||e.src;if(!se(n))return[Je(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(t=>{t&&(e.srcset="",e.dataset.originalSrc=n,e.src=t||"")})];(O||N)&&t.drawImageCount++}else if(H(e)&&!se(e.href.baseVal)){const n=e.href.baseVal;return[Je(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(t=>{t&&(e.dataset.originalSrc=n,e.href.baseVal=t||"")})]}return[]}const ft=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function mt(e,t){return ft.map(n=>{const i=e.getPropertyValue(n);return i?((O||N)&&t.drawImageCount++,et(i,null,t,!0).then(t=>{!t||i===t||e.setProperty(n,t,e.getPropertyPriority(n))})):null}).filter(Boolean)}function gt(e,t){const{tasks:n}=t;L(e)&&(j(e)||Y(e))&&n.push(...ht(e,t)),U(e)&&n.push(...mt(e.style,t)),e.childNodes.forEach(e=>{gt(e,t)})}function pt(e,t){return f(this,null,(function*(){const n=yield _e(e,t);if(L(n.node)&&H(n.node))return n.node;const{ownerDocument:i,log:o,tasks:r,svgStyleElement:a,svgDefsElement:s,svgStyles:l,font:c,progress:u,autoDestruct:d,onCloneNode:h,onEmbedNode:m,onCreateForeignObjectSvg:g}=n;o.time("clone node");const p=yield Qe(n.node,n,!0);if(a&&i){let e="";l.forEach((t,n)=>{e+=`${t.join(",\n")} {\n  ${n}\n}\n`}),a.appendChild(i.createTextNode(e))}o.timeEnd("clone node"),null==h||h(p),!1!==c&&L(p)&&(o.time("embed web font"),yield rt(p,n),o.timeEnd("embed web font")),o.time("embed node"),gt(p,n);const v=r.length;let w=0;const y=()=>f(this,null,(function*(){for(;;){const t=r.pop();if(!t)break;try{yield t}catch(e){ie("Failed to run task",e)}null==u||u(++w,v)}}));null==u||u(w,v),yield Promise.all([...Array(4)].map(y)),o.timeEnd("embed node"),null==m||m(p);const x=vt(p,n);return s&&x.insertBefore(s,x.children[0]),a&&x.insertBefore(a,x.children[0]),d&&Ze(n),null==g||g(x),x}))}function vt(e,t){const{width:n,height:i}=t,o=de(n,i,e.ownerDocument),r=o.ownerDocument.createElementNS(o.namespaceURI,"foreignObject");return r.setAttributeNS(null,"x","0%"),r.setAttributeNS(null,"y","0%"),r.setAttributeNS(null,"width","100%"),r.setAttributeNS(null,"height","100%"),r.append(e),o.appendChild(r),o}function wt(e,t){return f(this,null,(function*(){var n;const i=yield _e(e,t),o=yield pt(i),r=he(o,i.isEnable("removeControlCharacter"));i.autoDestruct||(i.svgStyleElement=Ee(i.ownerDocument),i.svgDefsElement=null==(n=i.ownerDocument)?void 0:n.createElementNS(ue,"defs"),i.svgStyles.clear());const a=we(r,o.ownerDocument);return yield ze(a,i)}))}function yt(e,t){return f(this,null,(function*(){const n=yield _e(e,t),{log:i,type:o,quality:r,dpi:a}=n,s=yield wt(n);i.time("canvas to blob");const l=yield fe(s,o,r);if(["image/png","image/jpeg"].includes(o)&&a){const e=yield ve(l.slice(0,33));let t=new Uint8Array(e);return"image/png"===o?t=M(t,a):"image/jpeg"===o&&(t=m(t,a)),new Blob([t,l.slice(33)],{type:o})}return i.timeEnd("canvas to blob"),l}))}function xt(e,t){return f(this,null,(function*(){const n=yield _e(e,t),{log:i,quality:o,type:r,dpi:a}=n,s=yield wt(n);i.time("canvas to data url");let l=s.toDataURL(r,o);if(["image/png","image/jpeg"].includes(r)&&a&&k&&D){const[e,t]=l.split(",");let n=0,i=!1;if("image/png"===r){const e=E(t);e>=0?(n=4*Math.ceil((e+28)/3),i=!0):n=44}else"image/jpeg"===r&&(n=24);const o=t.substring(0,n),s=t.substring(n),c=window.atob(o),u=new Uint8Array(c.length);for(let r=0;r<u.length;r++)u[r]=c.charCodeAt(r);const d="image/png"===r?M(u,a,i):m(u,a),h=window.btoa(String.fromCharCode(...d));l=[e,",",h,s].join("")}return i.timeEnd("canvas to data url"),l}))}function bt(e,t){return f(this,null,(function*(){const n=yield _e(e,t),{width:i,height:o,ownerDocument:r}=n,a=yield xt(n),s=de(i,o,r),l=s.ownerDocument.createElementNS(s.namespaceURI,"image");return l.setAttributeNS(null,"href",a),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"width","100%"),s.appendChild(l),he(s,n.isEnable("removeControlCharacter"))}))}function At(e,t){return f(this,null,(function*(){const n=yield _e(e,t),{ownerDocument:i,width:o,height:r,scale:a,type:s}=n,l="image/svg+xml"===s?yield bt(n):yield xt(n),c=we(l,i);return c.width=Math.floor(o*a),c.height=Math.floor(r*a),c.style.width=o+"px",c.style.height=r+"px",c}))}function Mt(e,t){return f(this,null,(function*(){return xt(yield _e(e,d(u({},t),{type:"image/jpeg"})))}))}function Ct(e,t){return f(this,null,(function*(){const n=yield _e(e,t),i=yield wt(n);return i.getContext("2d").getImageData(0,0,i.width,i.height).data}))}function _t(e,t){return f(this,null,(function*(){return xt(yield _e(e,d(u({},t),{type:"image/png"})))}))}function St(e,t){return f(this,null,(function*(){return xt(yield _e(e,d(u({},t),{type:"image/webp"})))}))}e.createContext=Se,e.destroyContext=Ze,e.domToBlob=yt,e.domToCanvas=wt,e.domToDataUrl=xt,e.domToForeignObjectSvg=pt,e.domToImage=At,e.domToJpeg=Mt,e.domToPixel=Ct,e.domToPng=_t,e.domToSvg=bt,e.domToWebp=St,e.loadMedia=ye,e.waitUntilLoad=xe,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))},"9cbc":function(e,t,n){"use strict";n("b31f")},"9eef":function(e,t,n){"use strict";n("5128")},b31f:function(e,t,n){},d78f:function(e,t,n){"use strict";n("2620")},dd77:function(e,t,n){"use strict";n("6e30")},e865:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("window",{attrs:{id:"window-screensaver",resizable:!1,w:400,h:"auto"}},[n("title-bar",{attrs:{icon:"screensaver",title:e.$t("screensaver")}},[n("controls",{attrs:{hideMaximize:"",hideMinimize:""}})],1),n("div",{staticClass:"container transparent"},[n("winui-tabs",{attrs:{tabs:e.tabs},scopedSlots:e._u([{key:"tab1",fn:function(){return[n("div",{staticClass:"preview",style:e.previewer},[n("screen-saver",{attrs:{type:e.type,isPreview:!0}})],1),n("winui-fieldset",[n("legend",[e._v(e._s(e.$t("screensaver")))]),n("div",{staticClass:"flex mb-2"},[n("winui-dropdown",{staticClass:"w-full",attrs:{options:e.options},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),n("winui-button",{attrs:{disabled:!e.type},on:{click:function(t){return t.stopPropagation(),e.preview(t)}}},[e._v(" "+e._s(e.$t("preview"))+" ")])],1),n("div",{class:["flex mb-2",{"text-muted":!e.type}]},[e._v(" "+e._s(e.$t("wait-time"))+": "),n("winui-textbox",{staticClass:"w-14 mx-2",attrs:{type:"number"},model:{value:e.timeout,callback:function(t){e.timeout=t},expression:"timeout"}}),e._v(" "+e._s(e.$t("minutes"))+" ")],1),n("winui-checkbox",{attrs:{id:"chk_resume",disabled:!e.type},model:{value:e.showLogon,callback:function(t){e.showLogon=t},expression:"showLogon"}},[e._v(" "+e._s(e.$t("resume-logon"))+" ")])],1)]},proxy:!0}])}),n("div",{staticClass:"flex justify-end mt-3"},[n("winui-button",{staticClass:"default",on:{click:function(t){return t.stopPropagation(),e.save(t)}}},[e._v(" "+e._s(e.$t("ok"))+" ")]),n("winui-button",{on:{click:function(t){return t.stopPropagation(),e.close(t)}}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)],1)],1)},o=[],r=n("3af2"),a=n("6792"),s=n("6fb2"),l=n("6210"),c=n("01b4"),u=n("10dc"),d=n("0f35"),h=n("6fa4"),f={data(){let{screensaver:e,assets:t}=this.$store.state;const{misc:n}=t,{type:i,timeout:o,showLogon:r}=e;return{type:i||null,timeout:o||1,showLogon:r,previewer:{backgroundImage:`url(${Object(d["a"])(n,"screensaver")})`},options:Object.values(Object(h["a"])(this.$t.bind(this))),tabs:{tab1:this.$t("screensaver")}}},watch:{timeout(e){e<1&&(this.timeout=1),e>60&&(this.timeout=60)}},methods:{preview(){this.$root.$emit(a["c"].SaveScreen,this.type,!0)},save(){const{type:e,timeout:t,showLogon:n}=this;this.$store.dispatch(c["a"].ScreenSaver,{type:e,timeout:t,showLogon:n}),this.close()},close(){const[,e]=this.$el.id.split("-");this.$root.$emit(a["c"].CloseWindow,e)}},components:{Controls:r["a"],TitleBar:l["a"],Window:u["a"],ScreenSaver:s["default"]}},m=f,g=(n("837c"),n("2877")),p=Object(g["a"])(m,i,o,!1,null,"6f4ccfaf",null);t["default"]=p.exports}}]);