(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tetris"],{"00aa":function(t,e,i){},"0448":function(t,e,i){t.exports=i.p+"media/tetris-burn.73862414.mp3"},"051a":function(t,e,i){t.exports=i.p+"media/tetris-rotate.b19c7c35.mp3"},"170f":function(t,e,i){t.exports=i.p+"media/tetris-quad.7a619527.mp3"},2045:function(t,e,i){t.exports=i.p+"media/tetris-levelup.94899555.mp3"},2543:function(t,e,i){},"2fea":function(t,e,i){t.exports=i.p+"media/tetris-lock.d3a08852.mp3"},"3f55":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("window-static",[i("title-bar",{attrs:{title:t.title}},[i("controls",{attrs:{hideMaximize:"",hideMinimize:"",controlTheme:t.theme,close:function(){return t.$emit("close")}}})],1),i("div",{class:["container",t.containerClass]},[t.icon?i("main",[i("img",{attrs:{src:t.icon}}),t.noPreTag?t._t("default"):i("pre",[t._t("default")],2)],2):[t._t("default")]],2),i("div",{staticClass:"footer flex justify-end"},[t._t("footer")],2)],1)},o=[],a=i("3af2"),n=i("6210"),h=i("7e41"),r=i("2f62"),l={components:{WindowStatic:h["a"],Controls:a["a"],TitleBar:n["a"]},props:{type:{type:String,validator(t){return["warning","error"].includes(t)}},title:String,theme:String,containerClass:String,noPreTag:Boolean},computed:{...Object(r["c"])(["themeData"]),icon(){return this.themeData.icon[this.type]}}},c=l,d=(i("6fdb"),i("2877")),_=Object(d["a"])(c,s,o,!1,null,"cde5e908",null);e["a"]=_.exports},"46e3":function(t,e,i){},"5c3f8":function(t,e,i){"use strict";i("00aa")},"6fdb":function(t,e,i){"use strict";i("46e3")},"7adb":function(t,e,i){t.exports=i.p+"media/tetris-move.4ca1112f.mp3"},"7cdc":function(t,e,i){t.exports=i.p+"media/tetris-over.e473e7b4.mp3"},"7ded":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fragment game-container"},[t.showWatchAd?i("watch-ad",{attrs:{target:"window-tetris"},on:{close:function(e){t.showWatchAd=!1}}}):t._e(),i("window",{staticClass:"maximized",attrs:{id:"window-tetris",resizable:!1,lock:t.showHelp||t.showStats||t.showWatchAd}},[i("title-bar",{attrs:{title:t.$t("tetris"),icon:"tetris"}},[i("controls",{attrs:{hideMaximize:"",close:t.exit}})],1),i("tool-bar",{attrs:{items:t.toolbar}}),i("main",{staticClass:"container",style:{backgroundImage:"url("+t.background+")"}},[i("canvas",{ref:"gameCanvas"}),i("button",{ref:"btnPlay",attrs:{id:"play"},on:{click:t.togglePlay}},[t.isPlaying?i("i",{staticClass:"fa fa-pause"}):i("i",{staticClass:"fa fa-play"})]),i("button",{ref:"btnNew",attrs:{id:"new"},on:{click:t.newGame}},[i("i",{staticClass:"fa fa-rotate-left"})])])],1),t.showHelp?i("window-static",{staticClass:"help",attrs:{draggable:!1,resizable:!1}},[i("title-bar",{attrs:{title:t.$t("help")}},[i("controls",{attrs:{hideMaximize:"",hideMinimize:"",close:t.toggleHelp}})],1),i("div",{staticClass:"container"},[i("h3",[t._v("Controls")]),i("ul",[i("li",[t._v("Rotate piece: Tap the piece.")]),i("li",[t._v("Move piece: Drag the piece left/right.")]),i("li",[t._v("Drop piece: Drag the piece down.")])]),i("h3",[t._v("Credits")]),i("p",[t._v(" Classic Tetris is created by "),i("a",{attrs:{href:"https://github.com/llop",target:"_blank"}},[t._v("Albert Lobo")]),t._v(" and licensed MIT. ")]),i("p",[t._v(" Game icon is made available by "),i("a",{attrs:{href:"https://smashicons.com/",target:"_blank"}},[t._v("Smashicons")]),t._v(". ")])])],1):t._e(),t.showStats?i("window-static",{staticClass:"stats"},[i("title-bar",{attrs:{title:t.$t("statistics")}},[i("controls",{attrs:{hideMaximize:"",hideMinimize:"",close:t.toggleStats}})],1),i("div",{staticClass:"container"},[i("winui-fieldset",{staticClass:"mb-5"},[i("legend",[t._v(t._s(t.$t("highscores")))]),t.statData&&t.statData.scores?i("table",[i("tr",[i("th",[t._v("Level")]),i("th",[t._v("Score")]),i("th",[t._v("Lines")])]),t._l(t.statData.scores,(function(e,s){return i("tr",{key:s},[i("td",[t._v(t._s(e.level))]),i("td",[t._v(t._s(e.score))]),i("td",[t._v(t._s(e.lines))])])}))],2):t._e()]),i("div",{staticClass:"mb-5"},[t.statData?[i("div",[t._v(t._s(t.$t("games-played"))+": "+t._s(t.statData.total))]),i("div",[t._v(t._s(t.$t("games-completed"))+": "+t._s(t.statData.completed))]),i("div",[t._v(t._s(t.$t("completion-rate"))+": "+t._s((t.statData.completed/t.statData.total*100||0).toFixed())+"%")])]:[i("div",[t._v(t._s(t.$t("games-played"))+": 0")]),i("div",[t._v(t._s(t.$t("games-completed"))+": 0%")]),i("div",[t._v(t._s(t.$t("completion-rate"))+": 0%")])]],2),i("div",{staticClass:"bts"},[i("winui-button",{staticClass:"default",on:{click:function(e){return e.stopPropagation(),t.toggleStats(e)}}},[t._v(" "+t._s(t.$t("close"))+" ")]),i("winui-button",{on:{click:function(e){return e.stopPropagation(),t.toggleConfirm(e)}}},[t._v(" "+t._s(t.$t("reset"))+" ")])],1)],1)],1):t._e(),t.showConfirm?i("confirm-reset",{attrs:{close:t.toggleConfirm},on:{reset:t.resetStats}}):t._e()],1)},o=[];function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class n{constructor(t,{boardWidth:e=n.BOARD_WIDTH,boardHeight:i=n.BOARD_HEIGHT,boardX:s=30,boardY:o=-35,squareSide:h=28,scoreX:r=330,scoreY:l=100,levelX:c=330,levelY:d=130,linesX:_=330,linesY:p=160,nextX:u=330,nextY:m=260,nextOffsetX:E=330,nextOffsetY:g=280,pauseX:v=145,pauseY:C=220,zColor:f=["#a52d19","#000"],sColor:S=["#4835ee","#000"],oColor:b=["#126d12","#000"],lColor:P=["#a52d19","#000"],jColor:T=["#4835ee","#000"],tColor:w=["#a52d19","#000"],iColor:A=["#126d12","#000"],gameOverColor:O=["#fff","#000"],ghostColor:x=["#000","#aaa"],canvasFont:R="17px verdana",canvasFontColor:I="#fff",backgroundColor:L="#222",tetrisBackgroundColor:D="#fff",borderColor:y="#fff",gridColor:k="#ddd",tapClickMaxDuration:M=500,tapClickMaxDistance:G=10,rotateSound:N,moveSound:H,setSound:B,gameOverSound:X,lineSound:W,tetrisSound:$,levelChangeSound:U,pauseSound:V,gameTheme:q}={}){a(this,"_handleContextMenu",t=>{t.preventDefault()}),a(this,"_handleKeyDown",t=>{switch(t.keyCode||t.which){case 37:case 65:t.preventDefault(),this.moveRight=!(this.moveLeft=!0);break;case 39:case 68:t.preventDefault(),this.moveLeft=!(this.moveRight=!0);break;case 38:case 75:case 87:case 88:t.preventDefault(),this.rotateAnticlockwise=!(this.rotateClockwise=!0);break;case 76:case 90:t.preventDefault(),this.rotateClockwise=!(this.rotateAnticlockwise=!0);break;case 40:case 83:t.preventDefault(),this.moveDown=!0;break;case 32:t.preventDefault(),this.hardDrop=!0;break;case 27:case 80:t.preventDefault(),this.gameState!=n.STATE_GAME_OVER&&(this.doUndoPause=!0);break}}),a(this,"_handlePointerMove",t=>{if(t.preventDefault(),this.gameState===n.STATE_PAUSE)return;const{x:e,y:i}=this._getEventCoords(t),s=(i-this.boardY)/this.squareSide|0,o=(e-this.boardX)/this.squareSide|0,{top:a,bottom:h,left:r,right:l}=this._getPieceBounds(),c=(a+h)/2|0,d=(r+l)/2|0;s<=h&&(this.pointerMoveDownEnabled=!0),o<d&&(this.moveRight=!(this.moveLeft=!0)),o>d&&(this.moveLeft=!(this.moveRight=!0)),this.pointerMoveDownEnabled&&s>c&&(this.moveDown=!0)}),a(this,"_handlePointerDown",t=>{if(this.gameState===n.STATE_PAUSE)return;const{x:e,y:i}=this._getEventCoords(t);this.xIni=e,this.yIni=i,this.tIni=performance.now()}),a(this,"_handlePointerUp",t=>{if(t.preventDefault(),this.gameState===n.STATE_PAUSE)return;const{x:e,y:i}=this._getEventCoords(t),s=this.xIni-e,o=this.yIni-i,a=Math.sqrt(s*s+o*o);a<=this.tapClickMaxDistance&&performance.now()-this.tIni<=this.tapClickMaxDuration&&(0===t.button?this.rotateAnticlockwise=!(this.rotateClockwise=!0):this.rotateClockwise=!(this.rotateAnticlockwise=!0))}),a(this,"_handlePointerCancel",t=>{t.preventDefault(),this.pointerMoveDownEnabled=!1}),a(this,"_handleWheel",t=>{t.preventDefault(),this.gameState!==n.STATE_PAUSE&&(t.deltaY>0?this.rotateAnticlockwise=!(this.rotateClockwise=!0):t.deltaY<0&&(this.rotateClockwise=!(this.rotateAnticlockwise=!0)))}),this.canvas=t,this.context=this.canvas.getContext("2d"),this.context.lineJoin="miter",this.boardWidth=e,this.boardHeight=i,this.board=[];for(let a=0;a<this.boardHeight;++a){const t=[];for(let e=0;e<this.boardWidth;++e)t.push(7);this.board.push(t)}this.boardX=s,this.boardY=o,this.squareSide=h,this.boardBorder=[-.5+this.boardX,-.5+this.boardY+2*this.squareSide,.5+this.boardX+this.boardWidth*this.squareSide,.5+this.boardY+this.boardHeight*this.squareSide],this.scoreX=r,this.scoreY=l,this.levelX=c,this.levelY=d,this.linesX=_,this.linesY=p,this.nextX=u,this.nextY=m,this.nextOffsetX=E,this.nextOffsetY=g,this.pauseX=v,this.pauseY=C,this.canvasFont=R,this.canvasFontColor=I,this.zColor=[...f],this.sColor=[...S],this.oColor=[...b],this.lColor=[...P],this.jColor=[...T],this.tColor=[...w],this.iColor=[...A],this.gameOverColor=[...O],this.ghostColor=[...x],this.backgroundColor=L,this.tetrisBackgroundColor=D,this.borderColor=y,this.gridColor=k,this.tapClickMaxDuration=M,this.tapClickMaxDistance=G,this.rotateSound=N,this.moveSound=H,this.setSound=B,this.gameOverSound=X,this.lineSound=W,this.tetrisSound=$,this.levelChangeSound=U,this.pauseSound=V,this.gameTheme=q,this.pieces=[{id:0,name:n.Z_PIECE,rot:n.Z_ROT,iniPos:n.Z_INI_POS,col:this.zColor,box:n.Z_BOX},{id:1,name:n.S_PIECE,rot:n.S_ROT,iniPos:n.S_INI_POS,col:this.sColor,box:n.S_BOX},{id:2,name:n.O_PIECE,rot:n.O_ROT,iniPos:n.O_INI_POS,col:this.oColor,box:n.O_BOX},{id:3,name:n.L_PIECE,rot:n.L_ROT,iniPos:n.L_INI_POS,col:this.lColor,box:n.L_BOX},{id:4,name:n.J_PIECE,rot:n.J_ROT,iniPos:n.J_INI_POS,col:this.jColor,box:n.J_BOX},{id:5,name:n.T_PIECE,rot:n.T_ROT,iniPos:n.T_INI_POS,col:this.tColor,box:n.T_BOX},{id:6,name:n.I_PIECE,rot:n.I_ROT,iniPos:n.I_INI_POS,col:this.iColor,box:n.I_BOX}],this.moveLeft=!1,this.moveRight=!1,this.moveDown=!1,this.rotateClockwise=!1,this.rotateAnticlockwise=!1,this.hardDrop=!0,this.doUndoPause=!1,this.xIni=void 0,this.yIni=void 0,this.tIni=void 0,this.pointerMoveDownEnabled=!1,this.playing=!1,this.gameLoop=!1,this.piece=this.pieces[0],this.piecePosition=[0,0],this.pieceRotation=0,this.next=this.pieces[0],this.startLevel=0,this.level=0,this.lines=0,this.score=0,this.pressDownScore=0,this.handlers=new Map,this.handlers.set(n.GAME_START,[]),this.handlers.set(n.GAME_OVER,[]),this.handlers.set(n.GAME_OVER_START,[]),this.handlers.set(n.GAME_OVER_END,[]),this.handlers.set(n.GAME_PAUSE,[]),this.handlers.set(n.GAME_RESUME,[]),this.handlers.set(n.PIECE_MOVE_LEFT,[]),this.handlers.set(n.PIECE_MOVE_RIGHT,[]),this.handlers.set(n.PIECE_MOVE_DOWN,[]),this.handlers.set(n.PIECE_HARD_DROP,[]),this.handlers.set(n.PIECE_ROTATE_CLOCKWISE,[]),this.handlers.set(n.PIECE_ROTATE_ANTICLOCKWISE,[]),this.handlers.set(n.PIECE_LOCK,[]),this.handlers.set(n.NEXT_PIECE,[]),this.handlers.set(n.LEVEL_CHANGE,[]),this.handlers.set(n.SCORE_CHANGE,[]),this.handlers.set(n.LINE_CLEAR_START,[]),this.handlers.set(n.LINE_CLEAR_END,[]),this.handlers.set(n.LINE_CLEAR,[]),this.frameCounter=0,this.areFrames=-1,this.framesTilDrop=-1,this.columnsCleared=-1,this.gameOverLine=-1,this.previousGameState=n.STATE_GAME_OVER,this.gameState=n.STATE_GAME_OVER,this.emptyRow=[];for(let a=0;a<this.boardWidth;++a)this.emptyRow.push(-1);this._render()}setStartLevel(t){this.gameState===n.STATE_GAME_OVER&&(this.startLevel=Math.max(0,Math.min(19,t)))}setGameOverColor(t){this.gameOverColor=[...t]}setGhostColor(t){this.ghostColor=[...t]}setPieceColor(t,e){switch(t){case n.Z_PIECE:this.zColor=[...e];break;case n.S_PIECE:this.sColor=[...e];break;case n.O_PIECE:this.oColor=[...e];break;case n.L_PIECE:this.lColor=[...e];break;case n.J_PIECE:this.jColor=[...e];break;case n.T_PIECE:this.tColor=[...e];break;case n.I_PIECE:this.iColor=[...e];break}}_getFramesPerGridcell(t){return 0===t?96:1===t?86:2===t?76:3===t?66:4===t?56:5===t?46:6===t?36:7===t?26:8===t?16:9===t?12:t<=12?10:t<=15?8:t<=18?6:t<=28?4:2}togglePlayPause(){this.playing?this.doUndoPause=!0:this.play()}quit(){this.playing&&this.gameState!=n.STATE_GAME_OVER&&this._triggerGameOver()}async play(){if(!this.playing){this.playing=!0,this._disableUI(),this._addEventListeners(),this._resetParams(),this.gameTheme&&(this.gameTheme.currentTime=0,this.gameTheme.loop=!0,this.gameTheme.play()),this._dispatch(n.GAME_START,{type:n.GAME_START,level:this.level,score:this.score,lines:this.lines}),this._dispatch(n.NEXT_PIECE,{type:n.NEXT_PIECE,piece:this.piece.name,nextPiece:this.next.name}),this.gameLoop=!0;do{this._process(),this._render(),await this._sleep()}while(this.gameLoop);this._removeEventListeners(),this._enableUI(),this.playing=!1,this._dispatch(n.GAME_OVER,{type:n.GAME_OVER,level:this.level,score:this.score,lines:this.lines})}}_resetParams(){this.pointerMoveDownEnabled=!1,this.moveLeft=!1,this.moveRight=!1,this.moveDown=!1,this.rotateClockwise=!1,this.rotateAnticlockwise=!1,this.hardDrop=!1,this.doUndoPause=!1,this.xIni=void 0,this.yIni=void 0,this.tIni=void 0,this.piece=this.pieces[Math.random()*this.pieces.length|0],this.next=this.pieces[this._nextPieceId()],this.piecePosition=this.piece.iniPos.slice(0),this.pieceRotation=0,this.level=this.startLevel,this.lines=0,this.score=0,this.pressDownScore=0;for(let t=0;t<this.boardHeight;++t)for(let e=0;e<this.boardWidth;++e)this.board[t][e]=-1;this.frameCounter=0,this.areFrames=-1,this.framesTilDrop=-1,this.columnsCleared=-1,this.gameOverLine=-1,this.framesTilDrop=36+this._getFramesPerGridcell(this.level),this.previousGameState=n.STATE_DROP,this.gameState=n.STATE_DROP}_addEventListeners(){this.canvas.addEventListener("contextmenu",this._handleContextMenu,{capture:!0,passive:!1}),document.addEventListener("pointerdown",this._handlePointerDown,{capture:!0,passive:!1}),document.addEventListener("pointermove",this._handlePointerMove,{capture:!0,passive:!1}),document.addEventListener("pointerup",this._handlePointerUp,{capture:!0,passive:!1}),document.addEventListener("pointercancel",this._handlePointerCancel,{capture:!0,passive:!1}),document.addEventListener("wheel",this._handleWheel,{capture:!0,passive:!1}),document.addEventListener("keydown",this._handleKeyDown,{capture:!0,passive:!1})}_removeEventListeners(){this.canvas.removeEventListener("contextmenu",this._handleContextMenu,!0),document.removeEventListener("pointerdown",this._handlePointerDown,!0),document.removeEventListener("pointermove",this._handlePointerMove,!0),document.removeEventListener("pointerup",this._handlePointerUp,!0),document.removeEventListener("pointercancel",this._handlePointerCancel,!0),document.removeEventListener("wheel",this._handleWheel,!0),document.removeEventListener("keydown",this._handleKeyDown,!0)}_disableUI(){this.canvas.style.touchAction="none"}_enableUI(){this.canvas.style.touchAction="auto"}_getEventCoords(t){const e=this.canvas.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}_getPieceBounds(){const t=this.piece.rot[this.pieceRotation];let e=this.boardHeight,i=0,s=this.boardWidth,o=0;for(let a=0;a<t.length;++a)for(let n=0;n<t[a].length;++n)if(0!=t[a][n]){const t=this.piecePosition[0]+n,h=this.piecePosition[1]+a;s=Math.min(s,t),o=Math.max(o,t),e=Math.min(e,h),i=Math.max(i,h)}return{top:e,bottom:i,left:s,right:o}}_process(){switch(this._pauseCheck(),this.gameState){case n.STATE_DROP:this._processDrop();break;case n.STATE_BURN:this._processBurn();break;case n.STATE_ARE:this._processARE();break;case n.STATE_GAME_OVER:this._processGameOver();break;case n.STATE_PAUSE:break}this._resetInputs(),++this.frameCounter}_processDrop(){if(--this.framesTilDrop,this.moveLeft&&this._canMovePiece(-1,0)){const t=[...this.piecePosition];--this.piecePosition[0],this.moveSound&&(this.moveSound.currentTime=0,this.moveSound.play()),this._dispatch(n.PIECE_MOVE_LEFT,{type:n.PIECE_MOVE_LEFT,piece:this.piece.name,rotation:this.pieceRotation,oldPosition:t,newPosition:[...this.piecePosition]})}if(this.moveRight&&this._canMovePiece(1,0)){const t=[...this.piecePosition];++this.piecePosition[0],this.moveSound&&(this.moveSound.currentTime=0,this.moveSound.play()),this._dispatch(n.PIECE_MOVE_RIGHT,{type:n.PIECE_MOVE_RIGHT,piece:this.piece.name,rotation:this.pieceRotation,oldPosition:t,newPosition:[...this.piecePosition]})}if(this.rotateClockwise&&this._canRot((this.pieceRotation+1)%this.piece.rot.length)){const t=this.pieceRotation;this.pieceRotation=(this.pieceRotation+1)%this.piece.rot.length,this.rotateSound&&(this.rotateSound.currentTime=0,this.rotateSound.play()),this._dispatch(n.PIECE_ROTATE_CLOCKWISE,{type:n.PIECE_ROTATE_CLOCKWISE,piece:this.piece.name,position:[...this.piecePosition],oldRotation:t,newRotation:this.pieceRotation})}if(this.rotateAnticlockwise&&this._canRot((this.pieceRotation+this.piece.rot.length-1)%this.piece.rot.length)){const t=this.pieceRotation;this.pieceRotation=(this.pieceRotation+this.piece.rot.length-1)%this.piece.rot.length,this.rotateSound&&(this.rotateSound.currentTime=0,this.rotateSound.play()),this._dispatch(n.PIECE_ROTATE_ANTICLOCKWISE,{type:n.PIECE_ROTATE_ANTICLOCKWISE,piece:this.piece.name,position:[...this.piecePosition],oldRotation:t,newRotation:this.pieceRotation})}if(this.hardDrop){const t=[...this.piecePosition];while(this._canMovePiece(0,1))++this.piecePosition[1],this.pressDownScore+=2;this._dispatch(n.PIECE_HARD_DROP,{type:n.PIECE_HARD_DROP,piece:this.piece.name,rotation:this.pieceRotation,oldPosition:t,newPosition:[...this.piecePosition]}),this._lockPiece()}else if(this.moveDown||0===this.framesTilDrop)if(this._canMovePiece(0,1)){this.moveDown&&++this.pressDownScore;const t=[...this.piecePosition];++this.piecePosition[1],this.framesTilDrop=this._getFramesPerGridcell(this.level),this._dispatch(n.PIECE_MOVE_DOWN,{type:n.PIECE_MOVE_DOWN,piece:this.piece.name,rotation:this.pieceRotation,oldPosition:t,newPosition:[...this.piecePosition],downPressed:this.moveDown})}else this._lockPiece()}_lockPiece(){if(this.framesTilDrop=-1,this._setPiece(),this._dispatch(n.PIECE_LOCK,{type:n.PIECE_LOCK,piece:this.piece.name,rotation:this.pieceRotation,position:[...this.piecePosition]}),this.linesCleared=this._getLinesCleared(),this.linesCleared.length>0){this.columnsCleared=0,this.gameState=n.STATE_BURN;const t=this.boardWidth/2;for(let i=0;i<this.linesCleared.length;++i)this.board[this.linesCleared[i]][t+this.columnsCleared]=-1,this.board[this.linesCleared[i]][t-1-this.columnsCleared]=-1;const e=4===this.linesCleared.length?this.tetrisSound:this.lineSound;e&&(e.currentTime=0,e.play()),this._dispatch(n.LINE_CLEAR_START,{type:n.LINE_CLEAR_START,linesBurnt:[...this.linesCleared]})}else{this.setSound&&(this.setSound.currentTime=0,this.setSound.play());const t=this.score;this.score+=this.pressDownScore,this._dispatch(n.SCORE_CHANGE,{type:n.SCORE_CHANGE,oldScore:t,newScore:this.score}),this.areFrames=this._getARE(),this.gameState=n.STATE_ARE}}_processBurn(){if(this.frameCounter%8===0)if(++this.columnsCleared,this.columnsCleared<5){const t=this.boardWidth/2;for(let e=0;e<this.linesCleared.length;++e)this.board[this.linesCleared[e]][t+this.columnsCleared]=-1,this.board[this.linesCleared[e]][t-1-this.columnsCleared]=-1}else{this.columnsCleared=-1;for(let s=this.linesCleared.length-1;s>=0;--s)this.board.splice(this.linesCleared[s],1);while(this.board.length<this.boardHeight)this.board.unshift([...this.emptyRow]);const t=this.score,e=this.lines;this.score+=this.pressDownScore+this._getLinesScore(this.linesCleared.length,this.level),this.lines+=this.linesCleared.length,this._dispatch(n.LINE_CLEAR_END,{type:n.LINE_CLEAR_END,linesBurnt:[...this.linesCleared]}),this._dispatch(n.LINE_CLEAR,{type:n.LINE_CLEAR,oldLines:e,newLines:this.lines}),this._dispatch(n.SCORE_CHANGE,{type:n.SCORE_CHANGE,oldScore:t,newScore:this.score});const i=this._getLevel();if(this.level!=i){const t=this.level;this.level=i,this.levelChangeSound&&(this.levelChangeSound.currentTime=0,this.levelChangeSound.play()),this._dispatch(n.LEVEL_CHANGE,{type:n.LEVEL_CHANGE,oldLevel:t,newLevel:this.level})}this.areFrames=this._getARE(),this.gameState=n.STATE_ARE}}_processARE(){--this.areFrames,0===this.areFrames&&(this.areFrames=-1,this.pressDownScore=0,this.pointerMoveDownEnabled=!1,this.piece=this.next,this.piecePosition=this.piece.iniPos.slice(0),this.pieceRotation=0,this.next=this.pieces[this._nextPieceId()],this._canMovePiece(0,0)?(this.framesTilDrop=this._getFramesPerGridcell(this.level),this.gameState=n.STATE_DROP,this._dispatch(n.NEXT_PIECE,{type:n.NEXT_PIECE,piece:this.piece.name,nextPiece:this.next.name})):(this._setPiece(),this._triggerGameOver()))}_triggerGameOver(){this.gameTheme&&this.gameTheme.pause(),this.gameOverSound&&(this.gameOverSound.currentTime=0,this.gameOverSound.play()),this.gameOverLine=1,this.gameState=n.STATE_GAME_OVER,this._dispatch(n.GAME_OVER_START,{type:n.GAME_OVER_START,level:this.level,score:this.score,lines:this.lines})}_processGameOver(){if(this.frameCounter%8===0)if(++this.gameOverLine,this.gameOverLine<this.boardHeight)for(let t=0;t<this.boardWidth;++t)this.board[this.gameOverLine][t]=7;else this.gameLoop=!1,this._dispatch(n.GAME_OVER_END,{type:n.GAME_OVER_END,level:this.level,score:this.score,lines:this.lines})}_pauseCheck(){this.doUndoPause&&(this.gameState===n.STATE_PAUSE?(this.gameState=this.previousGameState,this.pointerMoveDownEnabled=!1,this.gameTheme&&this.gameTheme.play(),this._dispatch(n.GAME_RESUME,{type:n.GAME_RESUME,level:this.level,score:this.score,lines:this.lines})):(this.previousGameState=this.gameState,this.gameState=n.STATE_PAUSE,this.gameTheme&&this.gameTheme.pause(),this.pauseSound&&(this.pauseSound.currentTime=0,this.pauseSound.play()),this._dispatch(n.GAME_PAUSE,{type:n.GAME_PAUSE,level:this.level,score:this.score,lines:this.lines})))}_resetInputs(){this.moveLeft=!1,this.moveRight=!1,this.moveDown=!1,this.rotateClockwise=!1,this.rotateAnticlockwise=!1,this.hardDrop=!1,this.doUndoPause=!1}_nextPieceId(){let t=8*Math.random()|0;return 7!==t&&t!==this.piece.id||(t=8*Math.random()|0,t=(t+this.piece.id)%7),t}_getLinesScore(t,e){return 1===t?40*(e+1):2===t?100*(e+1):3===t?300*(e+1):1200*(e+1)}_getARE(){const t=this._getLockHeight(),e=10+2*((t+2)/4|0);return 2*e}_getLockHeight(){let t=0;const e=this.piece.rot[this.pieceRotation];for(let i=0;i<e.length;++i)for(let s=0;s<e[i].length;++s)0!=e[i][s]&&(t=Math.max(t,this.piecePosition[1]+i));return this.boardHeight-1-t}_getLevel(){const t=this.lines-Math.min(10*this.startLevel+10,Math.max(100,10*this.startLevel-50));return this.startLevel+(t>=0?1+(t/10|0):0)}_getLinesCleared(){const t=[];for(let e=0;e<this.boardHeight;++e){let i=!0;for(let t=0;i&&t<this.boardWidth;++t)-1===this.board[e][t]&&(i=!1);i&&t.push(e)}return t}_setPiece(){const t=this.piece.rot[this.pieceRotation];for(let e=0;e<t.length;++e)for(let i=0;i<t[e].length;++i)0!=t[e][i]&&(this.board[this.piecePosition[1]+e][this.piecePosition[0]+i]=this.piece.id)}_canMovePiece(t,e){return this._canMove(this.piece,this.pieceRotation,this.piecePosition,t,e)}_canMove(t,e,i,s,o){const a=t.rot[e];for(let n=0;n<a.length;++n)for(let t=0;t<a[n].length;++t)if(0!=a[n][t]){const e=s+i[0]+t,a=o+i[1]+n;if(e<0||e>=this.boardWidth||a>=this.boardHeight||-1!=this.board[a][e])return!1}return!0}_canRot(t){const e=this.piece.rot[t];for(let i=0;i<e.length;++i)for(let t=0;t<e[i].length;++t)if(0!=e[i][t]){const e=this.piecePosition[0]+t,s=this.piecePosition[1]+i;if(e<0||e>=this.boardWidth||s>=this.boardHeight||-1!=this.board[s][e])return!1}return!0}_render(){this._drawBackground(),this._drawBoard(),this._drawGhost(),this._drawPiece(),this._drawHUD(),this._drawNext()}_drawBackground(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.lineWidth=1;const t=this.gameState===n.STATE_BURN&&4===this.linesCleared.length&&this.frameCounter%8?this.tetrisBackgroundColor:this.backgroundColor;if(this.context.beginPath(),this.context.moveTo(this.boardBorder[0],this.boardBorder[1]),this.context.lineTo(this.boardBorder[2],this.boardBorder[1]),this.context.lineTo(this.boardBorder[2],this.boardBorder[3]),this.context.lineTo(this.boardBorder[0],this.boardBorder[3]),this.context.closePath(),this.context.fillStyle=t,this.context.strokeStyle=this.borderColor,this.context.lineWidth=6,this.context.fill(),this.context.stroke(),this.gameState===n.STATE_PAUSE)this.context.font=this.canvasFont,this.context.fillStyle=this.canvasFontColor,this.context.fillText("PAUSE",this.pauseX,this.pauseY);else{this.context.lineWidth=.5,this.context.strokeStyle=this.gridColor;const t=this.boardX+this.squareSide*this.boardWidth;for(let s=3;s<this.boardHeight;++s){const e=this.boardY+s*this.squareSide;this.context.beginPath(),this.context.moveTo(this.boardX,e),this.context.lineTo(t,e),this.context.closePath(),this.context.stroke()}const e=this.boardY+2*this.squareSide,i=this.boardY+this.boardHeight*this.squareSide;for(let s=0;s<this.boardWidth;++s){const t=this.boardX+s*this.squareSide;this.context.beginPath(),this.context.moveTo(t,e),this.context.lineTo(t,i),this.context.closePath(),this.context.stroke()}this.context.lineWidth=1}}_drawBoard(){if(this.gameState!==n.STATE_PAUSE)for(let t=2;t<this.boardHeight;++t)for(let e=0;e<this.boardWidth;++e)if(-1!=this.board[t][e]){const i=7==this.board[t][e]?this.gameOverColor:this.pieces[this.board[t][e]].col;this._drawSquare(this.boardX+e*this.squareSide,this.boardY+t*this.squareSide,i[0],i[1])}}_drawPiece(){if(this.gameState===n.STATE_DROP){const t=this.piece.rot[this.pieceRotation];for(let e=0;e<t.length;++e)for(let i=0;i<t[e].length;++i)0!=t[e][i]&&this.piecePosition[1]+e>1&&this._drawSquare(this.boardX+(this.piecePosition[0]+i)*this.squareSide,this.boardY+(this.piecePosition[1]+e)*this.squareSide,this.piece.col[0],this.piece.col[1],this.piece.name)}}_drawGhost(){if(this.gameState===n.STATE_DROP){const t=[this.piecePosition[0],this.piecePosition[1]];while(this._canMove(this.piece,this.pieceRotation,t,0,1))++t[1];const e=this.piece.rot[this.pieceRotation];for(let i=0;i<e.length;++i)for(let s=0;s<e[i].length;++s)0!=e[i][s]&&t[1]+i>1&&this._drawSquare(this.boardX+(t[0]+s)*this.squareSide,this.boardY+(t[1]+i)*this.squareSide,this.ghostColor[0],this.ghostColor[1],n.GHOST_PIECE)}}_drawHUD(){let t="SCORE:  ",e="LEVEL:  ",i="LINES:  ",s="NEXT";const o=3,a=35,{scoreX:h,scoreY:r,nextX:l,nextY:c}=this;this.gameState!=n.STATE_PAUSE&&(t+=this.score,e+=this.level,i+=this.lines),this.context.fillStyle=this.borderColor,this.context.fillRect(h-o,r-o,250+2*o,120+2*o),this.context.fillStyle=this.backgroundColor,this.context.fillRect(h,r,250,120),this.context.fillStyle=this.borderColor,this.context.fillRect(l-o,c-o,150+2*o,120+2*o),this.context.fillStyle=this.backgroundColor,this.context.fillRect(l,c,150,120),this.context.font=this.canvasFont,this.context.fillStyle=this.canvasFontColor,this.context.fillText(t,h+a,r+a),this.context.fillText(e,h+a,r+30+a),this.context.fillText(i,h+a,r+60+a),this.context.fillText(s,l+a,c+a),this.nextOffsetX=l+a,this.nextOffsetY=c+a+20}_drawNext(){if(this.gameState===n.STATE_PAUSE||this.gameState===n.STATE_GAME_OVER)return;const t=this.next.rot[0],e=this.next.box;for(let i=e[0];i<e[0]+e[2];++i)for(let s=e[1];s<e[1]+e[3];++s)0!=t[i][s]&&this._drawSquare(this.nextOffsetX+(s-e[1])*this.squareSide,this.nextOffsetY+(i-e[0])*this.squareSide,this.next.col[0],this.next.col[1],this.next.name)}_drawSquare(t,e,i,s,o){const a=3,{GHOST_PIECE:h}=n;this.context.beginPath(),this.context.moveTo(t+1,e+1),this.context.lineTo(t+this.squareSide-1,e+1),this.context.lineTo(t+this.squareSide-1,e+this.squareSide-1),this.context.lineTo(t+1,e+this.squareSide-1),this.context.closePath(),this.context.fillStyle=i,this.context.strokeStyle=s,this.context.fill(),this.context.stroke(),o!==h&&(this.context.beginPath(),this.context.moveTo(t+1,e+1),this.context.lineTo(t+a,e+1),this.context.lineTo(t+a,e+a),this.context.lineTo(t+1,e+a),this.context.closePath(),this.context.fillStyle="#fff",this.context.fill(),this.context.beginPath(),this.context.moveTo(t+a,e+a),this.context.lineTo(t+3*a,e+a),this.context.lineTo(t+3*a,e+2*a),this.context.lineTo(t+2*a,e+2*a),this.context.lineTo(t+2*a,e+3*a),this.context.lineTo(t+a,e+3*a),this.context.closePath(),this.context.fill())}_sleep(){return new Promise(requestAnimationFrame)}on(t,e){const i=this.handlers.get(t);i&&i.push(e)}off(t,e){const i=this.handlers.get(t);if(i){const t=i.indexOf(e);-1!=t&&i.splice(t,1)}}_dispatch(t,e){const i=this.handlers.get(t);if(i)for(const s of i)s(e)}}a(n,"Z_ROT",[[[0,0,0],[1,1,0],[0,1,1]],[[0,0,1],[0,1,1],[0,1,0]]]),a(n,"S_ROT",[[[0,0,0],[0,1,1],[1,1,0]],[[0,1,0],[0,1,1],[0,0,1]]]),a(n,"O_ROT",[[[1,1],[1,1]]]),a(n,"L_ROT",[[[0,0,0],[1,1,1],[1,0,0]],[[1,1,0],[0,1,0],[0,1,0]],[[0,0,1],[1,1,1],[0,0,0]],[[0,1,0],[0,1,0],[0,1,1]]]),a(n,"J_ROT",[[[0,0,0],[1,1,1],[0,0,1]],[[0,1,0],[0,1,0],[1,1,0]],[[1,0,0],[1,1,1],[0,0,0]],[[0,1,1],[0,1,0],[0,1,0]]]),a(n,"T_ROT",[[[0,0,0],[1,1,1],[0,1,0]],[[0,1,0],[1,1,0],[0,1,0]],[[0,1,0],[1,1,1],[0,0,0]],[[0,1,0],[0,1,1],[0,1,0]]]),a(n,"I_ROT",[[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]]]),a(n,"Z_INI_POS",[4,1]),a(n,"S_INI_POS",[4,1]),a(n,"O_INI_POS",[4,2]),a(n,"L_INI_POS",[4,1]),a(n,"J_INI_POS",[4,1]),a(n,"T_INI_POS",[4,1]),a(n,"I_INI_POS",[3,0]),a(n,"Z_BOX",[1,0,2,3]),a(n,"S_BOX",[1,0,2,3]),a(n,"O_BOX",[0,0,2,2]),a(n,"L_BOX",[1,0,2,3]),a(n,"J_BOX",[1,0,2,3]),a(n,"T_BOX",[1,0,2,3]),a(n,"I_BOX",[2,0,1,4]),a(n,"Z_PIECE","z"),a(n,"S_PIECE","s"),a(n,"O_PIECE","o"),a(n,"L_PIECE","l"),a(n,"J_PIECE","j"),a(n,"T_PIECE","t"),a(n,"I_PIECE","i"),a(n,"GHOST_PIECE","ghost"),a(n,"STATE_DROP",0),a(n,"STATE_BURN",1),a(n,"STATE_ARE",2),a(n,"STATE_GAME_OVER",3),a(n,"STATE_PAUSE",4),a(n,"GAME_START","game-start"),a(n,"GAME_OVER","game-over"),a(n,"GAME_OVER_START","game-over-start"),a(n,"GAME_OVER_END","game-over-end"),a(n,"GAME_PAUSE","game-pause"),a(n,"GAME_RESUME","game-resume"),a(n,"PIECE_MOVE_LEFT","piece-move-left"),a(n,"PIECE_MOVE_RIGHT","piece-move-right"),a(n,"PIECE_MOVE_DOWN","piece-move-down"),a(n,"PIECE_HARD_DROP","piece-hard-drop"),a(n,"PIECE_ROTATE_CLOCKWISE","piece-rotate-clockwise"),a(n,"PIECE_ROTATE_ANTICLOCKWISE","piece-rotate-anticlockwise"),a(n,"PIECE_LOCK","piece-lock"),a(n,"NEXT_PIECE","next-piece"),a(n,"LEVEL_CHANGE","level-change"),a(n,"SCORE_CHANGE","score-change"),a(n,"LINE_CLEAR_START","line-clear-start"),a(n,"LINE_CLEAR_END","line-clear-end"),a(n,"LINE_CLEAR","line-clear"),a(n,"BOARD_WIDTH",10),a(n,"BOARD_HEIGHT",22);var h=i("b8f8"),r=i("3af2"),l=i("6792"),c=i("e0b8"),d=i("6210"),_=i("e273"),p=i("d98f"),u=i("10dc"),m=i("7e41"),E=i("0f35"),g=i("dd1a"),v=i.n(g),C=i("0448"),f=i.n(C),S=i("7cdc"),b=i.n(S),P=i("2045"),T=i.n(P),w=i("2fea"),A=i.n(w),O=i("7adb"),x=i.n(O),R=i("170f"),I=i.n(R),L=i("051a"),D=i.n(L),y={data(){const{user:t,assets:e}=this.$store.state;return{toolbar:[{label:this.$t("game"),items:[{label:this.$t("new-game"),onClick:this.newGame},{},{label:this.$t("statistics"),onClick:this.toggleStats},{label:this.$t("exit"),onClick:this.exit}]},{label:this.$t("help"),items:[{label:`${this.$t("view")} ${this.$t("help")}`,onClick:this.toggleHelp}]}],background:Object(E["a"])(e.games,"tetris-bg"),showHelp:!1,showStats:!1,showConfirm:!1,showWatchAd:!1,isNew:!0,isPlaying:!1,statData:null,gameStats:new c["a"]("tetris",t),game:null,sound:{bgm:new Audio(v.a),rotate:new Audio(D.a),lock:new Audio(A.a),move:new Audio(x.a),burn:new Audio(f.a),quad:new Audio(I.a),levelup:new Audio(T.a),gameOver:new Audio(b.a)}}},mounted(){this.showWatchAd=!0,this.init(),document.addEventListener("click",this.pause)},beforeDestroy(){document.removeEventListener("click",this.pause)},methods:{init(){const{gameCanvas:t,btnPlay:e,btnNew:i}=this.$refs,{clientWidth:s,clientHeight:o}=t.parentElement,a=e.getBoundingClientRect(),h=i.getBoundingClientRect(),r=10,l=20,c=o/l,d=(s-c*r)/2;t.height=o+2*c,t.width=s,e.style.left=d-a.width-c+"px",e.style.bottom=2*c+h.height+"px",i.style.left=d-h.width-c+"px",i.style.bottom=c+"px",this.game=new n(t,{boardX:d,boardY:-c,boardWidth:r,boardHeight:l+2,squareSide:c,pauseX:(s-60)/2,nextX:d-153-c,nextY:c,scoreX:d+c*r+c,scoreY:c,borderColor:"#9edbf2",backgroundColor:"#000",tetrisBackgroundColor:"#000",gridColor:"#000",ghostColor:["#222","#000"],gameTheme:this.sound.bgm,rotateSound:this.sound.rotate,setSound:this.sound.lock,moveSound:this.sound.move,lineSound:this.sound.burn,tetrisSound:this.sound.quad,levelChangeSound:this.sound.levelup,gameOverSound:this.sound.gameOver}),this.game.on(n.GAME_OVER_END,this.handleGameOver)},newGame(){this.game.quit(),this.isNew=!0},handleGameOver({level:t,score:e,lines:i}){if(!this.isNew){const s=(t,e)=>e.score-t.score;this.gameStats.saveScore({level:t,score:e,lines:i},s),this.toggleStats(),this.isNew=!0}this.togglePlay()},pause({target:t}){const{gameCanvas:e,btnPlay:i,btnNew:s}=this.$refs;![e,i,s].includes(t)&&this.isPlaying&&this.togglePlay()},togglePlay(){this.isNew&&(this.gameStats.init(0),this.isNew=!1),this.game.togglePlayPause(),this.isPlaying=!this.isPlaying},toggleHelp(){this.showHelp=!this.showHelp},toggleStats(){this.showStats=!this.showStats,this.statData=this.gameStats.getData()[0]},toggleConfirm(){this.showConfirm=!this.showConfirm},resetStats(){const{gameStats:t}=this;t.reset(),this.statData=t.getData()[0],this.toggleConfirm()},exit(){this.$root.$emit(l["c"].CloseWindow,"tetris"),this.game.gameLoop=!1,Object.values(this.sound).forEach(t=>t.src=""),document.removeEventListener("click",this.pause)}},components:{Controls:r["a"],TitleBar:d["a"],ToolBar:_["a"],Window:u["a"],WindowStatic:m["a"],ConfirmReset:h["a"],WatchAd:p["a"]}},k=y,M=(i("5c3f8"),i("2877")),G=Object(M["a"])(k,s,o,!1,null,"d0ae073e",null);e["default"]=G.exports},"7e41":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["window window-static active",{centered:t.centered}]},[t._t("default")],2)},o=[],a={props:{centered:{type:Boolean,default:!0}}},n=a,h=(i("f3aa"),i("2877")),r=Object(h["a"])(n,s,o,!1,null,"49606194",null);e["a"]=r.exports},"988e":function(t,e,i){},b497:function(t,e,i){"use strict";i("988e")},b8f8:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("window-static",{staticClass:"auto-w",attrs:{id:t.id}},[i("title-bar",{attrs:{title:t.$t("reset")+" "+t.$t("statistics")}},[i("controls",{attrs:{hideMaximize:"",hideMinimize:"",close:t.handleClose}})],1),i("div",{staticClass:"container"},[i("div",{staticClass:"mb-5"},[t._v(t._s(t.$t("confirm-reset")))]),i("section",[i("winui-button",{staticClass:"default",on:{click:function(e){return e.stopPropagation(),t.reset(e)}}},[t._v(" "+t._s(t.$t("yes"))+" ")]),i("winui-button",{on:{click:function(e){return e.stopPropagation(),t.handleClose(e)}}},[t._v(" "+t._s(t.$t("no"))+" ")])],1)])],1)},o=[],a=i("3af2"),n=i("6210"),h=i("7e41"),r={props:{id:String,close:Function},methods:{handleClose(){this.close&&this.close()},reset(){this.$emit("reset")}},components:{TitleBar:n["a"],Controls:a["a"],WindowStatic:h["a"]}},l=r,c=(i("b497"),i("2877")),d=Object(c["a"])(l,s,o,!1,null,"02f8c3b6",null);e["a"]=d.exports},d98f:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("core-message",{attrs:{noPreTag:"","data-test-popup":"watch-ad"},on:{close:t.cancel},scopedSlots:t._u([{key:"footer",fn:function(){return[i("winui-button",{staticClass:"default",attrs:{"data-test-action":"remove-ads"},on:{click:t.showPricing}},[t._v(" "+t._s(t.$t("remove-ads"))+" ")]),i("winui-button",{attrs:{"data-test-action":"watch-ads"},on:{click:t.watchAd}},[t._v(" "+t._s(t.$t("watch-ad"))+" ")]),i("winui-button",{attrs:{"data-test-action":"cancel"},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("cancel"))+" ")])]},proxy:!0}])},[i("div",{staticClass:"title-1 mb-6"},[t._v(" "+t._s(t.$t("confirm-watch-ad"))+" ")])])},o=[],a=i("e302"),n=i("3f55"),h=i("6792"),r=i("01b4"),l=i("f708"),c=i("2f62"),d={components:{CoreMessage:n["a"]},props:{target:String,isRewarded:Boolean},computed:Object(c["d"])(["showAds"]),watch:{showAds:{immediate:!0,handler(){this.showAds&&Object(a["e"])()&&!Object(l["d"])()||this.close()}}},methods:{watchAd(){this.isRewarded?Object(a["k"])():Object(a["j"])(),this.close()},showPricing(){this.$root.$emit(r["a"].Pricing,!0)},cancel(){const{target:t}=this;t&&t.startsWith("window")&&this.$root.$emit(h["c"].CloseWindow,t.split("-")[1]),this.$emit("cancel")},close(){this.$emit("close")}}},_=d,p=i("2877"),u=Object(p["a"])(_,s,o,!1,null,"448a67cf",null);e["a"]=u.exports},dd1a:function(t,e,i){t.exports=i.p+"media/tetris-bgm.10ad6034.mp3"},e0b8:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=i("968c");const o={total:0,completed:0,won:0};class a{constructor(t,e){this.user=e,this.key=t,s["a"].local.get("scores-"+t,this.user).then(t=>{this.data=t||{0:{...o,scores:[]},1:{...o,scores:[]},2:{...o,scores:[]}}})}getData(){return this.data}saveData(){s["a"].local.update("scores-"+this.key,this.user,this.data)}init(t){this.level=t,this.data[this.level].total++,this.saveData()}saveScore(t,e=((t,e)=>t.time-e.time)){const{scores:i}=this.data[this.level];i.push(t),i.sort(e),i.length>5&&i.pop(),this.complete()}win(){this.data[this.level].won++,this.saveData()}complete(){this.data[this.level].completed++,this.saveData()}reset(t=this.key){s["a"].local.remove("scores-"+t,this.user),this.data={0:{...o,scores:[]},1:{...o,scores:[]},2:{...o,scores:[]}}}}},f3aa:function(t,e,i){"use strict";i("2543")}}]);