(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["solitaire"],{2543:function(t,e,s){},"254b":function(t,e,s){},3480:function(t,e,s){"use strict";s("254b")},3883:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"statusbar",attrs:{"data-test-status-bar":""}},[t._t("default")],2)},i=[],o=(s("9d6f"),s("2877")),n={},r=Object(o["a"])(n,a,i,!1,null,"87ba0eb0",null);e["a"]=r.exports},"3f55":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("window-static",[s("title-bar",{attrs:{title:t.title}},[s("controls",{attrs:{hideMaximize:"",hideMinimize:"",controlTheme:t.theme,close:function(){return t.$emit("close")}}})],1),s("div",{class:["container",t.containerClass]},[t.icon?s("main",[s("img",{attrs:{src:t.icon}}),t.noPreTag?t._t("default"):s("pre",[t._t("default")],2)],2):[t._t("default")]],2),s("div",{staticClass:"footer flex justify-end"},[t._t("footer")],2)],1)},i=[],o=s("3af2"),n=s("6210"),r=s("7e41"),c=s("2f62"),l={components:{WindowStatic:r["a"],Controls:o["a"],TitleBar:n["a"]},props:{type:{type:String,validator(t){return["warning","error"].includes(t)}},title:String,theme:String,containerClass:String,noPreTag:Boolean},computed:{...Object(c["c"])(["themeData"]),icon(){return this.themeData.icon[this.type]}}},h=l,d=(s("6fdb"),s("2877")),u=Object(d["a"])(h,a,i,!1,null,"cde5e908",null);e["a"]=u.exports},"46e3":function(t,e,s){},"6fdb":function(t,e,s){"use strict";s("46e3")},7290:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fragment game-container"},[t.showWatchAd?s("watch-ad",{attrs:{target:"window-solitaire"},on:{close:function(e){t.showWatchAd=!1}}}):t._e(),s("window",{attrs:{id:"window-solitaire",w:600,h:450,resizable:!1,lock:t.showHelp||t.showAbout||t.showStats||t.showWatchAd}},[s("title-bar",{attrs:{icon:"solitaire",title:t.$t("solitaire")}},[s("controls")],1),s("tool-bar",{attrs:{items:t.toolbar}}),s("div",{staticClass:"container p-0"},[s("iframe",{ref:"iframe",attrs:{src:t.url,allow:"autoplay"}})]),s("status-bar",[s("div",[t._v(t._s(t.$t("time"))+": "+t._s(t.time))]),s("div",[t._v(t._s(t.$t("score"))+": "+t._s(t.score))])])],1),t.showHelp?s("window-static",{staticClass:"help"},[s("title-bar",{attrs:{title:t.$t("help")}},[s("controls",{attrs:{hideMaximize:"",hideMinimize:"",close:t.toggleHelp}})],1),s("div",{staticClass:"container"},[s("h3",[t._v("How to play")]),s("p",[t._v(" The rules are available for multiple languages on "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Klondike_(solitaire)",target:"_blank"}},[t._v("Wikipedia")]),t._v(". ")]),s("h3",[t._v("Controls")]),s("ul",[s("li",[t._v("Move a card by dragging it to a designated target, or")]),s("li",[t._v(" Click on the card to get it moved automatically to an available target. ")])])])],1):t._e(),t.showAbout?s("window-static",{staticClass:"help"},[s("title-bar",{attrs:{title:t.$t("about")}},[s("controls",{attrs:{hideMaximize:"",hideMinimize:"",close:t.toggleAbout}})],1),s("div",{staticClass:"container"},[s("p",[t._v(" The original Windows Solitaire game is developed by Oberon Games and Microsoft Corporation. ")]),s("p",[t._v(" This Solitaire game is created by "),s("a",{attrs:{href:"https://github.com/rjanjic",target:"_blank"}},[t._v("Radovan Janjic")]),t._v(" and licensed MIT. ")])])],1):t._e(),t.showStats?s("window-static",{staticClass:"help",attrs:{id:"solitaire-stats"}},[s("title-bar",{attrs:{title:t.$t("statistics")}},[s("controls",{attrs:{hideMaximize:"",hideMinimize:"",close:t.toggleStats}})],1),s("div",{staticClass:"container"},[s("winui-fieldset",{staticClass:"mb-5"},[s("legend",[t._v(t._s(t.$t("highscores")))]),t.statData&&t.statData.scores?s("table",[s("tr",[s("th",[t._v(t._s(t.$t("time")))]),s("th",[t._v(t._s(t.$t("score")))])]),t._l(t.statData.scores,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(t.convertTime(e.time)))]),s("td",[t._v(t._s(e.score))])])}))],2):t._e()]),s("div",{staticClass:"mb-5"},[t.statData?[s("div",[t._v(t._s(t.$t("games-played"))+": "+t._s(t.statData.total))]),s("div",[t._v(t._s(t.$t("games-won"))+": "+t._s(t.statData.won))]),s("div",[t._v(t._s(t.$t("win-percentage"))+": "+t._s((t.statData.won/(t.statData.total||1)*100).toFixed())+"%")])]:[s("div",[t._v(t._s(t.$t("games-played"))+": 0")]),s("div",[t._v(t._s(t.$t("games-won"))+": 0")]),s("div",[t._v(t._s(t.$t("win-percentage"))+": 0%")])]],2),s("div",{staticClass:"bts"},[s("winui-button",{staticClass:"default",on:{click:function(e){return e.stopPropagation(),t.toggleStats(e)}}},[t._v(" "+t._s(t.$t("close"))+" ")]),s("winui-button",{on:{click:function(e){return e.stopPropagation(),t.toggleConfirm(e)}}},[t._v(" "+t._s(t.$t("reset"))+" ")])],1)],1)],1):t._e(),t.confirm?s("confirm-reset",{attrs:{close:t.toggleConfirm},on:{reset:t.reset}}):t._e()],1)},i=[],o=s("b8f8"),n=s("3af2"),r=s("6792"),c=s("e0b8"),l=s("3883"),h=s("6210"),d=s("e273"),u=s("d98f"),m=s("10dc"),w=s("7e41"),f=s("a146"),g={components:{Window:m["a"],WindowStatic:w["a"],TitleBar:h["a"],ToolBar:d["a"],Controls:n["a"],StatusBar:l["a"],ConfirmReset:o["a"],WatchAd:u["a"]},data(){const{user:t}=this.$store.state;return{toolbar:[{label:this.$t("game"),items:[{label:this.$t("new-game"),onClick:this.newGame},{},{label:this.$t("statistics"),onClick:this.toggleStats},{label:this.$t("exit"),onClick:this.exit}]},{label:this.$t("help"),items:[{label:`${this.$t("view")} ${this.$t("help")}`,onClick:this.toggleHelp},{label:this.$t("about"),onClick:this.toggleAbout}]}],url:"./solitaire/index.html",score:0,time:0,timer:null,gameStats:new c["a"]("solitaire",t),gameWon:!1,statData:null,showHelp:!1,showAbout:!1,showStats:!1,showWatchAd:!1,confirm:!1,convertTime:f["d"]}},mounted(){this.showWatchAd=!0,window.addEventListener("message",this.onMessage)},beforeDestroy(){window.removeEventListener("message",this.onMessage)},watch:{time(t){t&&t%10===0&&(this.score-=2),this.score<0&&(this.score=0)}},methods:{onMessage({data:t}){const{game:e,GameState:s,state:a}=t,{time:i,score:o}=this,n=(t,e)=>e.score-t.score;if("js-solitaire"===e)switch(a){case s.Start:this.gameStats.init(0),this.startTimer();break;case s.Finish:this.gameWon=!0,this.gameStats.win(),this.gameStats.saveScore({time:i,score:o},n),this.toggleStats();break;case s.FlipDesk:case s.DrawDeal:this.score+=5;break;case s.DrawHome:this.score-=10;break;case s.MoveHome:this.score+=10;break}},newGame(){clearInterval(this.timer),this.timer=null,this.time=0,this.score=0,this.$refs.iframe.contentWindow.postMessage("reset","*")},startTimer(){this.timer=setInterval(()=>this.time++,1e3)},toggleHelp(){this.showHelp=!this.showHelp},toggleAbout(){this.showAbout=!this.showAbout},toggleStats(){this.showStats=!this.showStats,this.showStats&&(this.statData=this.gameStats.getData()[0]),this.gameWon&&(this.gameWon=!1,this.newGame())},toggleConfirm(){this.confirm=!this.confirm},reset(){const{gameStats:t}=this;t.reset(),this.statData=t.getData()[0],this.toggleConfirm()},exit(){this.$root.$emit(r["c"].CloseWindow,"solitaire")}}},v=g,b=(s("3480"),s("2877")),p=Object(b["a"])(v,a,i,!1,null,"1ca44358",null);e["default"]=p.exports},"7e41":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["window window-static active",{centered:t.centered}]},[t._t("default")],2)},i=[],o={props:{centered:{type:Boolean,default:!0}}},n=o,r=(s("f3aa"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"49606194",null);e["a"]=c.exports},"988e":function(t,e,s){},"9d6f":function(t,e,s){"use strict";s("c06d")},a146:function(t,e,s){"use strict";s.d(e,"d",(function(){return i})),s.d(e,"c",(function(){return o})),s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return r}));var a=s("0f35");function i(t,e=!1){const s=60;return t>=s?`${Object(a["m"])((t/s).toFixed())}:${Object(a["m"])(t%s)}`:e?"00:"+Object(a["m"])(t):t+" seconds"}function o(t){return new Date(t).toLocaleDateString("en-US")}const n={PurblePlace:"purbleplace",PurblePair:"purblepair",PurbleShop:"purbleshop",ComfyCakes:"comfycakes"},r={Master:"Purble Master",Champ:"Champion of Logic",Detective:"Senior Detective"}},b497:function(t,e,s){"use strict";s("988e")},b8f8:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("window-static",{staticClass:"auto-w",attrs:{id:t.id}},[s("title-bar",{attrs:{title:t.$t("reset")+" "+t.$t("statistics")}},[s("controls",{attrs:{hideMaximize:"",hideMinimize:"",close:t.handleClose}})],1),s("div",{staticClass:"container"},[s("div",{staticClass:"mb-5"},[t._v(t._s(t.$t("confirm-reset")))]),s("section",[s("winui-button",{staticClass:"default",on:{click:function(e){return e.stopPropagation(),t.reset(e)}}},[t._v(" "+t._s(t.$t("yes"))+" ")]),s("winui-button",{on:{click:function(e){return e.stopPropagation(),t.handleClose(e)}}},[t._v(" "+t._s(t.$t("no"))+" ")])],1)])],1)},i=[],o=s("3af2"),n=s("6210"),r=s("7e41"),c={props:{id:String,close:Function},methods:{handleClose(){this.close&&this.close()},reset(){this.$emit("reset")}},components:{TitleBar:n["a"],Controls:o["a"],WindowStatic:r["a"]}},l=c,h=(s("b497"),s("2877")),d=Object(h["a"])(l,a,i,!1,null,"02f8c3b6",null);e["a"]=d.exports},c06d:function(t,e,s){},d98f:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("core-message",{attrs:{noPreTag:"","data-test-popup":"watch-ad"},on:{close:t.cancel},scopedSlots:t._u([{key:"footer",fn:function(){return[s("winui-button",{staticClass:"default",attrs:{"data-test-action":"remove-ads"},on:{click:t.showPricing}},[t._v(" "+t._s(t.$t("remove-ads"))+" ")]),s("winui-button",{attrs:{"data-test-action":"watch-ads"},on:{click:t.watchAd}},[t._v(" "+t._s(t.$t("watch-ad"))+" ")]),s("winui-button",{attrs:{"data-test-action":"cancel"},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("cancel"))+" ")])]},proxy:!0}])},[s("div",{staticClass:"title-1 mb-6"},[t._v(" "+t._s(t.$t("confirm-watch-ad"))+" ")])])},i=[],o=s("e302"),n=s("3f55"),r=s("6792"),c=s("01b4"),l=s("f708"),h=s("2f62"),d={components:{CoreMessage:n["a"]},props:{target:String,isRewarded:Boolean},computed:Object(h["d"])(["showAds"]),watch:{showAds:{immediate:!0,handler(){this.showAds&&Object(o["e"])()&&!Object(l["d"])()||this.close()}}},methods:{watchAd(){this.isRewarded?Object(o["k"])():Object(o["j"])(),this.close()},showPricing(){this.$root.$emit(c["a"].Pricing,!0)},cancel(){const{target:t}=this;t&&t.startsWith("window")&&this.$root.$emit(r["c"].CloseWindow,t.split("-")[1]),this.$emit("cancel")},close(){this.$emit("close")}}},u=d,m=s("2877"),w=Object(m["a"])(u,a,i,!1,null,"448a67cf",null);e["a"]=w.exports},e0b8:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s("968c");const i={total:0,completed:0,won:0};class o{constructor(t,e){this.user=e,this.key=t,a["a"].local.get("scores-"+t,this.user).then(t=>{this.data=t||{0:{...i,scores:[]},1:{...i,scores:[]},2:{...i,scores:[]}}})}getData(){return this.data}saveData(){a["a"].local.update("scores-"+this.key,this.user,this.data)}init(t){this.level=t,this.data[this.level].total++,this.saveData()}saveScore(t,e=((t,e)=>t.time-e.time)){const{scores:s}=this.data[this.level];s.push(t),s.sort(e),s.length>5&&s.pop(),this.complete()}win(){this.data[this.level].won++,this.saveData()}complete(){this.data[this.level].completed++,this.saveData()}reset(t=this.key){a["a"].local.remove("scores-"+t,this.user),this.data={0:{...i,scores:[]},1:{...i,scores:[]},2:{...i,scores:[]}}}}},f3aa:function(t,e,s){"use strict";s("2543")}}]);