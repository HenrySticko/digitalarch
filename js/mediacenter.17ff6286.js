(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mediacenter","cursor"],{"0003":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("cee4");const a="https://raw.githubusercontent.com/Visnalize/resources/main/";async function n(e,t){if(!e)throw new Error("Resource endpoint is required");return(await s["a"].get(a+e,{responseType:t})).data}},"00f6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeexParser=void 0;const s=i("34eb"),a=i("bda5c"),n=i("04cc"),r=(0,s.default)("music-metadata:parser:ogg:speex");class o extends a.VorbisParser{constructor(e,t,i){super(e,t),this.tokenizer=i}parseFirstPage(e,t){r("First Ogg/Speex page");const i=n.Header.get(t,0);this.metadata.setFormat("codec","Speex "+i.version),this.metadata.setFormat("numberOfChannels",i.nb_channels),this.metadata.setFormat("sampleRate",i.rate),-1!==i.bitrate&&this.metadata.setFormat("bitrate",i.bitrate)}}t.SpeexParser=o},"0159":function(e,t,i){"use strict";i("3073")},"02f0":function(e,t,i){},"03eb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinArtists=t.MetadataCollector=void 0;const s=i("cec2"),a=i("34eb"),n=i("2819"),r=i("a869"),o=i("fc97"),c=i("d3ab"),l=i("dbbe"),u=(0,a.default)("music-metadata:collector"),d=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","AIFF","ID3v1"];class h{constructor(e){this.opts=e,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new r.CombinedTagMapper;let t=1;for(const i of d)this.originPriority[i]=t++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(e){u(`streamInfo: type=${s.TrackType[e.type]}, codec=${e.codecName}`),this.format.trackInfo.push(e)}setFormat(e,t){u(`format: ${e} = ${t}`),this.format[e]=t,this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:e,value:t}})}addTag(e,t,i){u(`tag ${e}.${t} = ${i}`),this.native[e]||(this.format.tagTypes.push(e),this.native[e]=[]),this.native[e].push({id:t,value:i}),this.toCommon(e,t,i)}addWarning(e){this.quality.warnings.push({message:e})}postMap(e,t){switch(t.id){case"artist":if(this.commonOrigin.artist===this.originPriority[e])return this.postMap("artificial",{id:"artists",value:t.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:t.value});break;case"artists":if((!this.common.artist||this.commonOrigin.artist===this.originPriority.artificial)&&(!this.common.artists||-1===this.common.artists.indexOf(t.value))){const e=(this.common.artists||[]).concat([t.value]),i=m(e),s={id:"artist",value:i};this.setGenericTag("artificial",s)}break;case"picture":return void this.postFixPicture(t.value).then(i=>{null!==i&&(t.value=i,this.setGenericTag(e,t))});case"totaltracks":return void(this.common.track.of=o.CommonTagMapper.toIntOrNull(t.value));case"totaldiscs":return void(this.common.disk.of=o.CommonTagMapper.toIntOrNull(t.value));case"movementTotal":return void(this.common.movementIndex.of=o.CommonTagMapper.toIntOrNull(t.value));case"track":case"disk":case"movementIndex":const i=this.common[t.id].of;return this.common[t.id]=o.CommonTagMapper.normalizeTrack(t.value),void(this.common[t.id].of=null!=i?i:this.common[t.id].of);case"bpm":case"year":case"originalyear":t.value=parseInt(t.value,10);break;case"date":const s=parseInt(t.value.substr(0,4),10);isNaN(s)||(this.common.year=s);break;case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":t.value="string"===typeof t.value?parseInt(t.value,10):t.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":t.value=(0,c.toRatio)(t.value);break;case"replaygain_track_minmax":t.value=t.value.split(",").map(e=>parseInt(e,10));break;case"replaygain_undo":const a=t.value.split(",").map(e=>parseInt(e,10));t.value={leftChannel:a[0],rightChannel:a[1]};break;case"gapless":case"compilation":case"podcast":case"showMovement":t.value="1"===t.value||1===t.value;break;case"isrc":if(this.common[t.id]&&-1!==this.common[t.id].indexOf(t.value))return;break;default:}null!==t.value&&this.setGenericTag(e,t)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(e){if(e.data&&e.data.length>0){if(!e.format){const t=await l.fromBuffer(e.data);if(!t)return null;e.format=t.mime}switch(e.format=e.format.toLocaleLowerCase(),e.format){case"image/jpg":e.format="image/jpeg"}return e}return this.addWarning("Empty picture tag found"),null}toCommon(e,t,i){const s={id:t,value:i},a=this.tagMapper.mapTag(e,s,this);a&&this.postMap(e,a)}setGenericTag(e,t){u(`common.${t.id} = ${t.value}`);const i=this.commonOrigin[t.id]||1e3,s=this.originPriority[e];if((0,n.isSingleton)(t.id)){if(!(s<=i))return u(`Ignore native tag (singleton): ${e}.${t.id} = ${t.value}`);this.common[t.id]=t.value,this.commonOrigin[t.id]=s}else if(s===i)(0,n.isUnique)(t.id)&&-1!==this.common[t.id].indexOf(t.value)?u(`Ignore duplicate value: ${e}.${t.id} = ${t.value}`):this.common[t.id].push(t.value);else{if(!(s<i))return u(`Ignore native tag (list): ${e}.${t.id} = ${t.value}`);this.common[t.id]=[t.value],this.commonOrigin[t.id]=s}this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:t.id,value:t.value}})}}function m(e){return e.length>2?e.slice(0,e.length-1).join(", ")+" & "+e[e.length-1]:e.join(" & ")}t.MetadataCollector=h,t.joinArtists=m},"04cc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const s=i("6f58a"),a=i("d3ab");t.Header={len:80,get:(e,t)=>({speex:new s.StringType(8,"ascii").get(e,t+0),version:a.trimRightNull(new s.StringType(20,"ascii").get(e,t+8)),version_id:e.readInt32LE(t+28),header_size:e.readInt32LE(t+32),rate:e.readInt32LE(t+36),mode:e.readInt32LE(t+40),mode_bitstream_version:e.readInt32LE(t+44),nb_channels:e.readInt32LE(t+48),bitrate:e.readInt32LE(t+52),frame_size:e.readInt32LE(t+56),vbr:e.readInt32LE(t+60),frames_per_packet:e.readInt32LE(t+64),extra_headers:e.readInt32LE(t+68),reserved1:e.readInt32LE(t+72),reserved2:e.readInt32LE(t+76)})}},"0662":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextEncodingToken=t.ExtendedHeader=t.ID3v2Header=t.UINT32SYNCSAFE=t.AttachedPictureType=void 0;const s=i("6f58a"),a=i("d3ab");(function(e){e[e["Other"]=0]="Other",e[e["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",e[e["Other file icon"]=2]="Other file icon",e[e["Cover (front)"]=3]="Cover (front)",e[e["Cover (back)"]=4]="Cover (back)",e[e["Leaflet page"]=5]="Leaflet page",e[e["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",e[e["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",e[e["Artist/performer"]=8]="Artist/performer",e[e["Conductor"]=9]="Conductor",e[e["Band/Orchestra"]=10]="Band/Orchestra",e[e["Composer"]=11]="Composer",e[e["Lyricist/text writer"]=12]="Lyricist/text writer",e[e["Recording Location"]=13]="Recording Location",e[e["During recording"]=14]="During recording",e[e["During performance"]=15]="During performance",e[e["Movie/video screen capture"]=16]="Movie/video screen capture",e[e["A bright coloured fish"]=17]="A bright coloured fish",e[e["Illustration"]=18]="Illustration",e[e["Band/artist logotype"]=19]="Band/artist logotype",e[e["Publisher/Studio logotype"]=20]="Publisher/Studio logotype"})(t.AttachedPictureType||(t.AttachedPictureType={})),t.UINT32SYNCSAFE={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4},t.ID3v2Header={len:10,get:(e,i)=>({fileIdentifier:new s.StringType(3,"ascii").get(e,i),version:{major:s.INT8.get(e,i+3),revision:s.INT8.get(e,i+4)},flags:{unsynchronisation:a.getBit(e,i+5,7),isExtendedHeader:a.getBit(e,i+5,6),expIndicator:a.getBit(e,i+5,5),footer:a.getBit(e,i+5,4)},size:t.UINT32SYNCSAFE.get(e,i+6)})},t.ExtendedHeader={len:10,get:(e,t)=>({size:s.UINT32_BE.get(e,t),extendedFlags:s.UINT16_BE.get(e,t+4),sizeOfPadding:s.UINT32_BE.get(e,t+6),crcDataPresent:a.getBit(e,t+4,31)})},t.TextEncodingToken={len:1,get:(e,t)=>{switch(e[t]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf16le",bom:!0};case 2:return{encoding:"utf16le",bom:!1};case 3:return{encoding:"utf8",bom:!1};default:return{encoding:"utf8",bom:!1}}}}},"07f7":function(e,t,i){"use strict";i("68a5")},"0974":function(e,t,i){"use strict";i("676e")},"09fd":function(e,t,i){},"0b09":function(e,t,i){"use strict";i("eae4")},"0d7f":function(e,t,i){"use strict";i("9cf8")},"10a8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheoraParser=void 0;const s=i("34eb"),a=i("f3f02"),n=(0,s.default)("music-metadata:parser:ogg:theora");class r{constructor(e,t,i){this.metadata=e,this.tokenizer=i}parsePage(e,t){e.headerType.firstPage&&this.parseFirstPage(e,t)}flush(){n("flush")}calculateDuration(e){n("duration calculation not implemented")}parseFirstPage(e,t){n("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");const i=a.IdentificationHeader.get(t,0);this.metadata.setFormat("bitrate",i.nombr)}}t.TheoraParser=r},"10d9":function(e,t,i){"use strict";i("09fd")},"10dc":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("drag-resize",{class:["window-wrapper",{minimized:e.minimized},{maximized:e.maximized}],attrs:{dragHandle:".title",id:e.id?e.id+"-wrapper":null,active:e.active,draggable:e.draggable,resizable:e.allowResize,minWidth:320,minHeight:240,w:e.width,h:e.height,x:e.x,y:e.y,z:e.z,onResize:e.resize,onDrag:e.handleDrag},on:{"update:active":function(t){e.active=t},dragstop:e.handleDragStop},nativeOn:{mousedown:function(t){return e.focus(t)}}},[i("pose-window",{class:["window",{changing:e.changing},{minimized:e.minimized},{maximized:e.maximized},{active:e.active},{"animated skewIn faster":e.mounted},{"auto-w":e.autoW},{"auto-h":e.autoH}],attrs:{id:e.id,pose:e.minimized?"minimized":"visible",offsetX:e.offsetX,offsetY:e.offsetY},on:{poseComplete:e.handlePoseComplete}},[e._t("default")],2),e.lock?i("overlay",{style:{zIndex:9999}}):e._e()],1)},a=[],n=i("37b6"),r=i("fb19"),o=i.n(r),c=i("6792"),l=i("5097"),u=i("01b4"),d=i("2ea7"),h=i("2f62"),m=i("95d1"),p={props:{id:String,lock:Boolean,parent:String,w:{type:[Number,String],default:400},h:{type:[Number,String],default:300},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},centered:{type:Boolean,default:!1},location:{type:String,default:"top left",validator(e){return["center","top left","top right","bottom left","bottom right"].indexOf(e)>-1}}},data(){const{windows:e}=this.$store.state,t=this.getWindow(e);return{z:t.index,maximized:t.maximized,minimized:t.minimized,active:t.index===e.length,unsubscribe:null,changing:!1,mounted:!1,x:0,y:0,offsetX:0,offsetY:0,width:this.w,height:this.h}},computed:{...Object(h["c"])(["isRtl"]),allowResize(){return!this.maximized&&this.resizable},autoW(){return"auto"===this.w},autoH(){return"auto"===this.h}},watch:{maximized(e){e?(this.offsetX=0,this.$emit("resize","full","full")):this.$emit("resize",this.width,this.height)},minimized(e){this.active=!e,this.changing=!0},lock(e){this.$store.commit(u["a"].WindowUpdate,{id:this.getId(),locked:e})},location:{immediate:!0,handler(e){let t=window.innerWidth-this.width;t=this.isRtl?-t:t;const i=this.$root.$el.querySelector("#taskbar"),s=i?i.offsetHeight:0,a=window.innerHeight-this.height-s,n={left:0,right:t,center:t/2},r={top:0,bottom:a,center:a/2};if(this.centered||"center"===e)this.x=n.center,this.y=r.center;else{const[t,i]=e.split(" ");this.x=n[i],this.y=r[t]}}}},mounted(){this.calcOffset(this.x,this.w),this.mounted=!0,setTimeout(()=>this.mounted=!1,n["a"]),this.unsubscribe=this.$store.subscribe((e,t)=>{if(!e.type.includes("Window"))return;const i=this.getWindow(t.windows);this.z=i.index,this.active=i.index===t.windows.length,this.maximized=i.maximized,this.minimized=i.minimized}),d["a"].scope(this.getId()),d["a"].on("alt+up",()=>this.bindState("maximized"),"Maximize window",this.getId()),d["a"].on("alt+down",()=>this.bindState("minimized"),"Minimize window",this.getId()),d["a"].on("alt+left",()=>this.dock("left"),"Maximize to the left side",this.getId()),d["a"].on("alt+right",()=>this.dock("right"),"Maximize to the right side",this.getId()),d["a"].on("alt+4",()=>this.close(),"Close window",this.getId())},destroyed(){this.unsubscribe(),d["a"].deleteScope(this.getId())},methods:{getId(){return this.id?this.id.split("-")[1]:"dialog"},async calcOffset(e,t){var i;await this.$nextTick();const s=`[data-target="${this.getId()}"]`,a=null===(i=this.$root.$el.querySelector(s))||void 0===i?void 0:i.getBoundingClientRect();if(!a||this.isRtl)this.offsetX=0,this.offsetY=0;else{const{top:i,height:s}=this.$el.getBoundingClientRect(),n=a.x+a.width/2,r=a.y-(i+s/2);this.offsetX=n-(e+t/2),this.offsetY=Math.max(r,50)}},getDefaultSetting(){return{index:99,maximized:!1,minimized:!1,locked:!1}},getWindow(e){const t=e.find(e=>e.id===(this.parent||this.getId()));return this.parent?{...this.getDefaultSetting(),index:t.index}:t||this.getDefaultSetting()},setWindowState(e){this.$store.commit(u["a"].WindowUpdate,{id:this.getId(),...e})},bindState(e){"maximized"===e&&(this.minimized?this.setWindowState({minimized:!1}):this.setWindowState({maximized:!0})),"minimized"===e&&(this.maximized?this.setWindowState({maximized:!1}):this.setWindowState({minimized:!0}))},handleDrag(){this.maximized&&this.setWindowState({maximized:!1})},handleDragStop(e){this.calcOffset(e,this.w)},handlePoseComplete(){this.changing=!1},focus(){this.$store.commit(u["a"].WindowFocus,this.getId()),this.active=!this.minimized,this.lock&&this.$emit("ting"),d["a"].scope(this.getId())},resize(e,t,i,s,a){this.calcOffset(t,s),this.$emit("resize",s,a),this.width=s,this.height=a},dock(e){this.maximized&&this.setWindowState({maximized:!1});const t=this.$root.$el.querySelector("#taskbar"),i=t?t.offsetHeight:0;this.x="left"===e?0:window.innerWidth/2,this.y=0,this.width=window.innerWidth/2,this.height=window.innerHeight-i},close(){const e=this.getId();"dialog"!==e&&this.$root.$emit(c["c"].CloseWindow,this.getId())}},components:{DragResize:o.a,Overlay:l["a"],PoseWindow:m["a"].div({visible:{opacity:1,scale:1,x:0,y:0,transition:{opacity:{duration:400}},applyAtStart:{display:""}},minimized:{opacity:0,scale:.6,x:({offsetX:e})=>e,y:({offsetY:e})=>e,transition:{opacity:{duration:200}},applyAtEnd:{display:"none"}}})}},f=p,g=(i("9cbc"),i("2877")),b=Object(g["a"])(f,s,a,!1,null,null,null);t["a"]=b.exports},"150c":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterText=t.StcoAtom=t.StszAtom=t.StscAtom=t.SampleToChunkToken=t.SttsAtom=t.TimeToSampleToken=t.SoundSampleDescriptionV0=t.SoundSampleDescriptionVersion=t.StsdAtom=t.TrackHeaderAtom=t.NameAtom=t.DataAtom=t.MvhdAtom=t.MdhdAtom=t.FixedLengthAtom=t.mhdr=t.tkhd=t.ftyp=t.ExtendedSize=t.Header=void 0;const s=i("6f58a"),a=i("34eb"),n=i("98a7"),r=(0,a.default)("music-metadata:parser:MP4:atom");t.Header={len:8,get:(e,t)=>{const i=s.UINT32_BE.get(e,t);if(i<0)throw new Error("Invalid atom header length");return{length:BigInt(i),name:new s.StringType(4,"binary").get(e,t+4)}},put:(e,t,i)=>(s.UINT32_BE.put(e,t,Number(i.length)),n.FourCcToken.put(e,t+4,i.name))},t.ExtendedSize=s.UINT64_BE,t.ftyp={len:4,get:(e,t)=>({type:new s.StringType(4,"ascii").get(e,t)})},t.tkhd={len:4,get:(e,t)=>({type:new s.StringType(4,"ascii").get(e,t)})},t.mhdr={len:8,get:(e,t)=>({version:s.UINT8.get(e,t),flags:s.UINT24_BE.get(e,t+1),nextItemID:s.UINT32_BE.get(e,t+4)})};class o{constructor(e,t,i){if(this.len=e,e<t)throw new Error(`Atom ${i} expected to be ${t}, but specifies ${e} bytes long.`);e>t&&r(`Warning: atom ${i} expected to be ${t}, but was actually ${e} bytes long.`)}}t.FixedLengthAtom=o;const c={len:4,get:(e,t)=>{const i=s.UINT32_BE.get(e,t)-2082844800;return new Date(1e3*i)}};class l extends o{constructor(e){super(e,24,"mdhd"),this.len=e}get(e,t){return{version:s.UINT8.get(e,t+0),flags:s.UINT24_BE.get(e,t+1),creationTime:c.get(e,t+4),modificationTime:c.get(e,t+8),timeScale:s.UINT32_BE.get(e,t+12),duration:s.UINT32_BE.get(e,t+16),language:s.UINT16_BE.get(e,t+20),quality:s.UINT16_BE.get(e,t+22)}}}t.MdhdAtom=l;class u extends o{constructor(e){super(e,100,"mvhd"),this.len=e}get(e,t){return{version:s.UINT8.get(e,t),flags:s.UINT24_BE.get(e,t+1),creationTime:c.get(e,t+4),modificationTime:c.get(e,t+8),timeScale:s.UINT32_BE.get(e,t+12),duration:s.UINT32_BE.get(e,t+16),preferredRate:s.UINT32_BE.get(e,t+20),preferredVolume:s.UINT16_BE.get(e,t+24),previewTime:s.UINT32_BE.get(e,t+72),previewDuration:s.UINT32_BE.get(e,t+76),posterTime:s.UINT32_BE.get(e,t+80),selectionTime:s.UINT32_BE.get(e,t+84),selectionDuration:s.UINT32_BE.get(e,t+88),currentTime:s.UINT32_BE.get(e,t+92),nextTrackID:s.UINT32_BE.get(e,t+96)}}}t.MvhdAtom=u;class d{constructor(e){this.len=e}get(t,i){return{type:{set:s.UINT8.get(t,i+0),type:s.UINT24_BE.get(t,i+1)},locale:s.UINT24_BE.get(t,i+4),value:e.from(new s.Uint8ArrayType(this.len-8).get(t,i+8))}}}t.DataAtom=d;class h{constructor(e){this.len=e}get(e,t){return{version:s.UINT8.get(e,t),flags:s.UINT24_BE.get(e,t+1),name:new s.StringType(this.len-4,"utf-8").get(e,t+4)}}}t.NameAtom=h;class m{constructor(e){this.len=e}get(e,t){return{version:s.UINT8.get(e,t),flags:s.UINT24_BE.get(e,t+1),creationTime:c.get(e,t+4),modificationTime:c.get(e,t+8),trackId:s.UINT32_BE.get(e,t+12),duration:s.UINT32_BE.get(e,t+20),layer:s.UINT16_BE.get(e,t+24),alternateGroup:s.UINT16_BE.get(e,t+26),volume:s.UINT16_BE.get(e,t+28)}}}t.TrackHeaderAtom=m;const p={len:8,get:(e,t)=>({version:s.UINT8.get(e,t),flags:s.UINT24_BE.get(e,t+1),numberOfEntries:s.UINT32_BE.get(e,t+4)})};class f{constructor(e){this.len=e}get(e,t){return{dataFormat:n.FourCcToken.get(e,t),dataReferenceIndex:s.UINT16_BE.get(e,t+10),description:new s.Uint8ArrayType(this.len-12).get(e,t+12)}}}class g{constructor(e){this.len=e}get(e,t){const i=p.get(e,t);t+=p.len;const a=[];for(let n=0;n<i.numberOfEntries;++n){const i=s.UINT32_BE.get(e,t);t+=s.UINT32_BE.len,a.push(new f(i).get(e,t)),t+=i}return{header:i,table:a}}}t.StsdAtom=g,t.SoundSampleDescriptionVersion={len:8,get(e,t){return{version:s.INT16_BE.get(e,t),revision:s.INT16_BE.get(e,t+2),vendor:s.INT32_BE.get(e,t+4)}}},t.SoundSampleDescriptionV0={len:12,get(e,t){return{numAudioChannels:s.INT16_BE.get(e,t+0),sampleSize:s.INT16_BE.get(e,t+2),compressionId:s.INT16_BE.get(e,t+4),packetSize:s.INT16_BE.get(e,t+6),sampleRate:s.UINT16_BE.get(e,t+8)+s.UINT16_BE.get(e,t+10)/1e4}}};class b{constructor(e,t){this.len=e,this.token=t}get(e,t){const i=s.INT32_BE.get(e,t+4);return{version:s.INT8.get(e,t+0),flags:s.INT24_BE.get(e,t+1),numberOfEntries:i,entries:T(e,this.token,t+8,this.len-8,i)}}}t.TimeToSampleToken={len:8,get(e,t){return{count:s.INT32_BE.get(e,t+0),duration:s.INT32_BE.get(e,t+4)}}};class v extends b{constructor(e){super(e,t.TimeToSampleToken),this.len=e}}t.SttsAtom=v,t.SampleToChunkToken={len:12,get(e,t){return{firstChunk:s.INT32_BE.get(e,t),samplesPerChunk:s.INT32_BE.get(e,t+4),sampleDescriptionId:s.INT32_BE.get(e,t+8)}}};class y extends b{constructor(e){super(e,t.SampleToChunkToken),this.len=e}}t.StscAtom=y;class w{constructor(e){this.len=e}get(e,t){const i=s.INT32_BE.get(e,t+8);return{version:s.INT8.get(e,t),flags:s.INT24_BE.get(e,t+1),sampleSize:s.INT32_BE.get(e,t+4),numberOfEntries:i,entries:T(e,s.INT32_BE,t+12,this.len-12,i)}}}t.StszAtom=w;class S extends b{constructor(e){super(e,s.INT32_BE),this.len=e}}t.StcoAtom=S;class k{constructor(e){this.len=e}get(e,t){const i=s.INT16_BE.get(e,t+0),a=new s.StringType(i,"utf-8");return a.get(e,t+2)}}function T(e,t,i,s,a){if(r(`remainingLen=${s}, numberOfEntries=${a} * token-len=${t.len}`),0===s)return[];if(s!==a*t.len)throw new Error("mismatch number-of-entries with remaining atom-length");const n=[];for(let r=0;r<a;++r)n.push(t.get(e,i)),i+=t.len;return n}t.ChapterText=k}).call(this,i("1c35").Buffer)},"15bf":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APEv2TagMapper=void 0;const s=i("53d6"),a={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};class n extends s.CaseInsensitiveTagMap{constructor(){super(["APEv2"],a)}}t.APEv2TagMapper=n},"16a0":function(e,t,i){"use strict";i("5ec0")},1738:function(e,t,i){"use strict";i("22a9")},1970:function(e,t,i){"use strict";i("63e0")},"1a4dd":function(e,t,i){"use strict";i("8cb3")},"1b08":function(e,t,i){"use strict";function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var a={};function n(e,t,i){function n(e,i,s){return"string"===typeof t?t:t(e,i,s)}i||(i=Error);var r=function(e){function t(t,i,s){return e.call(this,n(t,i,s))||this}return s(t,e),t}(i);r.prototype.name=i.name,r.prototype.code=e,a[e]=r}function r(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map((function(e){return String(e)})),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:2===i?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function o(e,t,i){return e.substr(!i||i<0?0:+i,t.length)===t}function c(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}function l(e,t,i){return"number"!==typeof i&&(i=0),!(i+t.length>e.length)&&-1!==e.indexOf(t,i)}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,i){var s,a;if("string"===typeof t&&o(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",c(e," argument"))a="The ".concat(e," ").concat(s," ").concat(r(t,"type"));else{var n=l(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(n," ").concat(s," ").concat(r(t,"type"))}return a+=". Received type ".concat(typeof i),a}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=a},"1b57":function(e,t,i){"use strict";i("f0ed")},"1d55":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBitSet=t.parseTagFlags=t.TagField=t.TagItemHeader=t.TagFooter=t.Header=t.DescriptorParser=t.DataType=void 0;const s=i("6f58a"),a=i("98a7");(function(e){e[e["text_utf8"]=0]="text_utf8",e[e["binary"]=1]="binary",e[e["external_info"]=2]="external_info",e[e["reserved"]=3]="reserved"})(t.DataType||(t.DataType={})),t.DescriptorParser={len:52,get:(e,t)=>({ID:a.FourCcToken.get(e,t),version:s.UINT32_LE.get(e,t+4)/1e3,descriptorBytes:s.UINT32_LE.get(e,t+8),headerBytes:s.UINT32_LE.get(e,t+12),seekTableBytes:s.UINT32_LE.get(e,t+16),headerDataBytes:s.UINT32_LE.get(e,t+20),apeFrameDataBytes:s.UINT32_LE.get(e,t+24),apeFrameDataBytesHigh:s.UINT32_LE.get(e,t+28),terminatingDataBytes:s.UINT32_LE.get(e,t+32),fileMD5:new s.Uint8ArrayType(16).get(e,t+36)})},t.Header={len:24,get:(e,t)=>({compressionLevel:s.UINT16_LE.get(e,t),formatFlags:s.UINT16_LE.get(e,t+2),blocksPerFrame:s.UINT32_LE.get(e,t+4),finalFrameBlocks:s.UINT32_LE.get(e,t+8),totalFrames:s.UINT32_LE.get(e,t+12),bitsPerSample:s.UINT16_LE.get(e,t+16),channel:s.UINT16_LE.get(e,t+18),sampleRate:s.UINT32_LE.get(e,t+20)})},t.TagFooter={len:32,get:(e,t)=>({ID:new s.StringType(8,"ascii").get(e,t),version:s.UINT32_LE.get(e,t+8),size:s.UINT32_LE.get(e,t+12),fields:s.UINT32_LE.get(e,t+16),flags:r(s.UINT32_LE.get(e,t+20))})},t.TagItemHeader={len:8,get:(e,t)=>({size:s.UINT32_LE.get(e,t),flags:r(s.UINT32_LE.get(e,t+4))})};const n=e=>new s.Uint8ArrayType(e.size-t.TagFooter.len);function r(e){return{containsHeader:o(e,31),containsFooter:o(e,30),isHeader:o(e,31),readOnly:o(e,0),dataType:(6&e)>>1}}function o(e,t){return 0!==(e&1<<t)}t.TagField=n,t.parseTagFlags=r,t.isBitSet=o},"1e48":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadStreamTokenizer=void 0;const s=i("a046"),a=i("20f8"),n=256e3;class r extends s.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new a.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){const i=this.normalizeOptions(e,t),s=i.position-this.position;if(s>0)return await this.ignore(s),this.readBuffer(e,t);if(s<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===i.length)return 0;const n=await this.streamReader.read(e,i.offset,i.length);if(this.position+=n,(!t||!t.mayBeLess)&&n<i.length)throw new a.EndOfStreamError;return n}async peekBuffer(e,t){const i=this.normalizeOptions(e,t);let s=0;if(i.position){const t=i.position-this.position;if(t>0){const a=new Uint8Array(i.length+t);return s=await this.peekBuffer(a,{mayBeLess:i.mayBeLess}),e.set(a.subarray(t),i.offset),s-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(i.length>0){try{s=await this.streamReader.peek(e,i.offset,i.length)}catch(n){if(t&&t.mayBeLess&&n instanceof a.EndOfStreamError)return 0;throw n}if(!i.mayBeLess&&s<i.length)throw new a.EndOfStreamError}return s}async ignore(e){const t=Math.min(n,e),i=new Uint8Array(t);let s=0;while(s<e){const a=e-s,n=await this.readBuffer(i,{length:Math.min(t,a)});if(n<0)return n;s+=n}return s}}t.ReadStreamTokenizer=r},"1e78":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.hasID3v1Header=t.ID3v1Parser=t.Genres=void 0;const s=i("34eb"),a=i("6f58a"),n=i("d3ab"),r=i("95c9"),o=i("9611"),c=(0,s.default)("music-metadata:parser:ID3v1");t.Genres=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"];const l={len:128,get:(e,t)=>{const i=new u(3).get(e,t);return"TAG"===i?{header:i,title:new u(30).get(e,t+3),artist:new u(30).get(e,t+33),album:new u(30).get(e,t+63),year:new u(4).get(e,t+93),comment:new u(28).get(e,t+97),zeroByte:a.UINT8.get(e,t+127),track:a.UINT8.get(e,t+126),genre:a.UINT8.get(e,t+127)}:null}};class u extends a.StringType{constructor(e){super(e,"binary")}get(e,t){let i=super.get(e,t);return i=n.trimRightNull(i),i=i.trim(),i.length>0?i:void 0}}class d extends r.BasicParser{static getGenre(e){if(e<t.Genres.length)return t.Genres[e]}async parse(){if(!this.tokenizer.fileInfo.size)return void c("Skip checking for ID3v1 because the file-size is unknown");if(this.options.apeHeader){this.tokenizer.ignore(this.options.apeHeader.offset-this.tokenizer.position);const e=new o.APEv2Parser;e.init(this.metadata,this.tokenizer,this.options),await e.parseTags(this.options.apeHeader.footer)}const e=this.tokenizer.fileInfo.size-l.len;if(this.tokenizer.position>e)return void c("Already consumed the last 128 bytes");const t=await this.tokenizer.readToken(l,e);if(t){c("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-l.len);for(const i of["title","artist","album","comment","track","year"])t[i]&&""!==t[i]&&this.addTag(i,t[i]);const e=d.getGenre(t.genre);e&&this.addTag("genre",e)}else c("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-l.len)}addTag(e,t){this.metadata.addTag("ID3v1",e,t)}}async function h(t){if(t.fileSize>=128){const i=e.alloc(3);return await t.randomRead(i,0,i.length,t.fileSize-128),"TAG"===i.toString("binary")}return!1}t.ID3v1Parser=d,t.hasID3v1Header=h}).call(this,i("1c35").Buffer)},"1f59":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;class s{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}t.Deferred=s},"20f8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;var s=i("f35d");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}});var a=i("2bac");Object.defineProperty(t,"StreamReader",{enumerable:!0,get:function(){return a.StreamReader}})},2161:function(e,t,i){},"21c2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromBuffer=t.fromStream=t.EndOfStreamError=void 0;const s=i("1e48"),a=i("377f");var n=i("20f8");function r(e,t){return t=t||{},new s.ReadStreamTokenizer(e,t)}function o(e,t){return new a.BufferTokenizer(e,t)}Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}}),t.fromStream=r,t.fromBuffer=o},"22a9":function(e,t,i){},"22d0":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.OggParser=t.SegmentTable=void 0;const s=i("6f58a"),a=i("21c2"),n=i("34eb"),r=i("d3ab"),o=i("98a7"),c=i("95c9"),l=i("bda5c"),u=i("c73e"),d=i("00f6"),h=i("10a8"),m=(0,n.default)("music-metadata:parser:ogg");class p{static sum(e,t,i){let s=0;for(let a=t;a<t+i;++a)s+=e[a];return s}constructor(e){this.len=e.page_segments}get(e,t){return{totalPageSize:p.sum(e,t,this.len)}}}t.SegmentTable=p;class f extends c.BasicParser{async parse(){m("pos=%s, parsePage()",this.tokenizer.position);try{let t;do{if(t=await this.tokenizer.readToken(f.Header),"OggS"!==t.capturePattern)throw new Error("Invalid Ogg capture pattern");this.metadata.setFormat("container","Ogg"),this.header=t,this.pageNumber=t.pageSequenceNo,m("page#=%s, Ogg.id=%s",t.pageSequenceNo,t.capturePattern);const i=await this.tokenizer.readToken(new p(t));m("totalPageSize=%s",i.totalPageSize);const a=await this.tokenizer.readToken(new s.Uint8ArrayType(i.totalPageSize));if(m("firstPage=%s, lastPage=%s, continued=%s",t.headerType.firstPage,t.headerType.lastPage,t.headerType.continued),t.headerType.firstPage){const t=new s.StringType(7,"ascii").get(e.from(a),0);switch(t){case"vorbis":m("Set page consumer to Ogg/Vorbis"),this.pageConsumer=new l.VorbisParser(this.metadata,this.options);break;case"OpusHea":m("Set page consumer to Ogg/Opus"),this.pageConsumer=new u.OpusParser(this.metadata,this.options,this.tokenizer);break;case"Speex  ":m("Set page consumer to Ogg/Speex"),this.pageConsumer=new d.SpeexParser(this.metadata,this.options,this.tokenizer);break;case"fishead":case"\0theora":m("Set page consumer to Ogg/Theora"),this.pageConsumer=new h.TheoraParser(this.metadata,this.options,this.tokenizer);break;default:throw new Error("gg audio-codec not recognized (id="+t+")")}}this.pageConsumer.parsePage(t,a)}while(!t.headerType.lastPage)}catch(t){if(t instanceof a.EndOfStreamError)this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),m("End-of-stream"),this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),this.header&&this.pageConsumer.calculateDuration(this.header);else{if(!t.message.startsWith("FourCC"))throw t;this.pageNumber>0&&(this.metadata.addWarning("Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag"),this.pageConsumer.flush())}}}}f.Header={len:27,get:(e,t)=>({capturePattern:o.FourCcToken.get(e,t),version:s.UINT8.get(e,t+4),headerType:{continued:r.getBit(e,t+5,0),firstPage:r.getBit(e,t+5,1),lastPage:r.getBit(e,t+5,2)},absoluteGranulePosition:Number(s.UINT64_LE.get(e,t+6)),streamSerialNumber:s.UINT32_LE.get(e,t+14),pageSequenceNo:s.UINT32_LE.get(e,t+18),pageChecksum:s.UINT32_LE.get(e,t+22),page_segments:s.UINT8.get(e,t+26)})},t.OggParser=f}).call(this,i("1c35").Buffer)},2307:function(e,t,i){"use strict";var s=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,a=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,r=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,c=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function l(e){if(!e||"object"!==typeof e)throw new TypeError("argument obj is required");var t=e.parameters,i=e.type;if(!i||!c.test(i))throw new TypeError("invalid type");var s=i;if(t&&"object"===typeof t)for(var a,r=Object.keys(t).sort(),o=0;o<r.length;o++){if(a=r[o],!n.test(a))throw new TypeError("invalid parameter name");s+="; "+a+"="+h(t[a])}return s}function u(e){if(!e)throw new TypeError("argument string is required");var t="object"===typeof e?d(e):e;if("string"!==typeof t)throw new TypeError("argument string is required to be a string");var i=t.indexOf(";"),a=-1!==i?t.slice(0,i).trim():t.trim();if(!c.test(a))throw new TypeError("invalid media type");var n=new m(a.toLowerCase());if(-1!==i){var o,l,u;s.lastIndex=i;while(l=s.exec(t)){if(l.index!==i)throw new TypeError("invalid parameter format");i+=l[0].length,o=l[1].toLowerCase(),u=l[2],34===u.charCodeAt(0)&&(u=u.slice(1,-1),-1!==u.indexOf("\\")&&(u=u.replace(r,"$1"))),n.parameters[o]=u}if(i!==t.length)throw new TypeError("invalid parameter format")}return n}function d(e){var t;if("function"===typeof e.getHeader?t=e.getHeader("content-type"):"object"===typeof e.headers&&(t=e.headers&&e.headers["content-type"]),"string"!==typeof t)throw new TypeError("content-type header is missing from object");return t}function h(e){var t=String(e);if(n.test(t))return t;if(t.length>0&&!a.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(o,"\\$1")+'"'}function m(e){this.parameters=Object.create(null),this.type=e}t.format=l,t.parse=u},"232a":function(e,t,i){},"23a3":function(e,t,i){},2543:function(e,t,i){},2560:function(e,t,i){"use strict";i("39ab")},2620:function(e,t,i){},2783:function(e,t,i){},2819:function(e,t,i){"use strict";function s(e){return t.commonTags.hasOwnProperty(e)&&!t.commonTags[e].multiple}function a(e){return!t.commonTags[e].multiple||t.commonTags[e].unique}Object.defineProperty(t,"__esModule",{value:!0}),t.isUnique=t.isSingleton=t.commonTags=void 0,t.commonTags={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}},t.isSingleton=s,t.isUnique=a},"289b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayGain=void 0;const s=i("d3ab");var a,n;(function(e){e[e["not_set"]=0]="not_set",e[e["radio"]=1]="radio",e[e["audiophile"]=2]="audiophile"})(a||(a={})),function(e){e[e["unspecified"]=0]="unspecified",e[e["engineer"]=1]="engineer",e[e["user"]=2]="user",e[e["automatic"]=3]="automatic",e[e["rms_average"]=4]="rms_average"}(n||(n={})),t.ReplayGain={len:2,get:(e,t)=>{const i=s.getBitAllignedNumber(e,t,0,3),a=s.getBitAllignedNumber(e,t,6,1),n=s.getBitAllignedNumber(e,t,7,9)/10;if(i>0)return{type:s.getBitAllignedNumber(e,t,0,3),origin:s.getBitAllignedNumber(e,t,3,3),adjustment:a?-n:n}}}},"2a57":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomUint8ArrayReader=void 0;class s{constructor(e){this.uint8Array=e,this.fileSize=e.length}async randomRead(e,t,i,s){return e.set(this.uint8Array.subarray(s,s+i),t),i}}t.RandomUint8ArrayReader=s},"2bac":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=t.EndOfStreamError=void 0;const s=i("f35d"),a=i("1f59");var n=i("f35d");Object.defineProperty(t,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}});const r=1048576;class o{constructor(e){if(this.s=e,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new s.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(e,t,i){const s=await this.read(e,t,i);return this.peekQueue.push(e.subarray(t,t+s)),s}async read(e,t,i){if(0===i)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new s.EndOfStreamError;let a=i,n=0;while(this.peekQueue.length>0&&a>0){const i=this.peekQueue.pop();if(!i)throw new Error("peekData should be defined");const s=Math.min(i.length,a);e.set(i.subarray(0,s),t+n),n+=s,a-=s,s<i.length&&this.peekQueue.push(i.subarray(s))}while(a>0&&!this.endOfStream){const i=Math.min(a,r),s=await this.readFromStream(e,t+n,i);if(n+=s,s<i)break;a-=s}return n}async readFromStream(e,t,i){const s=this.s.read(i);if(s)return e.set(s,t),s.length;{const s={buffer:e,offset:t,length:i,deferred:new a.Deferred};return this.deferred=s.deferred,this.s.once("readable",()=>{this.readDeferred(s)}),s.deferred.promise}}readDeferred(e){const t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(e)})}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}}t.StreamReader=o},"2cfe":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DsfParser=void 0;const s=i("34eb"),a=i("4f83"),n=i("e23f"),r=i("64a4"),o=(0,s.default)("music-metadata:parser:DSF");class c extends a.AbstractID3Parser{async postId3v2Parse(){const e=this.tokenizer.position,t=await this.tokenizer.readToken(n.ChunkHeader);if("DSD "!==t.id)throw new Error("Invalid chunk signature");this.metadata.setFormat("container","DSF"),this.metadata.setFormat("lossless",!0);const i=await this.tokenizer.readToken(n.DsdChunk);if(i.metadataPointer!==BigInt(0))return o("expect ID3v2 at offset="+i.metadataPointer),await this.parseChunks(i.fileSize-t.size),await this.tokenizer.ignore(Number(i.metadataPointer)-this.tokenizer.position-e),(new r.ID3v2Parser).parse(this.metadata,this.tokenizer,this.options);o("No ID3v2 tag present")}async parseChunks(e){while(e>=n.ChunkHeader.len){const t=await this.tokenizer.readToken(n.ChunkHeader);switch(o(`Parsing chunk name=${t.id} size=${t.size}`),t.id){case"fmt ":const e=await this.tokenizer.readToken(n.FormatChunk);this.metadata.setFormat("numberOfChannels",e.channelNum),this.metadata.setFormat("sampleRate",e.samplingFrequency),this.metadata.setFormat("bitsPerSample",e.bitsPerSample),this.metadata.setFormat("numberOfSamples",e.sampleCount),this.metadata.setFormat("duration",Number(e.sampleCount)/e.samplingFrequency);const i=e.bitsPerSample*e.samplingFrequency*e.channelNum;return void this.metadata.setFormat("bitrate",i);default:this.tokenizer.ignore(Number(t.size)-n.ChunkHeader.len);break}e-=t.size}}}t.DsfParser=c},"2d78":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ParserFactory=t.parseHttpContentType=void 0;const s=i("dbbe"),a=i("2307"),n=i("c4dc"),r=i("34eb"),o=i("03eb"),c=i("d66d"),l=i("9611"),u=i("65da"),d=i("a062"),h=i("5ea2"),m=i("5658"),p=i("a4e1"),f=i("22d0"),g=i("d4cf"),b=i("e907"),v=i("2cfe"),y=i("dee4"),w=i("73c2"),S=(0,r.default)("music-metadata:parser:factory");function k(e){const t=a.parse(e),i=n.parse(t.type);return{type:i.type,subtype:i.subtype,suffix:i.suffix,parameters:t.parameters}}async function T(e,t,i={}){const s=await _.loadParser(t),a=new o.MetadataCollector(i);return await s.init(a,e,i).parse(),a.toCommonMetadata()}t.parseHttpContentType=k;class _{static async parseOnContentType(e,t){const{mimeType:i,path:s,url:a}=await e.fileInfo,n=_.getParserIdForMimeType(i)||_.getParserIdForExtension(s)||_.getParserIdForExtension(a);return n||S("No parser found for MIME-type / extension: "+i),this.parse(e,n,t)}static async parse(t,i,a){if(!i){S("Guess parser on content...");const a=e.alloc(4100);if(await t.peekBuffer(a,{mayBeLess:!0}),t.fileInfo.path&&(i=this.getParserIdForExtension(t.fileInfo.path)),!i){const e=await s.fromBuffer(a);if(!e)throw new Error("Failed to determine audio format");if(S(`Guessed file type is mime=${e.mime}, extension=${e.ext}`),i=_.getParserIdForMimeType(e.mime),!i)throw new Error("Guessed MIME-type not supported: "+e.mime)}}return T(t,i,a)}static getParserIdForExtension(e){if(!e)return;const t=this.getExtension(e).toLocaleLowerCase()||e;switch(t){case".mp2":case".mp3":case".m2a":case".aac":return"mpeg";case".ape":return"apev2";case".mp4":case".m4a":case".m4b":case".m4pa":case".m4v":case".m4r":case".3gp":return"mp4";case".wma":case".wmv":case".asf":return"asf";case".flac":return"flac";case".ogg":case".ogv":case".oga":case".ogm":case".ogx":case".opus":case".spx":return"ogg";case".aif":case".aiff":case".aifc":return"aiff";case".wav":case".bwf":return"riff";case".wv":case".wvp":return"wavpack";case".mpc":return"musepack";case".dsf":return"dsf";case".dff":return"dsdiff";case".mka":case".mkv":case".mk3d":case".mks":case".webm":return"matroska"}}static async loadParser(e){switch(e){case"aiff":return new c.AIFFParser;case"adts":case"mpeg":return new m.MpegParser;case"apev2":return new l.APEv2Parser;case"asf":return new u.AsfParser;case"dsf":return new v.DsfParser;case"dsdiff":return new y.DsdiffParser;case"flac":return new d.FlacParser;case"mp4":return new h.MP4Parser;case"musepack":return new p.default;case"ogg":return new f.OggParser;case"riff":return new g.WaveParser;case"wavpack":return new b.WavPackParser;case"matroska":return new w.MatroskaParser;default:throw new Error("Unknown parser type: "+e)}}static getExtension(e){const t=e.lastIndexOf(".");return-1===t?"":e.slice(t)}static getParserIdForMimeType(e){let t;try{t=k(e)}catch(s){return void S("Invalid HTTP Content-Type header value: "+e)}const i=0===t.subtype.indexOf("x-")?t.subtype.substring(2):t.subtype;switch(t.type){case"audio":switch(i){case"mp3":case"mpeg":return"mpeg";case"aac":case"aacp":return"adts";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf"}break;case"video":switch(i){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch(i){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}break}}}t.ParserFactory=_}).call(this,i("1c35").Buffer)},3073:function(e,t,i){},"31de":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackType=t.TargetType=t.DataType=void 0,function(e){e[e["string"]=0]="string",e[e["uint"]=1]="uint",e[e["uid"]=2]="uid",e[e["bool"]=3]="bool",e[e["binary"]=4]="binary",e[e["float"]=5]="float"}(t.DataType||(t.DataType={})),function(e){e[e["shot"]=10]="shot",e[e["scene"]=20]="scene",e[e["track"]=30]="track",e[e["part"]=40]="part",e[e["album"]=50]="album",e[e["edition"]=60]="edition",e[e["collection"]=70]="collection"}(t.TargetType||(t.TargetType={})),function(e){e[e["video"]=1]="video",e[e["audio"]=2]="audio",e[e["complex"]=3]="complex",e[e["logo"]=4]="logo",e[e["subtitle"]=17]="subtitle",e[e["button"]=18]="button",e[e["control"]=32]="control"}(t.TrackType||(t.TrackType={}))},3341:function(e,t,i){},"34eb":function(e,t,i){(function(s){function a(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function n(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;t.splice(1,0,i,"color: inherit");let s=0,a=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(s++,"%c"===e&&(a=s))}),t.splice(a,0,i)}function r(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(i){}}function o(){let e;try{e=t.storage.getItem("debug")}catch(i){}return!e&&"undefined"!==typeof s&&"env"in s&&(e=Object({NODE_ENV:"production",BASE_URL:"/"}).DEBUG),e}function c(){try{return localStorage}catch(e){}}t.formatArgs=n,t.save=r,t.load=o,t.useColors=a,t.storage=c(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i("dc90")(t);const{formatters:l}=e.exports;l.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,i("4362"))},"35b6":function(e,t,i){"use strict";i("232a")},"377f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferTokenizer=void 0;const s=i("20f8"),a=i("a046");class n extends a.AbstractTokenizer{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const i=await this.peekBuffer(e,t);return this.position+=i,i}async peekBuffer(e,t){const i=this.normalizeOptions(e,t),a=Math.min(this.uint8Array.length-i.position,i.length);if(!i.mayBeLess&&a<i.length)throw new s.EndOfStreamError;return e.set(this.uint8Array.subarray(i.position,i.position+a),i.offset),a}async close(){}}t.BufferTokenizer=n},"37d4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v1TagMapper=void 0;const s=i("fc97"),a={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};class n extends s.CommonTagMapper{constructor(){super(["ID3v1"],a)}}t.ID3v1TagMapper=n},"39ab":function(e,t,i){},"3af2":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isWin3?i("div",[i("div",{staticClass:"control",attrs:{"aria-label":"close","data-test-control":"close"},on:{click:function(t){return t.stopPropagation(),e.handleClose(t)}}},[i("i",{staticClass:"fa fa-minus"})]),i("div",{staticClass:"controls"},[e.hideMinimize?e._e():i("div",{class:["control",{disabled:e.disableMinimize}],attrs:{"aria-label":"minimize","data-test-control":"minimize"},on:{click:e.handleMinimize}},[i("i",{staticClass:"fa fa-caret-down"})]),e.hideMaximize?e._e():i("div",{class:["control",{disabled:e.disableMaximize}],attrs:{"aria-label":"maximize","data-test-control":"maximize"},on:{click:e.handleMaximize}},[i("i",{staticClass:"fa fa-caret-up"})])])]):i("div",{staticClass:"controls"},[e.hideMinimize?e._e():i("div",{class:["control",{disabled:e.disableMinimize}],attrs:{"aria-label":"minimize","data-test-control":"minimize"},on:{click:e.handleMinimize}},[e.isWinX?i("i",{staticClass:"la las la-minus"}):i("img",{staticClass:"mt-2 w-3.5",attrs:{src:e.control.minimize}})]),e.hideMaximize?e._e():i("div",{class:["control",{disabled:e.disableMaximize}],attrs:{"aria-label":"maximize","data-test-control":"maximize"},on:{click:e.handleMaximize}},[e.isWinX?i("i",{staticClass:"la las la-stop"}):i("img",{staticClass:"w-3.5",attrs:{src:e.control.maximize}})]),i("div",{staticClass:"control",attrs:{"aria-label":"close","data-test-control":"close"},on:{click:function(t){return t.stopPropagation(),e.handleClose(t)}}},[e.isWinX?i("i",{staticClass:"la las la-times"}):i("img",{staticClass:"w-3.5",attrs:{src:e.control.close}})])])},a=[],n=i("6792"),r=i("01b4"),o=i("2f62");const c={minimize:"data:image/svg+xml;charset=utf-8,%3Csvg width='7' height='2' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M0 0h6v2H0z'/%3E%3C/svg%3E",maximize:"data:image/svg+xml;charset=utf-8,%3Csvg width='9' height='9' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M9 0H0v9h9V0zM8 2H1v6h7V2z' fill-rule='evenodd' clip-rule='evenodd' /%3E%3C/svg%3E",close:"data:image/svg+xml;charset=utf-8,%3Csvg width='8' height='7' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23000' d='M0 0h2v1h1v1h2V1h1V0h2v1H7v1H6v1H5v1h1v1h1v1h1v1H6V6H5V5H3v1H2v1H0V6h1V5h1V4h1V3H2V2H1V1H0V0z' fill-rule='evenodd' clip-rule='evenodd' /%3E%3C/svg%3E"},l={minimize:"data:image/svg+xml;charset=utf-8,%3Csvg width='9' height='2' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M0 0h6v2H0z'/%3E%3C/svg%3E",maximize:"data:image/svg+xml;charset=utf-8,%3Csvg width='9' height='9' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M9 0H0v9h9V0zM8 2H1v6h7V2z' fill-rule='evenodd' clip-rule='evenodd' /%3E%3C/svg%3E",close:"data:image/svg+xml;charset=utf-8,%3Csvg width='8' height='7' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M0 0h2v1h1v1h2V1h1V0h2v1H7v1H6v1H5v1h1v1h1v1h1v1H6V6H5V5H3v1H2v1H0V6h1V5h1V4h1V3H2V2H1V1H0V0z' fill-rule='evenodd' clip-rule='evenodd' /%3E%3C/svg%3E"},u={minimize:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='12' height='5' fill='none' viewBox='0 0 12 5'%3e%3cpath fill='url(%23a)' d='M0 0h12v5H0z'/%3e%3cdefs%3e%3cpattern id='a' width='1' height='1' patternContentUnits='objectBoundingBox'%3e%3cuse xlink:href='%23b' transform='scale(.08333 .2)'/%3e%3c/pattern%3e%3cimage xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAAwAAAAFCAYAAABxeg0vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA7SURBVHgBlY%2bxDQAgDMNaiQ9B8AHcxAlI/NYtKwj6QOohUzxYc%2b1HAqQ3e03qXNpwwcyE5QsAaEGjDRf8ZAza6Bz6VQAAAABJRU5ErkJggg==' id='b' width='12' height='5' /%3e%3c/defs%3e%3c/svg%3e",maximize:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='15' fill='none' viewBox='0 0 17 15'%3e%3cpath fill='url(%23a)' d='M0 0h17v15H0z'/%3e%3cdefs%3e%3cpattern id='a' width='1' height='1' patternContentUnits='objectBoundingBox'%3e%3cuse xlink:href='%23b' transform='matrix(.08824 0 0 .1 -.03 0)'/%3e%3c/pattern%3e%3cimage xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABsSURBVHgBlZHBCYAwDEVT6YaKbqArOILgBLqBosP1VkhAaQ6S1lKad%2bihPy8kxLT9%2bIACG57r2KqKu2GCBpTYtEMOOQELzrnv4z53I4vDjjJnwXsPJWTOAiJGHVNB5pGwLjPk%2bAlEBLUY7eFebCosBHOR7vYAAAAASUVORK5CYII=' id='b' width='12' height='10' /%3e%3c/defs%3e%3c/svg%3e",close:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='14' height='13' fill='none' viewBox='0 0 14 13'%3e%3cpath fill='url(%23a)' d='M0 0h14v13H0z'/%3e%3cdefs%3e%3cpattern id='a' width='1' height='1' patternContentUnits='objectBoundingBox'%3e%3cuse xlink:href='%23b' transform='matrix(.09286 0 0 .1 -.01 0)'/%3e%3c/pattern%3e%3cimage xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACUSURBVHgBlZFNCoQwDIVbmRvOMHOAAd0K/uDGlYKiCG4VPICi9yu0oCSQoFUXFtKEl6%2bvoZXvr7sKay1TL690FOexY%2bHz87i2decOuDKQsNGVe8AGYTRJIh0Y%2borBvxszCPllOymlxN06jNE26Qnwg4zdHQLrMhFaawwAqAadDPE1ijwUxhiMKCmxCZk06OMYTz5lAx3xWDeXkLNAAAAAAElFTkSuQmCC' id='b' width='11' height='10' /%3e%3c/defs%3e%3c/svg%3e"},d={win95:c,win2k:c,winLS:l,winLP:l,"basic-2":c,"basic-4":c,winxp:l,winxpE:l,winxpG:l,winxpN:l,winxpR:l,winxpS:l,winxpZ:l,default:u};var h=d,m={props:{controlTheme:String,hideMaximize:Boolean,hideMinimize:Boolean,maximize:Function,minimize:Function,close:Function,disableMinimize:Boolean,disableMaximize:Boolean,asDecoration:Boolean},data(){return{id:null}},computed:{...Object(o["d"])(["theme","windows"]),isWin3(){return"win31"===this.theme},isWinX(){return["win8","win81","win10","win11","win11dark","chromeos","kubuntu","ubuntu"].includes(this.theme)},control(){const e=this.controlTheme||this.theme;return h[e]||h.default}},mounted(){this.id=this.$el.closest(".window").id.split("-")[1]},methods:{getWindow(){return this.windows.find(e=>e.id===this.id)},handleMinimize(){if(this.asDecoration||this.disableMinimize)return;if(this.minimize)return this.minimize();const{minimized:e}=this.getWindow(),{id:t}=this;this.$store.commit(r["a"].WindowUpdate,{id:t,minimized:!e})},handleMaximize(){if(this.asDecoration||this.disableMaximize)return;if(this.maximize)return this.maximize();const{maximized:e}=this.getWindow(),{id:t}=this;this.$store.commit(r["a"].WindowUpdate,{id:t,maximized:!e})},handleClose(){this.asDecoration||(this.close?this.close():this.$root.$emit(n["c"].CloseWindow,this.id))}}},p=m,f=(i("d78f"),i("2877")),g=Object(f["a"])(p,s,a,!1,null,"27b9ddf6",null);t["a"]=g.exports},"3b84":function(e,t,i){},"3da4":function(e,t,i){},"3e9b":function(e,t,i){},"3f55":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("window-static",[i("title-bar",{attrs:{title:e.title}},[i("controls",{attrs:{hideMaximize:"",hideMinimize:"",controlTheme:e.theme,close:function(){return e.$emit("close")}}})],1),i("div",{class:["container",e.containerClass]},[e.icon?i("main",[i("img",{attrs:{src:e.icon}}),e.noPreTag?e._t("default"):i("pre",[e._t("default")],2)],2):[e._t("default")]],2),i("div",{staticClass:"footer flex justify-end"},[e._t("footer")],2)],1)},a=[],n=i("3af2"),r=i("6210"),o=i("7e41"),c=i("2f62"),l={components:{WindowStatic:o["a"],Controls:n["a"],TitleBar:r["a"]},props:{type:{type:String,validator(e){return["warning","error"].includes(e)}},title:String,theme:String,containerClass:String,noPreTag:Boolean},computed:{...Object(c["c"])(["themeData"]),icon(){return this.themeData.icon[this.type]}}},u=l,d=(i("6fdb"),i("2877")),h=Object(d["a"])(u,s,a,!1,null,"cde5e908",null);t["a"]=h.exports},"3f71":function(e,t,i){},"3fa1":function(e,t,i){"use strict";i("2161")},"3fb5":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},"41db":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.FrameParser=t.parseGenre=void 0;const s=i("34eb"),a=i("6f58a"),n=i("d3ab"),r=i("0662"),o=i("1e78"),c=(0,s.default)("music-metadata:id3v2:frame-parser"),l="latin1";function u(e){const t=[];let i,s="";for(const a of e)if("string"===typeof i)if("("===a&&""===i)s+="(",i=void 0;else if(")"===a){""!==s&&(t.push(s),s="");const e=d(i);e&&t.push(e),i=void 0}else i+=a;else"("===a?i="":s+=a;return s&&(0===t.length&&s.match(/^\d*$/)&&(s=o.Genres[s]),t.push(s)),t}function d(e){return"RX"===e?"Remix":"CR"===e?"Cover":e.match(/^\d*$/)?o.Genres[e]:void 0}t.parseGenre=u;class h{constructor(e,t){this.major=e,this.warningCollector=t}readData(t,i,s){if(0===t.length)return void this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${i}`);const{encoding:o,bom:d}=r.TextEncodingToken.get(t,0),m=t.length;let p=0,f=[];const g=h.getNullTerminatorLength(o);let b;const v={};switch(c(`Parsing tag type=${i}, encoding=${o}, bom=${d}`),"TXXX"!==i&&"T"===i[0]?"T*":i){case"T*":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":let d;try{d=n.decodeString(t.slice(1),o).replace(/\x00+$/,"")}catch(y){this.warningCollector.addWarning(`id3v2.${this.major} type=${i} header has invalid string value: ${y.message}`)}switch(i){case"TMCL":case"TIPL":case"IPLS":f=this.splitValue(i,d),f=h.functionList(f);break;case"TRK":case"TRCK":case"TPOS":f=d;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":f=this.splitValue(i,d);break;case"TCO":case"TCON":f=this.splitValue(i,d).map(e=>u(e)).reduce((e,t)=>e.concat(t),[]);break;case"PCS":case"PCST":f=this.major>=4?this.splitValue(i,d):[d],f=Array.isArray(f)&&""===f[0]?1:0;break;default:f=this.major>=4?this.splitValue(i,d):[d]}break;case"TXXX":f=h.readIdentifierAndData(t,p+1,m,o),f={description:f.id,text:this.splitValue(i,n.decodeString(f.data,o).replace(/\x00+$/,""))};break;case"PIC":case"APIC":if(s){const i={};switch(p+=1,this.major){case 2:i.format=n.decodeString(t.slice(p,p+3),"latin1"),p+=3;break;case 3:case 4:b=n.findZero(t,p,m,l),i.format=n.decodeString(t.slice(p,b),l),p=b+1;break;default:throw new Error("Warning: unexpected major versionIndex: "+this.major)}i.format=h.fixPictureMimeType(i.format),i.type=r.AttachedPictureType[t[p]],p+=1,b=n.findZero(t,p,m,o),i.description=n.decodeString(t.slice(p,b),o),p=b+g,i.data=e.from(t.slice(p,m)),f=i}break;case"CNT":case"PCNT":f=a.UINT32_BE.get(t,0);break;case"SYLT":p+=7,f=[];while(p<m){const e=t.slice(p,p=n.findZero(t,p,m,o));p+=5,f.push(n.decodeString(e,o))}break;case"ULT":case"USLT":case"COM":case"COMM":p+=1,v.language=n.decodeString(t.slice(p,p+3),l),p+=3,b=n.findZero(t,p,m,o),v.description=n.decodeString(t.slice(p,b),o),p=b+g,v.text=n.decodeString(t.slice(p,m),o).replace(/\x00+$/,""),f=[v];break;case"UFID":f=h.readIdentifierAndData(t,p,m,l),f={owner_identifier:f.id,identifier:f.data};break;case"PRIV":f=h.readIdentifierAndData(t,p,m,l),f={owner_identifier:f.id,data:f.data};break;case"POPM":b=n.findZero(t,p,m,l);const w=n.decodeString(t.slice(p,b),l);p=b+1;const S=m-p;f={email:w,rating:a.UINT8.get(t,p),counter:S>=5?a.UINT32_BE.get(t,p+1):void 0};break;case"GEOB":{b=n.findZero(t,p+1,m,o);const e=n.decodeString(t.slice(p+1,b),l);p=b+1,b=n.findZero(t,p,m-p,o);const i=n.decodeString(t.slice(p,b),l);p=b+1,b=n.findZero(t,p,m-p,o);const s=n.decodeString(t.slice(p,b),l);f={type:e,filename:i,description:s,data:t.slice(p+1,m)};break}case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":f=n.decodeString(t.slice(p,b),l);break;case"WXXX":{b=n.findZero(t,p+1,m,o);const e=n.decodeString(t.slice(p+1,b),o);p=b+("utf16le"===o?2:1),f={description:e,url:n.decodeString(t.slice(p,m),l)};break}case"WFD":case"WFED":f=n.decodeString(t.slice(p+1,n.findZero(t,p+1,m,o)),o);break;case"MCDI":f=t.slice(0,m);break;default:c("Warning: unsupported id3v2-tag-type: "+i);break}return f}static fixPictureMimeType(e){switch(e=e.toLocaleLowerCase(),e){case"jpg":return"image/jpeg";case"png":return"image/png"}return e}static functionList(e){const t={};for(let i=0;i+1<e.length;i+=2){const s=e[i+1].split(",");t[e[i]]=t.hasOwnProperty(e[i])?t[e[i]].concat(s):s}return t}splitValue(e,t){let i;return this.major<4?(i=t.split(/\x00/g),i.length>1?this.warningCollector.addWarning(`ID3v2.${this.major} ${e} uses non standard null-separator.`):i=t.split(/\//g)):i=t.split(/\x00/g),h.trimArray(i)}static trimArray(e){return e.map(e=>e.replace(/\x00+$/,"").trim())}static readIdentifierAndData(e,t,i,s){const a=n.findZero(e,t,i,s),r=n.decodeString(e.slice(t,a),s);return t=a+h.getNullTerminatorLength(s),{id:r,data:e.slice(t,i)}}static getNullTerminatorLength(e){return"utf16le"===e?2:1}}t.FrameParser=h}).call(this,i("1c35").Buffer)},4264:function(e,t,i){},4692:function(e,t,i){"use strict";i("2783")},"46d9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RiffInfoTagMapper=t.riffInfoTagMap=void 0;const s=i("fc97");t.riffInfoTagMap={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",IPRT:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"};class a extends s.CommonTagMapper{constructor(){super(["exif"],t.riffInfoTagMap)}}t.RiffInfoTagMapper=a},"46e3":function(e,t,i){},"4a27":function(e,t,i){"use strict";i("3b84")},"4b8f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamReader=void 0;const s=i("6f58a"),a=i("34eb"),n=i("d3ab"),r=(0,a.default)("music-metadata:parser:musepack:sv8"),o=new s.StringType(2,"binary"),c={len:5,get:(e,t)=>({crc:s.UINT32_LE.get(e,t),streamVersion:s.UINT8.get(e,t+4)})},l={len:2,get:(e,t)=>({sampleFrequency:[44100,48e3,37800,32e3][n.getBitAllignedNumber(e,t,0,3)],maxUsedBands:n.getBitAllignedNumber(e,t,3,5),channelCount:n.getBitAllignedNumber(e,t+1,0,4)+1,msUsed:n.isBitSet(e,t+1,4),audioBlockFrames:n.getBitAllignedNumber(e,t+1,5,3)})};class u{constructor(e){this.tokenizer=e}async readPacketHeader(){const e=await this.tokenizer.readToken(o),t=await this.readVariableSizeField();return{key:e,payloadLength:t.value-2-t.len}}async readStreamHeader(e){const t={};r("Reading SH at offset="+this.tokenizer.position);const i=await this.tokenizer.readToken(c);e-=c.len,Object.assign(t,i),r("SH.streamVersion = "+i.streamVersion);const s=await this.readVariableSizeField();e-=s.len,t.sampleCount=s.value;const a=await this.readVariableSizeField();e-=a.len,t.beginningOfSilence=a.value;const n=await this.tokenizer.readToken(l);return e-=l.len,Object.assign(t,n),await this.tokenizer.ignore(e),t}async readVariableSizeField(e=1,t=0){let i=await this.tokenizer.readNumber(s.UINT8);return 0===(128&i)?{len:e,value:t+i}:(i&=127,i+=t,this.readVariableSizeField(e+1,i<<7))}}t.StreamReader=u},"4cc3":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AsfUtil=void 0;const s=i("6f58a"),a=i("d3ab");class n{static getParserForAttr(e){return n.attributeParsers[e]}static parseUnicodeAttr(e){return a.stripNulls(a.decodeString(e,"utf16le"))}static parseByteArrayAttr(t){return e.from(t)}static parseBoolAttr(e,t=0){return 1===n.parseWordAttr(e,t)}static parseDWordAttr(e,t=0){return e.readUInt32LE(t)}static parseQWordAttr(e,t=0){return s.UINT64_LE.get(e,t)}static parseWordAttr(e,t=0){return e.readUInt16LE(t)}}n.attributeParsers=[n.parseUnicodeAttr,n.parseByteArrayAttr,n.parseBoolAttr,n.parseDWordAttr,n.parseQWordAttr,n.parseWordAttr,n.parseByteArrayAttr],t.AsfUtil=n}).call(this,i("1c35").Buffer)},"4e4b":function(e,t,i){},"4f83":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractID3Parser=void 0;const s=i("21c2"),a=i("34eb"),n=i("0662"),r=i("64a4"),o=i("1e78"),c=i("95c9"),l=(0,a.default)("music-metadata:parser:ID3");class u extends c.BasicParser{constructor(){super(...arguments),this.id3parser=new r.ID3v2Parser}static async startsWithID3v2Header(e){return"ID3"===(await e.peekToken(n.ID3v2Header)).fileIdentifier}async parse(){try{await this.parseID3v2()}catch(e){if(!(e instanceof s.EndOfStreamError))throw e;l("End-of-stream")}}finalize(){}async parseID3v2(){if(await this.tryReadId3v2Headers(),l("End of ID3v2 header, go to MPEG-parser: pos=%s",this.tokenizer.position),await this.postId3v2Parse(),this.options.skipPostHeaders&&this.metadata.hasAny())this.finalize();else{const e=new o.ID3v1Parser;await e.init(this.metadata,this.tokenizer,this.options).parse(),this.finalize()}}async tryReadId3v2Headers(){const e=await this.tokenizer.peekToken(n.ID3v2Header);if("ID3"===e.fileIdentifier)return l("Found ID3v2 header, pos=%s",this.tokenizer.position),await this.id3parser.parse(this.metadata,this.tokenizer,this.options),this.tryReadId3v2Headers()}}t.AbstractID3Parser=u},5128:function(e,t,i){},5184:function(e,t,i){e.exports=i("faa1").EventEmitter},5301:function(e,t,i){"use strict";i("f06d")},"53a89":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MpcSv8Parser=void 0;const s=i("34eb"),a=i("95c9"),n=i("9611"),r=i("98a7"),o=i("4b8f"),c=(0,s.default)("music-metadata:parser:musepack");class l extends a.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){const e=await this.tokenizer.readToken(r.FourCcToken);if("MPCK"!==e)throw new Error("Invalid Magic number");return this.metadata.setFormat("container","Musepack, SV8"),this.parsePacket()}async parsePacket(){const e=new o.StreamReader(this.tokenizer);do{const t=await e.readPacketHeader();switch(c(`packet-header key=${t.key}, payloadLength=${t.payloadLength}`),t.key){case"SH":const i=await e.readStreamHeader(t.payloadLength);this.metadata.setFormat("numberOfSamples",i.sampleCount),this.metadata.setFormat("sampleRate",i.sampleFrequency),this.metadata.setFormat("duration",i.sampleCount/i.sampleFrequency),this.metadata.setFormat("numberOfChannels",i.channelCount);break;case"AP":this.audioLength+=t.payloadLength,await this.tokenizer.ignore(t.payloadLength);break;case"RG":case"EI":case"SO":case"ST":case"CT":await this.tokenizer.ignore(t.payloadLength);break;case"SE":return this.metadata.setFormat("bitrate",8*this.audioLength/this.metadata.format.duration),n.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options);default:throw new Error("Unexpected header: "+t.key)}}while(1)}}t.MpcSv8Parser=l},"53d6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CaseInsensitiveTagMap=void 0;const s=i("fc97");class a extends s.CommonTagMapper{constructor(e,t){const i={};for(const s of Object.keys(t))i[s.toUpperCase()]=t[s];super(e,i)}getCommonName(e){return this.tagMap[e.toUpperCase()]}}t.CaseInsensitiveTagMap=a},"55e9":function(e,t,i){},5658:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MpegParser=void 0;const s=i("6f58a"),a=i("21c2"),n=i("34eb"),r=i("d3ab"),o=i("4f83"),c=i("ad3a"),l=(0,n.default)("music-metadata:parser:mpeg"),u=1024,d={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,void 0,void 0,-1]},h=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]];class m{constructor(e,t){this.versionIndex=r.getBitAllignedNumber(e,t+1,3,2),this.layer=m.LayerDescription[r.getBitAllignedNumber(e,t+1,5,2)],this.versionIndex>1&&0===this.layer?this.parseAdtsHeader(e,t):this.parseMpegHeader(e,t),this.isProtectedByCRC=!r.isBitSet(e,t+1,7)}calcDuration(e){return e*this.calcSamplesPerFrame()/this.samplingRate}calcSamplesPerFrame(){return m.samplesInFrameTable[1===this.version?0:1][this.layer]}calculateSideInfoLength(){if(3!==this.layer)return 2;if(3===this.channelModeIndex){if(1===this.version)return 17;if(2===this.version||2.5===this.version)return 9}else{if(1===this.version)return 32;if(2===this.version||2.5===this.version)return 17}}calcSlotSize(){return[null,4,1,1][this.layer]}parseMpegHeader(e,t){this.container="MPEG",this.bitrateIndex=r.getBitAllignedNumber(e,t+2,0,4),this.sampRateFreqIndex=r.getBitAllignedNumber(e,t+2,4,2),this.padding=r.isBitSet(e,t+2,6),this.privateBit=r.isBitSet(e,t+2,7),this.channelModeIndex=r.getBitAllignedNumber(e,t+3,0,2),this.modeExtension=r.getBitAllignedNumber(e,t+3,2,2),this.isCopyrighted=r.isBitSet(e,t+3,4),this.isOriginalMedia=r.isBitSet(e,t+3,5),this.emphasis=r.getBitAllignedNumber(e,t+3,7,2),this.version=m.VersionID[this.versionIndex],this.channelMode=m.ChannelMode[this.channelModeIndex],this.codec=`MPEG ${this.version} Layer ${this.layer}`;const i=this.calcBitrate();if(!i)throw new Error("Cannot determine bit-rate");if(this.bitrate=1e3*i,this.samplingRate=this.calcSamplingRate(),null==this.samplingRate)throw new Error("Cannot determine sampling-rate")}parseAdtsHeader(e,t){l("layer=0 => ADTS"),this.version=2===this.versionIndex?4:2,this.container="ADTS/MPEG-"+this.version;const i=r.getBitAllignedNumber(e,t+2,0,2);this.codec="AAC",this.codecProfile=d.AudioObjectTypes[i],l("MPEG-4 audio-codec="+this.codec);const s=r.getBitAllignedNumber(e,t+2,2,4);this.samplingRate=d.SamplingFrequencies[s],l("sampling-rate="+this.samplingRate);const a=r.getBitAllignedNumber(e,t+2,7,3);this.mp4ChannelConfig=h[a],l("channel-config="+this.mp4ChannelConfig.join("+")),this.frameLength=r.getBitAllignedNumber(e,t+3,6,2)<<11}calcBitrate(){if(0===this.bitrateIndex||15===this.bitrateIndex)return;const e=`${Math.floor(this.version)}${this.layer}`;return m.bitrate_index[this.bitrateIndex][e]}calcSamplingRate(){return 3===this.sampRateFreqIndex?null:m.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}}m.SyncByte1=255,m.SyncByte2=224,m.VersionID=[2.5,null,2,1],m.LayerDescription=[0,3,2,1],m.ChannelMode=["stereo","joint_stereo","dual_channel","mono"],m.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}},m.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}},m.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]];const p={len:4,get:(e,t)=>new m(e,t)};function f(e){return"V"+Math.floor((100-e)/10)}class g extends o.AbstractID3Parser{constructor(){super(...arguments),this.frameCount=0,this.syncFrameCount=-1,this.countSkipFrameData=0,this.totalDataLength=0,this.bitrates=[],this.calculateEofDuration=!1,this.buf_frame_header=e.alloc(4),this.syncPeek={buf:e.alloc(u),len:0}}async postId3v2Parse(){this.metadata.setFormat("lossless",!1);try{let e=!1;while(!e)await this.sync(),e=await this.parseCommonMpegHeader()}catch(e){if(!(e instanceof a.EndOfStreamError))throw e;if(l("End-of-stream"),this.calculateEofDuration){const e=this.frameCount*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",e);const t=e/this.metadata.format.sampleRate;l(`Calculate duration at EOF: ${t} sec.`,t),this.metadata.setFormat("duration",t)}}}finalize(){const e=this.metadata.format,t=this.metadata.native.hasOwnProperty("ID3v1");if(e.duration&&this.tokenizer.fileInfo.size){const i=this.tokenizer.fileInfo.size-this.mpegOffset-(t?128:0);e.codecProfile&&"V"===e.codecProfile[0]&&this.metadata.setFormat("bitrate",8*i/e.duration)}else if(this.tokenizer.fileInfo.size&&"CBR"===e.codecProfile){const i=this.tokenizer.fileInfo.size-this.mpegOffset-(t?128:0),s=Math.round(i/this.frame_size)*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",s);const a=s/e.sampleRate;l("Calculate CBR duration based on file size: %s",a),this.metadata.setFormat("duration",a)}}async sync(){let e=!1;while(1){let t=0;if(this.syncPeek.len=await this.tokenizer.peekBuffer(this.syncPeek.buf,{length:u,mayBeLess:!0}),this.syncPeek.len<=163)throw new a.EndOfStreamError;while(1){if(e&&224===(224&this.syncPeek.buf[t]))return this.buf_frame_header[0]=m.SyncByte1,this.buf_frame_header[1]=this.syncPeek.buf[t],await this.tokenizer.ignore(t),l(`Sync at offset=${this.tokenizer.position-1}, frameCount=${this.frameCount}`),this.syncFrameCount===this.frameCount&&(l("Re-synced MPEG stream, frameCount="+this.frameCount),this.frameCount=0,this.frame_size=0),void(this.syncFrameCount=this.frameCount);if(e=!1,t=this.syncPeek.buf.indexOf(m.SyncByte1,t),-1===t){if(this.syncPeek.len<this.syncPeek.buf.length)throw new a.EndOfStreamError;await this.tokenizer.ignore(this.syncPeek.len);break}++t,e=!0}}}async parseCommonMpegHeader(){let e;0===this.frameCount&&(this.mpegOffset=this.tokenizer.position-1),await this.tokenizer.peekBuffer(this.buf_frame_header,{offset:1,length:3});try{e=p.get(this.buf_frame_header,0)}catch(t){return await this.tokenizer.ignore(1),this.metadata.addWarning("Parse error: "+t.message),!1}return await this.tokenizer.ignore(3),this.metadata.setFormat("container",e.container),this.metadata.setFormat("codec",e.codec),this.metadata.setFormat("lossless",!1),this.metadata.setFormat("sampleRate",e.samplingRate),this.frameCount++,e.version>=2&&0===e.layer?this.parseAdts(e):this.parseAudioFrameHeader(e)}async parseAudioFrameHeader(e){this.metadata.setFormat("numberOfChannels","mono"===e.channelMode?1:2),this.metadata.setFormat("bitrate",e.bitrate),this.frameCount<2e5&&l("offset=%s MP%s bitrate=%s sample-rate=%s",this.tokenizer.position-4,e.layer,e.bitrate,e.samplingRate);const t=e.calcSlotSize();if(null===t)throw new Error("invalid slot_size");const i=e.calcSamplesPerFrame();l("samples_per_frame="+i);const s=i/8,a=s*e.bitrate/e.samplingRate+(e.padding?t:0);if(this.frame_size=Math.floor(a),this.audioFrameHeader=e,this.bitrates.push(e.bitrate),1===this.frameCount)return this.offset=p.len,await this.skipSideInformation(),!1;if(3===this.frameCount){if(this.areAllSame(this.bitrates)){if(this.samplesPerFrame=i,this.metadata.setFormat("codecProfile","CBR"),this.tokenizer.fileInfo.size)return!0}else if(this.metadata.format.duration)return!0;if(!this.options.duration)return!0}return this.options.duration&&4===this.frameCount&&(this.samplesPerFrame=i,this.calculateEofDuration=!0),this.offset=4,e.isProtectedByCRC?(await this.parseCrc(),!1):(await this.skipSideInformation(),!1)}async parseAdts(t){const i=e.alloc(3);await this.tokenizer.readBuffer(i),t.frameLength+=r.getBitAllignedNumber(i,0,0,11),this.totalDataLength+=t.frameLength,this.samplesPerFrame=1024;const s=t.samplingRate/this.samplesPerFrame,a=0===this.frameCount?0:this.totalDataLength/this.frameCount,n=8*a*s+.5;if(this.metadata.setFormat("bitrate",n),l(`frame-count=${this.frameCount}, size=${t.frameLength} bytes, bit-rate=${n}`),await this.tokenizer.ignore(t.frameLength>7?t.frameLength-7:1),3===this.frameCount){if(this.metadata.setFormat("codecProfile",t.codecProfile),t.mp4ChannelConfig&&this.metadata.setFormat("numberOfChannels",t.mp4ChannelConfig.length),!this.options.duration)return!0;this.calculateEofDuration=!0}return!1}async parseCrc(){return this.crc=await this.tokenizer.readNumber(s.INT16_BE),this.offset+=2,this.skipSideInformation()}async skipSideInformation(){const e=this.audioFrameHeader.calculateSideInfoLength();await this.tokenizer.readToken(new s.Uint8ArrayType(e)),this.offset+=e,await this.readXtraInfoHeader()}async readXtraInfoHeader(){const e=await this.tokenizer.readToken(c.InfoTagHeaderTag);switch(this.offset+=c.InfoTagHeaderTag.len,e){case"Info":return this.metadata.setFormat("codecProfile","CBR"),this.readXingInfoHeader();case"Xing":const e=await this.readXingInfoHeader(),t=f(e.vbrScale);return this.metadata.setFormat("codecProfile",t),null;case"Xtra":break;case"LAME":const i=await this.tokenizer.readToken(c.LameEncoderVersion);if(this.frame_size>=this.offset+c.LameEncoderVersion.len)return this.offset+=c.LameEncoderVersion.len,this.metadata.setFormat("tool","LAME "+i),await this.skipFrameData(this.frame_size-this.offset),null;this.metadata.addWarning("Corrupt LAME header");break}const t=this.frame_size-this.offset;return t<0?this.metadata.addWarning("Frame "+this.frameCount+"corrupt: negative frameDataLeft"):await this.skipFrameData(t),null}async readXingInfoHeader(){const e=this.tokenizer.position,t=await(0,c.readXingHeader)(this.tokenizer);if(this.offset+=this.tokenizer.position-e,t.lame&&(this.metadata.setFormat("tool","LAME "+r.stripNulls(t.lame.version)),t.lame.extended&&(this.metadata.setFormat("trackPeakLevel",t.lame.extended.track_peak),t.lame.extended.track_gain&&this.metadata.setFormat("trackGain",t.lame.extended.track_gain.adjustment),t.lame.extended.album_gain&&this.metadata.setFormat("albumGain",t.lame.extended.album_gain.adjustment),this.metadata.setFormat("duration",t.lame.extended.music_length/1e3))),t.streamSize){const e=this.audioFrameHeader.calcDuration(t.numFrames);return this.metadata.setFormat("duration",e),l("Get duration from Xing header: %s",this.metadata.format.duration),t}const i=this.frame_size-this.offset;return await this.skipFrameData(i),t}async skipFrameData(e){if(e<0)throw new Error("frame-data-left cannot be negative");await this.tokenizer.ignore(e),this.countSkipFrameData+=e}areAllSame(e){const t=e[0];return e.every(e=>e===t)}}t.MpegParser=g}).call(this,i("1c35").Buffer)},"599d":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisDecoder=void 0;const s=i("6f58a");class a{constructor(e,t){this.data=e,this.offset=t}readInt32(){const e=s.UINT32_LE.get(this.data,this.offset);return this.offset+=4,e}readStringUtf8(){const t=this.readInt32(),i=e.from(this.data).toString("utf-8",this.offset,this.offset+t);return this.offset+=t,i}parseUserComment(){const e=this.offset,t=this.readStringUtf8(),i=t.indexOf("=");return{key:t.slice(0,i).toUpperCase(),value:t.slice(i+1),len:this.offset-e}}}t.VorbisDecoder=a}).call(this,i("1c35").Buffer)},"5a49":function(e,t,i){"use strict";(function(e){async function i(i){if(i.fileSize>=143){const s=e.alloc(15);await i.randomRead(s,0,s.length,i.fileSize-143);const a=s.toString("binary"),n=a.substr(6);if(n===t.endTag2)return parseInt(a.substr(0,6),10)+15}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.getLyricsHeaderLength=t.endTag2=void 0,t.endTag2="LYRICS200",t.getLyricsHeaderLength=i}).call(this,i("1c35").Buffer)},"5b7a":function(e,t,i){"use strict";t.stringToBytes=e=>[...e].map(e=>e.charCodeAt(0)),t.tarHeaderChecksumMatches=(e,t=0)=>{const i=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(i))return!1;let s=256;for(let a=t;a<t+148;a++)s+=e[a];for(let a=t+156;a<t+512;a++)s+=e[a];return i===s},t.uint32SyncSafeToken={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},"5cf0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableWebToNodeStream=void 0;const s=i("60b9");class a extends s.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}t.ReadableWebToNodeStream=a},"5ea2":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MP4Parser=void 0;const s=i("34eb"),a=i("6f58a"),n=i("95c9"),r=i("1e78"),o=i("cec2"),c=i("bef3"),l=i("150c"),u=(0,s.default)("music-metadata:parser:MP4"),d="iTunes",h={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};function m(e,t,i){return i.indexOf(e)===t}class p extends n.BasicParser{constructor(){super(...arguments),this.atomParsers={mvhd:async e=>{const t=await this.tokenizer.readToken(new l.MvhdAtom(e));this.metadata.setFormat("creationTime",t.creationTime),this.metadata.setFormat("modificationTime",t.modificationTime)},mdhd:async e=>{const t=await this.tokenizer.readToken(new l.MdhdAtom(e)),i=this.getTrackDescription();i.creationTime=t.creationTime,i.modificationTime=t.modificationTime,i.timeScale=t.timeScale,i.duration=t.duration},chap:async e=>{const t=this.getTrackDescription(),i=[];while(e>=a.UINT32_BE.len)i.push(await this.tokenizer.readNumber(a.UINT32_BE)),e-=a.UINT32_BE.len;t.chapterList=i},tkhd:async e=>{const t=await this.tokenizer.readToken(new l.TrackHeaderAtom(e));this.tracks.push(t)},mdat:async e=>{if(this.audioLengthInBytes=e,this.calculateBitRate(),this.options.includeChapters){const t=this.tracks.filter(e=>e.chapterList);if(1===t.length){const i=t[0].chapterList,s=this.tracks.filter(e=>-1!==i.indexOf(e.trackId));if(1===s.length)return this.parseChapterTrack(s[0],t[0],e)}}await this.tokenizer.ignore(e)},ftyp:async e=>{const t=[];while(e>0){const i=await this.tokenizer.readToken(l.ftyp);e-=l.ftyp.len;const s=i.type.replace(/\W/g,"");s.length>0&&t.push(s)}u("ftyp: "+t.join("/"));const i=t.filter(m).join("/");this.metadata.setFormat("container",i)},stsd:async e=>{const t=await this.tokenizer.readToken(new l.StsdAtom(e)),i=this.getTrackDescription();i.soundSampleDescription=t.table.map(e=>this.parseSoundSampleDescription(e))},stsc:async e=>{const t=await this.tokenizer.readToken(new l.StscAtom(e));this.getTrackDescription().sampleToChunkTable=t.entries},stts:async e=>{const t=await this.tokenizer.readToken(new l.SttsAtom(e));this.getTrackDescription().timeToSampleTable=t.entries},stsz:async e=>{const t=await this.tokenizer.readToken(new l.StszAtom(e)),i=this.getTrackDescription();i.sampleSize=t.sampleSize,i.sampleSizeTable=t.entries},stco:async e=>{const t=await this.tokenizer.readToken(new l.StcoAtom(e));this.getTrackDescription().chunkOffsetTable=t.entries},date:async e=>{const t=await this.tokenizer.readToken(new a.StringType(e,"utf-8"));this.addTag("date",t)}}}static read_BE_Integer(e,t){const i=(t?"INT":"UINT")+8*e.length+(e.length>1?"_BE":""),s=a[i];if(!s)throw new Error('Token for integer type not found: "'+i+'"');return Number(s.get(e,0))}async parse(){this.tracks=[];let e=this.tokenizer.fileInfo.size;while(!this.tokenizer.fileInfo.size||e>0){try{const e=await this.tokenizer.peekToken(l.Header);if("\0\0\0\0"===e.name){const e=`Error at offset=${this.tokenizer.position}: box.id=0`;u(e),this.addWarning(e);break}}catch(s){const e=`Error at offset=${this.tokenizer.position}: ${s.message}`;u(e),this.addWarning(e);break}const t=await c.Atom.readAtom(this.tokenizer,(e,t)=>this.handleAtom(e,t),null,e);e-=t.header.length===BigInt(0)?e:Number(t.header.length)}const t=[];this.tracks.forEach(e=>{const i=[];e.soundSampleDescription.forEach(e=>{const t={},s=h[e.dataFormat];if(s?(i.push(s.format),t.codecName=s.format):t.codecName=`<${e.dataFormat}>`,e.description){const{description:i}=e;i.sampleRate>0&&(t.type=o.TrackType.audio,t.audio={samplingFrequency:i.sampleRate,bitDepth:i.sampleSize,channels:i.numAudioChannels})}this.metadata.addStreamInfo(t)}),i.length>=1&&t.push(i.join("/"))}),t.length>0&&this.metadata.setFormat("codec",t.filter(m).join("+"));const i=this.tracks.filter(e=>e.soundSampleDescription.length>=1&&e.soundSampleDescription[0].description&&e.soundSampleDescription[0].description.numAudioChannels>0);if(i.length>=1){const e=i[0];if(e.timeScale>0){const t=e.duration/e.timeScale;this.metadata.setFormat("duration",t)}const t=e.soundSampleDescription[0];if(t.description&&(this.metadata.setFormat("sampleRate",t.description.sampleRate),this.metadata.setFormat("bitsPerSample",t.description.sampleSize),this.metadata.setFormat("numberOfChannels",t.description.numAudioChannels),0===e.timeScale&&e.timeToSampleTable.length>0)){const i=e.timeToSampleTable.map(e=>e.count*e.duration).reduce((e,t)=>e+t),s=i/t.description.sampleRate;this.metadata.setFormat("duration",s)}const s=h[t.dataFormat];s&&this.metadata.setFormat("lossless",!s.lossy),this.calculateBitRate()}}async handleAtom(e,t){if(e.parent)switch(e.parent.header.name){case"ilst":case"<id>":return this.parseMetadataItemData(e)}if(this.atomParsers[e.header.name])return this.atomParsers[e.header.name](t);u(`No parser for atom path=${e.atomPath}, payload-len=${t}, ignoring atom`),await this.tokenizer.ignore(t)}getTrackDescription(){return this.tracks[this.tracks.length-1]}calculateBitRate(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}addTag(e,t){this.metadata.addTag(d,e,t)}addWarning(e){u("Warning: "+e),this.metadata.addWarning(e)}parseMetadataItemData(e){let t=e.header.name;return e.readAtoms(this.tokenizer,async(e,i)=>{const s=e.getPayloadLength(i);switch(e.header.name){case"data":return this.parseValueAtom(t,e);case"name":case"mean":case"rate":const i=await this.tokenizer.readToken(new l.NameAtom(s));t+=":"+i.name;break;default:const n=await this.tokenizer.readToken(new a.BufferType(s));this.addWarning("Unsupported meta-item: "+t+"["+e.header.name+"] => value="+n.toString("hex")+" ascii="+n.toString("ascii"))}},e.getPayloadLength(0))}async parseValueAtom(t,i){const s=await this.tokenizer.readToken(new l.DataAtom(Number(i.header.length)-l.Header.len));if(0!==s.type.set)throw new Error("Unsupported type-set != 0: "+s.type.set);switch(s.type.type){case 0:switch(t){case"trkn":case"disk":const e=a.UINT8.get(s.value,3),n=a.UINT8.get(s.value,5);this.addTag(t,e+"/"+n);break;case"gnre":const o=a.UINT8.get(s.value,1),c=r.Genres[o-1];this.addTag(t,c);break;case"rate":const l=s.value.toString("ascii");this.addTag(t,l);break;default:u("unknown proprietary value type for: "+i.atomPath)}break;case 1:case 18:this.addTag(t,s.value.toString("utf-8"));break;case 13:if(this.options.skipCovers)break;this.addTag(t,{format:"image/jpeg",data:e.from(s.value)});break;case 14:if(this.options.skipCovers)break;this.addTag(t,{format:"image/png",data:e.from(s.value)});break;case 21:this.addTag(t,p.read_BE_Integer(s.value,!0));break;case 22:this.addTag(t,p.read_BE_Integer(s.value,!1));break;case 65:this.addTag(t,s.value.readInt8(0));break;case 66:this.addTag(t,s.value.readInt16BE(0));break;case 67:this.addTag(t,s.value.readInt32BE(0));break;default:this.addWarning(`atom key=${t}, has unknown well-known-type (data-type): ${s.type.type}`)}}parseSoundSampleDescription(e){const t={dataFormat:e.dataFormat,dataReferenceIndex:e.dataReferenceIndex};let i=0;const s=l.SoundSampleDescriptionVersion.get(e.description,i);return i+=l.SoundSampleDescriptionVersion.len,0===s.version||1===s.version?t.description=l.SoundSampleDescriptionV0.get(e.description,i):u(`Warning: sound-sample-description ${s} not implemented`),t}async parseChapterTrack(e,t,i){if(!e.sampleSize&&e.chunkOffsetTable.length!==e.sampleSizeTable.length)throw new Error("Expected equal chunk-offset-table & sample-size-table length.");const s=[];for(let a=0;a<e.chunkOffsetTable.length&&i>0;++a){const n=e.chunkOffsetTable[a],r=n-this.tokenizer.position,o=e.sampleSize>0?e.sampleSize:e.sampleSizeTable[a];if(i-=r+o,i<0)throw new Error("Chapter chunk exceeding token length");await this.tokenizer.ignore(r);const c=await this.tokenizer.readToken(new l.ChapterText(o));u(`Chapter ${a+1}: ${c}`);const d={title:c,sampleOffset:this.findSampleOffset(t,this.tokenizer.position)};u(`Chapter title=${d.title}, offset=${d.sampleOffset}/${this.tracks[0].duration}`),s.push(d)}this.metadata.setFormat("chapters",s),await this.tokenizer.ignore(i)}findSampleOffset(e,t){let i=0;e.timeToSampleTable.forEach(e=>{i+=e.count*e.duration}),u("Total duration="+i);let s=0;while(s<e.chunkOffsetTable.length&&e.chunkOffsetTable[s]<t)++s;return this.getChunkDuration(s+1,e)}getChunkDuration(e,t){let i=0,s=t.timeToSampleTable[i].count,a=t.timeToSampleTable[i].duration,n=1,r=this.getSamplesPerChunk(n,t.sampleToChunkTable),o=0;while(n<e){const e=Math.min(s,r);o+=e*a,s-=e,r-=e,0===r?(++n,r=this.getSamplesPerChunk(n,t.sampleToChunkTable)):(++i,s=t.timeToSampleTable[i].count,a=t.timeToSampleTable[i].duration)}return o}getSamplesPerChunk(e,t){for(let i=0;i<t.length-1;++i)if(e>=t[i].firstChunk&&e<t[i+1].firstChunk)return t[i].samplesPerChunk;return t[t.length-1].samplesPerChunk}}t.MP4Parser=p}).call(this,i("1c35").Buffer)},"5ec0":function(e,t,i){},6033:function(e,t,i){"use strict";i("b932")},"60b9":function(e,t,i){t=e.exports=i("bd7a"),t.Stream=t,t.Readable=t,t.Writable=i("b84d"),t.Duplex=i("845f"),t.Transform=i("8a58"),t.PassThrough=i("c6d6"),t.finished=i("fd17"),t.pipeline=i("7e5b")},6210:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"titlebar"},[i("div",{class:["title",{"has-icon":!!e.icon}],style:e.style,attrs:{"data-icon":e.id,"data-test-window-title":""},domProps:{innerHTML:e._s(e.title||"&nbsp;")}}),e._t("default")],2)},a=[],n=i("0f35"),r=i("2f62"),o={props:{title:String,icon:String},data(){return{id:null}},computed:{...Object(r["c"])(["themeData"]),titleIcon(){const{icon:e,themeData:t}=this;return Object(n["g"])(e)||Object(n["f"])(e)?e:t.icon[e]||null},style(){return this.titleIcon?{"--icon":`url('${this.titleIcon}')`}:null}},mounted(){this.id=this.$el.closest(".window").id.split("-")[1]}},c=o,l=(i("9eef"),i("2877")),u=Object(l["a"])(c,s,a,!1,null,"7ea83bba",null);t["a"]=u.exports},"63e0":function(e,t,i){},"63fab":function(e,t,i){"use strict";i("d2f0")},6441:function(e,t,i){},"64a4":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v2Parser=void 0;const s=i("6f58a"),a=i("d3ab"),n=i("41db"),r=i("0662");class o{static removeUnsyncBytes(e){let t=0,i=0;while(t<e.length-1)t!==i&&(e[i]=e[t]),t+=255===e[t]&&0===e[t+1]?2:1,i++;return t<e.length&&(e[i++]=e[t]),e.slice(0,i)}static getFrameHeaderLength(e){switch(e){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}static readFrameFlags(e){return{status:{tag_alter_preservation:a.getBit(e,0,6),file_alter_preservation:a.getBit(e,0,5),read_only:a.getBit(e,0,4)},format:{grouping_identity:a.getBit(e,1,7),compression:a.getBit(e,1,3),encryption:a.getBit(e,1,2),unsynchronisation:a.getBit(e,1,1),data_length_indicator:a.getBit(e,1,0)}}}static readFrameData(e,t,i,s,a){const r=new n.FrameParser(i,a);switch(i){case 2:return r.readData(e,t.id,s);case 3:case 4:return t.flags.format.unsynchronisation&&(e=o.removeUnsyncBytes(e)),t.flags.format.data_length_indicator&&(e=e.slice(4,e.length)),r.readData(e,t.id,s);default:throw new Error("Unexpected majorVer: "+i)}}static makeDescriptionTagName(e,t){return e+(t?":"+t:"")}async parse(e,t,i){this.tokenizer=t,this.metadata=e,this.options=i;const s=await this.tokenizer.readToken(r.ID3v2Header);if("ID3"!==s.fileIdentifier)throw new Error("expected ID3-header file-identifier 'ID3' was not found");return this.id3Header=s,this.headerType="ID3v2."+s.version.major,s.flags.isExtendedHeader?this.parseExtendedHeader():this.parseId3Data(s.size)}async parseExtendedHeader(){const e=await this.tokenizer.readToken(r.ExtendedHeader),t=e.size-r.ExtendedHeader.len;return t>0?this.parseExtendedHeaderData(t,e.size):this.parseId3Data(this.id3Header.size-e.size)}async parseExtendedHeaderData(e,t){return await this.tokenizer.ignore(e),this.parseId3Data(this.id3Header.size-t)}async parseId3Data(e){const t=await this.tokenizer.readToken(new s.Uint8ArrayType(e));for(const i of this.parseMetadata(t))if("TXXX"===i.id){if(i.value)for(const e of i.value.text)this.addTag(o.makeDescriptionTagName(i.id,i.value.description),e)}else if("COM"===i.id)for(const e of i.value)this.addTag(o.makeDescriptionTagName(i.id,e.description),e.text);else if("COMM"===i.id)for(const e of i.value)this.addTag(o.makeDescriptionTagName(i.id,e.description),e);else if(Array.isArray(i.value))for(const e of i.value)this.addTag(i.id,e);else this.addTag(i.id,i.value)}addTag(e,t){this.metadata.addTag(this.headerType,e,t)}parseMetadata(e){let t=0;const i=[];while(1){if(t===e.length)break;const s=o.getFrameHeaderLength(this.id3Header.version.major);if(t+s>e.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}const a=e.slice(t,t+=s),n=this.readFrameHeader(a,this.id3Header.version.major),r=e.slice(t,t+=n.length),c=o.readFrameData(r,n,this.id3Header.version.major,!this.options.skipCovers,this.metadata);c&&i.push({id:n.id,value:c})}return i}readFrameHeader(t,i){let a;switch(i){case 2:a={id:e.from(t.slice(0,3)).toString("ascii"),length:s.UINT24_BE.get(t,3)},a.id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${a.id}`);break;case 3:case 4:a={id:e.from(t.slice(0,4)).toString("ascii"),length:(4===i?r.UINT32SYNCSAFE:s.UINT32_BE).get(t,4),flags:o.readFrameFlags(t.slice(8,10))},a.id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${a.id}`);break;default:throw new Error("Unexpected majorVer: "+i)}return a}}t.ID3v2Parser=o}).call(this,i("1c35").Buffer)},"65cf":function(e,t,i){"use strict";i("9de9")},"65da":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsfParser=void 0;const s=i("34eb"),a=i("cec2"),n=i("9131"),r=i("fa86"),o=i("95c9"),c=(0,s.default)("music-metadata:parser:ASF"),l="asf";class u extends o.BasicParser{async parse(){const e=await this.tokenizer.readToken(r.TopLevelHeaderObjectToken);if(!e.objectId.equals(n.default.HeaderObject))throw new Error("expected asf header; but was not found; got: "+e.objectId.str);try{await this.parseObjectHeader(e.numberOfHeaderObjects)}catch(t){c("Error while parsing ASF: %s",t)}}async parseObjectHeader(e){let t;do{const e=await this.tokenizer.readToken(r.HeaderObjectToken);switch(c("header GUID=%s",e.objectId.str),e.objectId.str){case r.FilePropertiesObject.guid.str:const i=await this.tokenizer.readToken(new r.FilePropertiesObject(e));this.metadata.setFormat("duration",Number(i.playDuration/BigInt(1e3))/1e4-Number(i.preroll)/1e3),this.metadata.setFormat("bitrate",i.maximumBitrate);break;case r.StreamPropertiesObject.guid.str:const s=await this.tokenizer.readToken(new r.StreamPropertiesObject(e));this.metadata.setFormat("container","ASF/"+s.streamType);break;case r.HeaderExtensionObject.guid.str:const o=await this.tokenizer.readToken(new r.HeaderExtensionObject);await this.parseExtensionObject(o.extensionDataSize);break;case r.ContentDescriptionObjectState.guid.str:t=await this.tokenizer.readToken(new r.ContentDescriptionObjectState(e)),this.addTags(t);break;case r.ExtendedContentDescriptionObjectState.guid.str:t=await this.tokenizer.readToken(new r.ExtendedContentDescriptionObjectState(e)),this.addTags(t);break;case n.default.CodecListObject.str:const l=await r.readCodecEntries(this.tokenizer);l.forEach(e=>{this.metadata.addStreamInfo({type:e.type.videoCodec?a.TrackType.video:a.TrackType.audio,codecName:e.codecName})});const u=l.filter(e=>e.type.audioCodec).map(e=>e.codecName).join("/");this.metadata.setFormat("codec",u);break;case n.default.StreamBitratePropertiesObject.str:await this.tokenizer.ignore(e.objectSize-r.HeaderObjectToken.len);break;case n.default.PaddingObject.str:c("Padding: %s bytes",e.objectSize-r.HeaderObjectToken.len),await this.tokenizer.ignore(e.objectSize-r.HeaderObjectToken.len);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+e.objectId.str),c("Ignore ASF-Object-GUID: %s",e.objectId.str),await this.tokenizer.readToken(new r.IgnoreObjectState(e))}}while(--e)}addTags(e){e.forEach(e=>{this.metadata.addTag(l,e.id,e.value)})}async parseExtensionObject(e){do{const t=await this.tokenizer.readToken(r.HeaderObjectToken),i=t.objectSize-r.HeaderObjectToken.len;switch(t.objectId.str){case r.ExtendedStreamPropertiesObjectState.guid.str:await this.tokenizer.readToken(new r.ExtendedStreamPropertiesObjectState(t));break;case r.MetadataObjectState.guid.str:const e=await this.tokenizer.readToken(new r.MetadataObjectState(t));this.addTags(e);break;case r.MetadataLibraryObjectState.guid.str:const s=await this.tokenizer.readToken(new r.MetadataLibraryObjectState(t));this.addTags(s);break;case n.default.PaddingObject.str:await this.tokenizer.ignore(i);break;case n.default.CompatibilityObject.str:this.tokenizer.ignore(i);break;case n.default.ASF_Index_Placeholder_Object.str:await this.tokenizer.ignore(i);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+t.objectId.str),await this.tokenizer.readToken(new r.IgnoreObjectState(t));break}e-=t.objectSize}while(e>0)}}t.AsfParser=u},"676e":function(e,t,i){},"68a5":function(e,t,i){},"692c":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.trailed?i("span",{staticClass:"cursor-wrapper"},e._l(e.trailCount,(function(t){return i("span",{key:t,staticClass:"cursor",class:{shadowed:e.shadowed,highlighted:e.highlighted&&t===e.trailCount},style:Object.assign({},e.activeStyle,{transition:"transform "+.05*(e.trailCount-t)+"s linear"})})})),0):i("span",{staticClass:"cursor",class:{shadowed:e.shadowed,highlighted:e.highlighted},style:e.activeStyle})},a=[],n=i("8229"),r=i("2f62"),o=i("6792"),c=i("0f35");const l={tl:n["a"].ResizeD1,br:n["a"].ResizeD1,tr:n["a"].ResizeD2,bl:n["a"].ResizeD2,tm:n["a"].ResizeV,bm:n["a"].ResizeV,ml:n["a"].ResizeH,mr:n["a"].ResizeH};var u={data(){return{cachedCursor:null,activeCursor:null,activeCursorType:null,x:0,y:0}},computed:{trailCount:()=>6,...Object(r["d"])({scheme:"cursorScheme",trailed:"cursorTrail",shadowed:"cursorShadow",highlighted:"cursorHighlight"}),...Object(r["c"])(["isRtl"]),cursorImage(){return Object.values(n["a"]).reduce((e,t)=>{const{suffix:i}=n["d"][this.scheme],s="string"===typeof t?t:n["b"][t]+i,a=Object(c["a"])(this.$store.state.assets.cursor,s);return e[t]=a,e},{})},activeStyle(){return{backgroundImage:`url(${this.activeCursor})`,transform:`translate(${this.x}px, ${this.y}px)`}}},mounted(){this.x=this.$el.clientWidth+window.outerWidth/2,this.y=this.$el.clientHeight+window.outerHeight/2,this.$root.$el.addEventListener("touchend",this.moveTouch),this.$root.$el.addEventListener("touchmove",this.moveTouch),this.$root.$el.addEventListener("mousemove",this.moveMouse),this.$root.$on(o["c"].ChangeCursor,e=>{[n["a"].Default,n["a"].Working,n["a"].Busy,n["a"].Precision].includes(e)?(this.activeCursor=this.cursorImage[e],this.activeCursorType=e):this.cachedCursor=this.cursorImage[e]})},methods:{moveTouch({changedTouches:e,target:t}){const[i]=e;this.x=i.clientX-this.$el.clientWidth/2,this.y=i.clientY-this.$el.clientHeight/2,this.moveGeneric(t)},moveMouse(e){this.x=e.clientX-this.$el.clientWidth/2,this.y=e.clientY-this.$el.clientHeight/2,this.moveGeneric(e.target)},moveGeneric(e){if(this.isRtl&&(this.x+=this.$el.clientWidth-window.innerWidth),[n["a"].Busy,n["a"].Working,n["a"].Precision].includes(this.activeCursorType))return;if(e.dataset.defaultCursor)return void(this.activeCursor=this.cursorImage[n["a"].Default]);const t="INPUT"===e.tagName&&(!e.type||["text","password","search","tel","url"].includes(e.type)),i="true"===e.contentEditable||e.closest('[contenteditable="true"]');if(t||i||"TEXTAREA"===e.tagName)this.activeCursor=this.cursorImage[n["a"].Typing];else if(e.classList.contains("upper-canvas"))this.activeCursor=this.cachedCursor;else if(e.closest(".resizable")&&e.classList.contains("handle")){const t=e.className.split("-")[1];this.activeCursor=this.cursorImage[l[t]]}else this.activeCursor=this.cursorImage[n["a"].Default]}}},d=u,h=(i("e061"),i("2877")),m=Object(h["a"])(d,s,a,!1,null,"07ac1ae4",null);t["default"]=m.exports},"6a01":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const s=i("6f58a"),a=i("98a7");t.Header={len:8,get:(e,t)=>({chunkID:a.FourCcToken.get(e,t),chunkSize:Number(BigInt(s.UINT32_BE.get(e,t+4)))})}},"6c12":function(e,t,i){"use strict";i("dcb5")},"6dcf":function(e,t,i){},"6e46":function(e,t,i){},"6f58a":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AnsiStringType=t.StringType=t.BufferType=t.Uint8ArrayType=t.IgnoreType=t.Float80_LE=t.Float80_BE=t.Float64_LE=t.Float64_BE=t.Float32_LE=t.Float32_BE=t.Float16_LE=t.Float16_BE=t.INT64_BE=t.UINT64_BE=t.INT64_LE=t.UINT64_LE=t.INT32_LE=t.INT32_BE=t.INT24_BE=t.INT24_LE=t.INT16_LE=t.INT16_BE=t.INT8=t.UINT32_BE=t.UINT32_LE=t.UINT24_BE=t.UINT24_LE=t.UINT16_BE=t.UINT16_LE=t.UINT8=void 0;const s=i("9152");function a(e){return new DataView(e.buffer,e.byteOffset)}t.UINT8={len:1,get(e,t){return a(e).getUint8(t)},put(e,t,i){return a(e).setUint8(t,i),t+1}},t.UINT16_LE={len:2,get(e,t){return a(e).getUint16(t,!0)},put(e,t,i){return a(e).setUint16(t,i,!0),t+2}},t.UINT16_BE={len:2,get(e,t){return a(e).getUint16(t)},put(e,t,i){return a(e).setUint16(t,i),t+2}},t.UINT24_LE={len:3,get(e,t){const i=a(e);return i.getUint8(t)+(i.getUint16(t+1,!0)<<8)},put(e,t,i){const s=a(e);return s.setUint8(t,255&i),s.setUint16(t+1,i>>8,!0),t+3}},t.UINT24_BE={len:3,get(e,t){const i=a(e);return(i.getUint16(t)<<8)+i.getUint8(t+2)},put(e,t,i){const s=a(e);return s.setUint16(t,i>>8),s.setUint8(t+2,255&i),t+3}},t.UINT32_LE={len:4,get(e,t){return a(e).getUint32(t,!0)},put(e,t,i){return a(e).setUint32(t,i,!0),t+4}},t.UINT32_BE={len:4,get(e,t){return a(e).getUint32(t)},put(e,t,i){return a(e).setUint32(t,i),t+4}},t.INT8={len:1,get(e,t){return a(e).getInt8(t)},put(e,t,i){return a(e).setInt8(t,i),t+1}},t.INT16_BE={len:2,get(e,t){return a(e).getInt16(t)},put(e,t,i){return a(e).setInt16(t,i),t+2}},t.INT16_LE={len:2,get(e,t){return a(e).getInt16(t,!0)},put(e,t,i){return a(e).setInt16(t,i,!0),t+2}},t.INT24_LE={len:3,get(e,i){const s=t.UINT24_LE.get(e,i);return s>8388607?s-16777216:s},put(e,t,i){const s=a(e);return s.setUint8(t,255&i),s.setUint16(t+1,i>>8,!0),t+3}},t.INT24_BE={len:3,get(e,i){const s=t.UINT24_BE.get(e,i);return s>8388607?s-16777216:s},put(e,t,i){const s=a(e);return s.setUint16(t,i>>8),s.setUint8(t+2,255&i),t+3}},t.INT32_BE={len:4,get(e,t){return a(e).getInt32(t)},put(e,t,i){return a(e).setInt32(t,i),t+4}},t.INT32_LE={len:4,get(e,t){return a(e).getInt32(t,!0)},put(e,t,i){return a(e).setInt32(t,i,!0),t+4}},t.UINT64_LE={len:8,get(e,t){return a(e).getBigUint64(t,!0)},put(e,t,i){return a(e).setBigUint64(t,i,!0),t+8}},t.INT64_LE={len:8,get(e,t){return a(e).getBigInt64(t,!0)},put(e,t,i){return a(e).setBigInt64(t,i,!0),t+8}},t.UINT64_BE={len:8,get(e,t){return a(e).getBigUint64(t)},put(e,t,i){return a(e).setBigUint64(t,i),t+8}},t.INT64_BE={len:8,get(e,t){return a(e).getBigInt64(t)},put(e,t,i){return a(e).setBigInt64(t,i),t+8}},t.Float16_BE={len:2,get(e,t){return s.read(e,t,!1,10,this.len)},put(e,t,i){return s.write(e,i,t,!1,10,this.len),t+this.len}},t.Float16_LE={len:2,get(e,t){return s.read(e,t,!0,10,this.len)},put(e,t,i){return s.write(e,i,t,!0,10,this.len),t+this.len}},t.Float32_BE={len:4,get(e,t){return a(e).getFloat32(t)},put(e,t,i){return a(e).setFloat32(t,i),t+4}},t.Float32_LE={len:4,get(e,t){return a(e).getFloat32(t,!0)},put(e,t,i){return a(e).setFloat32(t,i,!0),t+4}},t.Float64_BE={len:8,get(e,t){return a(e).getFloat64(t)},put(e,t,i){return a(e).setFloat64(t,i),t+8}},t.Float64_LE={len:8,get(e,t){return a(e).getFloat64(t,!0)},put(e,t,i){return a(e).setFloat64(t,i,!0),t+8}},t.Float80_BE={len:10,get(e,t){return s.read(e,t,!1,63,this.len)},put(e,t,i){return s.write(e,i,t,!1,63,this.len),t+this.len}},t.Float80_LE={len:10,get(e,t){return s.read(e,t,!0,63,this.len)},put(e,t,i){return s.write(e,i,t,!0,63,this.len),t+this.len}};class n{constructor(e){this.len=e}get(e,t){}}t.IgnoreType=n;class r{constructor(e){this.len=e}get(e,t){return e.subarray(t,t+this.len)}}t.Uint8ArrayType=r;class o{constructor(e){this.len=e}get(t,i){return e.from(t.subarray(i,i+this.len))}}t.BufferType=o;class c{constructor(e,t){this.len=e,this.encoding=t}get(t,i){return e.from(t).toString(this.encoding,i,i+this.len)}}t.StringType=c;class l{constructor(e){this.len=e}static decode(e,t,i){let s="";for(let a=t;a<i;++a)s+=l.codePointToString(l.singleByteDecoder(e[a]));return s}static inRange(e,t,i){return t<=e&&e<=i}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(l.inRange(e,0,127))return e;const t=l.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return l.decode(e,t,t+this.len)}}t.AnsiStringType=l,l.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]}).call(this,i("1c35").Buffer)},"6fdb":function(e,t,i){"use strict";i("46e3")},7230:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.IdentificationHeader=t.CommonHeader=t.VorbisPictureToken=void 0;const s=i("6f58a"),a=i("0662");class n{static fromBase64(t){return this.fromBuffer(e.from(t,"base64"))}static fromBuffer(e){const t=new n(e.length);return t.get(e,0)}constructor(e){this.len=e}get(t,i){const n=a.AttachedPictureType[s.UINT32_BE.get(t,i)],r=s.UINT32_BE.get(t,i+=4),o=t.toString("utf-8",i+=4,i+r),c=s.UINT32_BE.get(t,i+=r),l=t.toString("utf-8",i+=4,i+c),u=s.UINT32_BE.get(t,i+=c),d=s.UINT32_BE.get(t,i+=4),h=s.UINT32_BE.get(t,i+=4),m=s.UINT32_BE.get(t,i+=4),p=s.UINT32_BE.get(t,i+=4),f=e.from(t.slice(i+=4,i+p));return{type:n,format:o,description:l,width:u,height:d,colour_depth:h,indexed_color:m,data:f}}}t.VorbisPictureToken=n,t.CommonHeader={len:7,get:(e,t)=>({packetType:e.readUInt8(t),vorbis:new s.StringType(6,"ascii").get(e,t+1)})},t.IdentificationHeader={len:23,get:(e,t)=>{const i=new DataView(e.buffer,e.byteOffset);return{version:i.getUint32(t+0,!0),channelMode:i.getUint8(t+4),sampleRate:i.getUint32(t+5,!0),bitrateMax:i.getUint32(t+9,!0),bitrateNominal:i.getUint32(t+13,!0),bitrateMin:i.getUint32(t+17,!0)}}}}).call(this,i("1c35").Buffer)},"730a":function(e,t,i){},"73c2":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.MatroskaParser=void 0;const s=i("6f58a"),a=i("34eb"),n=i("95c9"),r=i("31de"),o=i("b120"),c=(0,a.default)("music-metadata:parser:matroska");class l extends n.BasicParser{constructor(){super(),this.padding=0,this.parserMap=new Map,this.ebmlMaxIDLength=4,this.ebmlMaxSizeLength=8,this.parserMap.set(r.DataType.uint,e=>this.readUint(e)),this.parserMap.set(r.DataType.string,e=>this.readString(e)),this.parserMap.set(r.DataType.binary,e=>this.readBuffer(e)),this.parserMap.set(r.DataType.uid,async e=>1===await this.readUint(e)),this.parserMap.set(r.DataType.bool,e=>this.readFlag(e)),this.parserMap.set(r.DataType.float,e=>this.readFloat(e))}init(e,t,i){return super.init(e,t,i),this}async parse(){const e=await this.parseContainer(o.elements,this.tokenizer.fileInfo.size,[]);if(this.metadata.setFormat("container","EBML/"+e.ebml.docType),e.segment){const t=e.segment.info;if(t){const e=t.timecodeScale?t.timecodeScale:1e6;if("number"===typeof t.duration){const i=t.duration*e/1e9;this.addTag("segment:title",t.title),this.metadata.setFormat("duration",i)}}const i=e.segment.tracks;if(i&&i.entries){i.entries.forEach(e=>{const t={codecName:e.codecID.replace("A_","").replace("V_",""),codecSettings:e.codecSettings,flagDefault:e.flagDefault,flagLacing:e.flagLacing,flagEnabled:e.flagEnabled,language:e.language,name:e.name,type:e.trackType,audio:e.audio,video:e.video};this.metadata.addStreamInfo(t)});const t=i.entries.filter(e=>e.trackType===r.TrackType.audio.valueOf()).reduce((e,t)=>e?!e.flagDefault&&t.flagDefault||t.trackNumber&&t.trackNumber<e.trackNumber?t:e:t,null);t&&(this.metadata.setFormat("codec",t.codecID.replace("A_","")),this.metadata.setFormat("sampleRate",t.audio.samplingFrequency),this.metadata.setFormat("numberOfChannels",t.audio.channels)),e.segment.tags&&e.segment.tags.tag.forEach(e=>{const t=e.target,i=(null===t||void 0===t?void 0:t.targetTypeValue)?r.TargetType[t.targetTypeValue]:(null===t||void 0===t?void 0:t.targetType)?t.targetType:"track";e.simpleTags.forEach(e=>{const t=e.string?e.string:e.binary;this.addTag(`${i}:${e.name}`,t)})}),e.segment.attachments&&e.segment.attachments.attachedFiles.filter(e=>e.mimeType.startsWith("image/")).map(e=>({data:e.data,format:e.mimeType,description:e.description,name:e.name})).forEach(e=>{this.addTag("picture",e)})}}}async parseContainer(e,t,i){const s={};while(this.tokenizer.position<t){let t;try{t=await this.readElement()}catch(a){if("End-Of-Stream"===a.message)break;throw a}const n=e[t.id];if(n)if(c(`Element: name=${n.name}, container=${!!n.container}`),n.container){const e=await this.parseContainer(n.container,t.len>=0?this.tokenizer.position+t.len:-1,i.concat([n.name]));n.multiple?(s[n.name]||(s[n.name]=[]),s[n.name].push(e)):s[n.name]=e}else s[n.name]=await this.parserMap.get(n.value)(t);else switch(t.id){case 236:this.padding+=t.len,await this.tokenizer.ignore(t.len);break;default:c(`parseEbml: path=${i.join("/")}, unknown element: id=${t.id.toString(16)}`),this.padding+=t.len,await this.tokenizer.ignore(t.len)}}return s}async readVintData(t){const i=await this.tokenizer.peekNumber(s.UINT8);let a=128,n=1;while(0===(i&a)){if(n>t)throw new Error("VINT value exceeding maximum size");++n,a>>=1}const r=e.alloc(n);return await this.tokenizer.readBuffer(r),r}async readElement(){const e=await this.readVintData(this.ebmlMaxIDLength),t=await this.readVintData(this.ebmlMaxSizeLength);t[0]^=128>>t.length-1;const i=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-i,i)}}isMaxValue(e){if(e.length===this.ebmlMaxSizeLength){for(let t=1;t<this.ebmlMaxSizeLength;++t)if(255!==e[t])return!1;return!0}return!1}async readFloat(e){switch(e.len){case 0:return 0;case 4:return this.tokenizer.readNumber(s.Float32_BE);case 8:return this.tokenizer.readNumber(s.Float64_BE);case 10:return this.tokenizer.readNumber(s.Float64_BE);default:throw new Error("Invalid IEEE-754 float length: "+e.len)}}async readFlag(e){return 1===await this.readUint(e)}async readUint(e){const t=await this.readBuffer(e),i=Math.min(6,e.len);return t.readUIntBE(e.len-i,i)}async readString(e){const t=await this.tokenizer.readToken(new s.StringType(e.len,"utf-8"));return t.replace(/\00.*$/g,"")}async readBuffer(t){const i=e.alloc(t.len);return await this.tokenizer.readBuffer(i),i}addTag(e,t){this.metadata.addTag("matroska",e,t)}}t.MatroskaParser=l}).call(this,i("1c35").Buffer)},"773c":function(e,t,i){},"789d":function(e,t,i){"use strict";(function(t){function i(e,i){var n=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(r,this,e)):t.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?n._writableState?n._writableState.errorEmitted?t.nextTick(a,n):(n._writableState.errorEmitted=!0,t.nextTick(s,n,e)):t.nextTick(s,n,e):i?(t.nextTick(a,n),i(e)):t.nextTick(a,n)})),this)}function s(e,t){r(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(e,t){e.emit("error",t)}function o(e,t){var i=e._readableState,s=e._writableState;i&&i.autoDestroy||s&&s.autoDestroy?e.destroy(t):e.emit("error",t)}e.exports={destroy:i,undestroy:n,errorOrDestroy:o}}).call(this,i("4362"))},7981:function(e,t,i){"use strict";i("4e4b")},"799f":function(e,t,i){"use strict";i("d6e4")},"7b44":function(e,t,i){"use strict";i("23a3")},"7d72":function(e,t,i){"use strict";var s=i("8707").Buffer,a=s.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function r(e){var t=n(e);if("string"!==typeof t&&(s.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){var t;switch(this.encoding=r(e),this.encoding){case"utf16le":this.text=p,this.end=f,t=4;break;case"utf8":this.fillLast=d,t=4;break;case"base64":this.text=g,this.end=b,t=3;break;default:return this.write=v,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(t)}function c(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function l(e,t,i){var s=t.length-1;if(s<i)return 0;var a=c(t[s]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--s<i||-2===a?0:(a=c(t[s]),a>=0?(a>0&&(e.lastNeed=a-2),a):--s<i||-2===a?0:(a=c(t[s]),a>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0))}function u(e,t,i){if(128!==(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,""}}function d(e){var t=this.lastTotal-this.lastNeed,i=u(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function h(e,t){var i=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var s=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,s),e.toString("utf8",t,s)}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var s=i.charCodeAt(i.length-1);if(s>=55296&&s<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function g(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function b(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=m,o.prototype.text=h,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"7e1e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatroskaTagMapper=void 0;const s=i("53d6"),a={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"};class n extends s.CaseInsensitiveTagMap{constructor(){super(["matroska"],a)}}t.MatroskaTagMapper=n},"7e41":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["window window-static active",{centered:e.centered}]},[e._t("default")],2)},a=[],n={props:{centered:{type:Boolean,default:!0}}},r=n,o=(i("f3aa"),i("2877")),c=Object(o["a"])(r,s,a,!1,null,"49606194",null);t["a"]=c.exports},"7e5b":function(e,t,i){"use strict";var s;function a(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var n=i("1b08").codes,r=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function c(e){if(e)throw e}function l(e){return e.setHeader&&"function"===typeof e.abort}function u(e,t,n,r){r=a(r);var c=!1;e.on("close",(function(){c=!0})),void 0===s&&(s=i("fd17")),s(e,{readable:t,writable:n},(function(e){if(e)return r(e);c=!0,r()}));var u=!1;return function(t){if(!c&&!u)return u=!0,l(e)?e.abort():"function"===typeof e.destroy?e.destroy():void r(t||new o("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function m(e){return e.length?"function"!==typeof e[e.length-1]?c:e.pop():c}function p(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s,a=m(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new r("streams");var n=t.map((function(e,i){var r=i<t.length-1,o=i>0;return u(e,r,o,(function(e){s||(s=e),e&&n.forEach(d),r||(n.forEach(d),a(s))}))}));return t.reduce(h)}e.exports=p},"7e97":function(e,t,i){"use strict";i("956f")},"7eca":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const s=i("6f58a"),a=i("d3ab");t.Header={len:24,get:(t,i)=>{const n={signature:e.from(t).toString("latin1",i,i+3),streamMinorVersion:a.getBitAllignedNumber(t,i+3,0,4),streamMajorVersion:a.getBitAllignedNumber(t,i+3,4,4),frameCount:s.UINT32_LE.get(t,i+4),maxLevel:s.UINT16_LE.get(t,i+8),sampleFrequency:[44100,48e3,37800,32e3][a.getBitAllignedNumber(t,i+10,0,2)],link:a.getBitAllignedNumber(t,i+10,2,2),profile:a.getBitAllignedNumber(t,i+10,4,4),maxBand:a.getBitAllignedNumber(t,i+11,0,6),intensityStereo:a.isBitSet(t,i+11,6),midSideStereo:a.isBitSet(t,i+11,7),titlePeak:s.UINT16_LE.get(t,i+12),titleGain:s.UINT16_LE.get(t,i+14),albumPeak:s.UINT16_LE.get(t,i+16),albumGain:s.UINT16_LE.get(t,i+18),lastFrameLength:s.UINT32_LE.get(t,i+20)>>>20&2047,trueGapless:a.isBitSet(t,i+23,0)};return n.lastFrameLength=n.trueGapless?s.UINT32_LE.get(t,20)>>>20&2047:0,n}}}).call(this,i("1c35").Buffer)},"7edc":function(e,t,i){},8:function(e,t){},8115:function(e,t,i){},"81d5b":function(e,t,i){},"82de":function(e,t,i){"use strict";(function(t){var s;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=i("fd17"),r=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function m(e,t){return{value:e,done:t}}function p(e){var t=e[r];if(null!==t){var i=e[h].read();null!==i&&(e[u]=null,e[r]=null,e[o]=null,t(m(i,!1)))}}function f(e){t.nextTick(p,e)}function g(e,t){return function(i,s){e.then((function(){t[l]?i(m(void 0,!0)):t[d](i,s)}),s)}}var b=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((s={get stream(){return this[h]},next:function(){var e=this,i=this[c];if(null!==i)return Promise.reject(i);if(this[l])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise((function(i,s){t.nextTick((function(){e[c]?s(e[c]):i(m(void 0,!0))}))}));var s,a=this[u];if(a)s=new Promise(g(a,this));else{var n=this[h].read();if(null!==n)return Promise.resolve(m(n,!1));s=new Promise(this[d])}return this[u]=s,s}},a(s,Symbol.asyncIterator,(function(){return this})),a(s,"return",(function(){var e=this;return new Promise((function(t,i){e[h].destroy(null,(function(e){e?i(e):t(m(void 0,!0))}))}))})),s),b),y=function(e){var t,i=Object.create(v,(t={},a(t,h,{value:e,writable:!0}),a(t,r,{value:null,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,l,{value:e._readableState.endEmitted,writable:!0}),a(t,d,{value:function(e,t){var s=i[h].read();s?(i[u]=null,i[r]=null,i[o]=null,e(m(s,!1))):(i[r]=e,i[o]=t)},writable:!0}),t));return i[u]=null,n(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=i[o];return null!==t&&(i[u]=null,i[r]=null,i[o]=null,t(e)),void(i[c]=e)}var s=i[r];null!==s&&(i[u]=null,i[r]=null,i[o]=null,s(m(void 0,!0))),i[l]=!0})),e.on("readable",f.bind(null,i)),i};e.exports=y}).call(this,i("4362"))},"845f":function(e,t,i){"use strict";(function(t){var s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=l;var a=i("bd7a"),n=i("b84d");i("3fb5")(l,a);for(var r=s(n.prototype),o=0;o<r.length;o++){var c=r[o];l.prototype[c]||(l.prototype[c]=n.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);a.call(this,e),n.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,i("4362"))},8501:function(e,t,i){"use strict";i("c28a")},"85c1":function(e,t,i){"use strict";i("6dcf")},8707:function(e,t,i){var s=i("1c35"),a=s.Buffer;function n(e,t){for(var i in e)t[i]=e[i]}function r(e,t,i){return a(e,t,i)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=s:(n(s,t),t.Buffer=r),r.prototype=Object.create(a.prototype),n(a,r),r.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},r.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var s=a(e);return void 0!==t?"string"===typeof i?s.fill(t,i):s.fill(t):s.fill(0),s},r.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},r.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return s.SlowBuffer(e)}},8737:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FactChunk=t.Format=t.WaveFormat=void 0,function(e){e[e["PCM"]=1]="PCM",e[e["ADPCM"]=2]="ADPCM",e[e["IEEE_FLOAT"]=3]="IEEE_FLOAT",e[e["MPEG_ADTS_AAC"]=5632]="MPEG_ADTS_AAC",e[e["MPEG_LOAS"]=5634]="MPEG_LOAS",e[e["RAW_AAC1"]=255]="RAW_AAC1",e[e["DOLBY_AC3_SPDIF"]=146]="DOLBY_AC3_SPDIF",e[e["DVM"]=8192]="DVM",e[e["RAW_SPORT"]=576]="RAW_SPORT",e[e["ESST_AC3"]=577]="ESST_AC3",e[e["DRM"]=9]="DRM",e[e["DTS2"]=8193]="DTS2",e[e["MPEG"]=80]="MPEG"}(t.WaveFormat||(t.WaveFormat={}));class s{constructor(e){if(e.chunkSize<16)throw new Error("Invalid chunk size");this.len=e.chunkSize}get(e,t){return{wFormatTag:e.readUInt16LE(t),nChannels:e.readUInt16LE(t+2),nSamplesPerSec:e.readUInt32LE(t+4),nAvgBytesPerSec:e.readUInt32LE(t+8),nBlockAlign:e.readUInt16LE(t+12),wBitsPerSample:e.readUInt16LE(t+14)}}}t.Format=s;class a{constructor(e){if(e.chunkSize<4)throw new Error("Invalid fact chunk size.");this.len=e.chunkSize}get(e,t){return{dwSampleLength:e.readUInt32LE(t)}}}t.FactChunk=a},"8925c":function(e,t,i){"use strict";i("7edc")},"892b":function(e,t,i){"use strict";i("773c")},"8a58":function(e,t,i){"use strict";e.exports=u;var s=i("1b08").codes,a=s.ERR_METHOD_NOT_IMPLEMENTED,n=s.ERR_MULTIPLE_CALLBACK,r=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=s.ERR_TRANSFORM_WITH_LENGTH_0,c=i("845f");function l(e,t){var i=this._transformState;i.transforming=!1;var s=i.writecb;if(null===s)return this.emit("error",new n);i.writechunk=null,i.writecb=null,null!=t&&this.push(t),s(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,i){h(e,t,i)}))}function h(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new o;if(e._transformState.transforming)throw new r;return e.push(null)}i("3fb5")(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,i){i(new a("_transform()"))},u.prototype._write=function(e,t,i){var s=this._transformState;if(s.writecb=i,s.writechunk=e,s.writeencoding=t,!s.transforming){var a=this._readableState;(s.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},"8cb3":function(e,t,i){},"8e17":function(e,t,i){"use strict";i("9761")},"8f14":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisTagMapper=void 0;const s=i("fc97"),a={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"};class n extends s.CommonTagMapper{static toRating(e,t,i){return{source:e?e.toLowerCase():e,rating:parseFloat(t)/i*s.CommonTagMapper.maxRatingScore}}constructor(){super(["vorbis"],a)}postMap(e){if("RATING"===e.id)e.value=n.toRating(void 0,e.value,100);else if(0===e.id.indexOf("RATING:")){const t=e.id.split(":");e.value=n.toRating(t[1],e.value,1),e.id=t[0]}}}t.VorbisTagMapper=n},"8f5f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListInfoTagValue=t.Header=void 0;const s=i("6f58a");t.Header={len:8,get:(e,t)=>({chunkID:e.toString("binary",t,t+4),chunkSize:s.UINT32_LE.get(e,4)})};class a{constructor(e){this.tagHeader=e,this.len=e.chunkSize,this.len+=1&this.len}get(e,t){return new s.StringType(this.tagHeader.chunkSize,"ascii").get(e,t)}}t.ListInfoTagValue=a},"8ff5":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fragment"},[i("window",{attrs:{id:"window-mediacenter",w:600,h:400},on:{resize:e.handleResize}},[i("title-bar",{attrs:{icon:"mediacenter",title:e.$t("mediacenter")}},[i("controls")],1),i("div",{ref:"mainContainer",staticClass:"container",class:{fullscreen:e.isMediaOnlyActive},on:{mousemove:e.handleContainerOnMouseMove,click:e.handleContainerOnMouseMove}},[e.isMediaOnlyActive?i("mouse-cursor"):e._e(),i("background"),(e.musicState!==e.MediaState.Stop&&e.currScreen===e.Screen.HomeScreen||e.currScreen===e.Screen.MusicPlayer)&&"none"!==e.$store.state.wmcNpBg?i("background-mosaic",{attrs:{albumList:e.albumList}}):e._e(),i("video",{directives:[{name:"show",rawName:"v-show",value:e.videoState!==e.MediaState.Stop&&e.currScreen===e.Screen.HomeScreen||e.currScreen===e.Screen.VideoPlayer,expression:"\n          (videoState !== MediaState.Stop && currScreen === Screen.HomeScreen) || currScreen === Screen.VideoPlayer\n        "}],ref:"videoPlayer",attrs:{id:"video-player",autoplay:"",loop:"",width:"100%",src:e.videoPlayerSrc},on:{timeupdate:e.updateCurrentVideoTime}}),e.currScreen===e.Screen.VideoPlayer?i("play-video",{directives:[{name:"show",rawName:"v-show",value:e.isCtrlsVisible,expression:"isCtrlsVisible"}],attrs:{currTime:e.npVideoTime,duration:e.npVideoDuration,isVideoPaused:e.videoState===e.MediaState.Pause},on:{seekVideo:e.seekVideo,changePage:e.changeScreen}}):e._e(),e.musicState!==e.MediaState.Stop&&e.currScreen===e.Screen.HomeScreen||e.videoState!==e.MediaState.Stop&&e.currScreen===e.Screen.HomeScreen?i("img",{class:{animated:e.useAnim},attrs:{id:"startmask-overlay",src:e.startMaskOverlay}}):e._e(),i("transition",{attrs:{"enter-active-class":e.useAnim?"animated fadeIn":"","leave-active-class":e.useAnim?"animated fadeOut faster":""}},[e.isCtrlsVisible?e._e():i("clock",{style:{visibility:e.currScreen===e.Screen.HomeScreen?"visible":"hidden"}})],1),i("home",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.HomeScreen&&!e.showFirstRunScreen,expression:"currScreen === Screen.HomeScreen && !showFirstRunScreen"}],attrs:{musicState:e.musicState,isSlideShowPlaying:e.isSlideShowPlaying,videoState:e.videoState,npAlbumArt:e.npAlbumArt,npSongName:e.getCurrentSongTitle,npAlbumName:e.npAlbumName,npAlbumArtist:e.npAlbumArtist,npVideoURL:e.videoPlayerSrc,npVideoName:e.npVideoName,npVideoTime:e.npVideoTime},on:{missingFeat:function(t){e.showMissingFeatDialog=!0},itemClicked:e.handleHomeItemClicked}}),e.currScreen===e.Screen.ExtrasLib?i("extras-library",{on:{changePage:e.changeScreen,onGameOpened:e.handleOnGameOpened}}):e._e(),e.currScreen===e.Screen.PictLib?i("picture-library",{attrs:{searchPaths:e.pictureSearchPaths,isListMakerShown:e.showListMaker,listSong:e.songList,listAlbum:e.albumList,isViewingPictures:e.showPictViewer},on:{playSongs:e.handlePlaySongs,addSongs:e.handleAddSongs,playSlideShow:e.handlePlaySlideShow,changePage:e.changeScreen,loading:e.handleIsLoading,openSettings:e.openSettings,showListMaker:e.handleShowListMaker}}):e._e(),e.showPictViewer?i("picture-viewer",{attrs:{pictureList:e.pictureList,currentPicture:e.currentPicture,playMode:e.pictureViewMode,npSongURI:e.npSongURI,npSongTitle:e.npSongTitle,npAlbumName:e.npAlbumName,npAlbumYear:e.npAlbumYear,npAlbumArtist:e.npAlbumArtist,npAlbumArt:e.npAlbumArt,isMusicPlaying:e.musicState===e.MediaState.Play},on:{back:e.handlePictureViewerBack}}):e._e(),e.currScreen===e.Screen.VidLib?i("video-library",{attrs:{searchPaths:e.videoSearchPaths},on:{playVideo:e.handlePlayVideo,changePage:e.changeScreen,loading:e.handleIsLoading,missingFeat:function(t){e.showMissingFeatDialog=!0},openSettings:e.openSettings}}):e._e(),e.currScreen===e.Screen.MusicLib?i("music-library",{attrs:{listAlbum:e.albumList,listArtist:e.artistList,listSong:e.songList,listGenre:e.genreList,listComposer:e.composerList,listYear:e.yearList,listAlbumArtist:e.albumArtistList,showSearchScreen:e.showSearchScreen,isListMakerShown:e.showListMaker,isSlideShowPlaying:e.isSlideShowPlaying},on:{playSongs:e.handlePlaySongs,addSongs:e.handleAddSongs,playSlideShow:e.handlePlaySlideShow,back:function(t){return e.changeScreen(e.Screen.HomeScreen)},openSettings:e.openSettings,showListMaker:e.handleShowListMaker}}):e._e(),e.currScreen===e.Screen.MusicPlayer?i("play-music",{attrs:{songList:e.getNpSongsInfo,albumName:e.npAlbumName,albumArtist:e.npAlbumArtist,albumYear:e.npAlbumYear,albumArt:e.npAlbumArt,songTitle:e.npSongTitle,songArtist:e.npSongArtist,currentTime:e.npSongTime,currentSongIndex:e.npSongIndex},on:{playSongAtIndex:e.handlePlaySongAtIndex,changePage:e.changeScreen,clearList:e.clearNpList,updateNowPlaying:e.handleUpdateNowPlaying}}):e._e(),e.showShutdownDialog?i("power-menu",{on:{back:function(t){e.showShutdownDialog=!1}}}):e._e(),e.currScreen===e.Screen.TaskSettings?i("settings",{attrs:{settingScreen:e.settingScreen},on:{changePage:e.changeScreen,findMediaScreen:e.handleFindMediaScreen}}):e._e(),e.currScreen===e.Screen.PictPlayFav?i("play-fav-picts",{attrs:{pictList:e.favPictList},on:{changePage:e.changeScreen}}):e._e(),e.isLoading?i("spinner"):e._e(),e.showListMaker?i("list-maker",{attrs:{listAlbum:e.albumList,listArtist:e.artistList,listSong:e.songList,listGenre:e.genreList,listComposer:e.composerList,listYear:e.yearList,listAlbumArtist:e.albumArtistList,editPlaylistURI:e.editPlaylistURI,listMakerType:e.listMakerType},on:{back:function(t){e.showListMaker=!1},findMediaScreen:e.handleFindMediaScreen}}):e._e(),e.showMissingFeatDialog?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("missing-feat-title")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("missing-feat-msg")))]},proxy:!0},{key:"footer",fn:function(){return[i("wmc-button",{staticClass:"selected",on:{click:function(t){e.showMissingFeatDialog=!1}}},[e._v(e._s(e.$t("ok")))])]},proxy:!0}],null,!1,2900878265)}):e._e(),e.showFavMusicWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("fav-music")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("no-fav-music-warning")))]},proxy:!0},{key:"footer",fn:function(){return[i("wmc-button",{class:{selected:!e.isFavMusicDialogCloseBtnSelected},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isFavMusicDialogCloseBtnSelected=!1},click:e.handleActionFavMusicDialog}},[e._v(e._s(e.$t("set-favorites"))+" ")]),i("wmc-button",{class:{selected:e.isFavMusicDialogCloseBtnSelected},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isFavMusicDialogCloseBtnSelected=!0},click:e.handleCloseFavMusicDialog}},[e._v(e._s(e.$t("cancel"))+" ")])]},proxy:!0}],null,!1,2067586928)}):e._e(),e.showFavPictWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("fav-pict")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("no-fav-picts-warning")))]},proxy:!0},{key:"footer",fn:function(){return[i("wmc-button",{class:{selected:!e.isFavPictDialogCloseBtnSelected},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isFavPictDialogCloseBtnSelected=!1},click:e.handleActionFavPictDialog}},[e._v(e._s(e.$t("set-favorites"))+" ")]),i("wmc-button",{class:{selected:e.isFavPictDialogCloseBtnSelected},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isFavPictDialogCloseBtnSelected=!0},click:e.handleCloseFavPictDialog}},[e._v(e._s(e.$t("cancel"))+" ")])]},proxy:!0}],null,!1,4290877891)}):e._e(),e.showMediaOnlyConfirm?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("media-only")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("media-only-confirm")))]},proxy:!0},{key:"footer",fn:function(){return[i("wmc-button",{class:{selected:!e.isMediaOnlyDialogCloseBtnSelected},attrs:{btnType:"dialog"},on:{click:e.enterMediaOnlyMode,mouseover:function(t){e.isMediaOnlyDialogCloseBtnSelected=!1}}},[e._v(" "+e._s(e.$t("yes"))+" ")]),i("wmc-button",{class:{selected:e.isMediaOnlyDialogCloseBtnSelected},attrs:{btnType:"dialog"},on:{click:function(t){e.showMediaOnlyConfirm=!1},mouseover:function(t){e.isMediaOnlyDialogCloseBtnSelected=!0}}},[e._v(" "+e._s(e.$t("no"))+" ")])]},proxy:!0}],null,!1,308324571)}):e._e(),i("startup-screen"),i("volume"),i("transition",{attrs:{name:e.useAnim?"toolbar":""}},[e.isCtrlsVisible?i("toolbar",{attrs:{currScreen:e.currScreen,isFindMediaScreen:e.isFindMediaScreen}}):e._e()],1),i("transition",{attrs:{name:e.useAnim?"playcontrol":""}},[e.isCtrlsVisible&&!e.isFindMediaScreen?i("play-control",{attrs:{musicState:e.musicState,videoState:e.videoState,isSlideShowPlaying:e.isSlideShowPlaying,isSlideShowScreen:e.showPictViewer,currScreen:e.currScreen}}):e._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showWatchAd,expression:"showWatchAd"}],attrs:{id:"watch-ad-wrapper"}},[i("watch-ad",{ref:"Ad",on:{close:e.handleAdWatched,cancel:function(t){e.showWatchAd=!1}}})],1),e.showFirstRunScreen?i("first-run",{on:{continue:e.handleFirstRunContinue}}):e._e()],1),i("audio",{ref:"audioPlayer",attrs:{autoplay:"",src:e.audioPlayerSrc,loop:e.isLooped&&e.musicState===e.MediaState.Play},on:{timeupdate:e.updateCurrentSongTime,ended:e.handleSongEnded}})],1)],1)},a=[],n=i("cb96"),r=i("0f35"),o=i("0e9a"),c=i("01b4"),l=i("f106"),u={data(){return{Screen:{HomeScreen:0,ExtrasLib:1,PictLib:2,PictPlayFav:3,VidLib:4,MusicLib:5,MusicPlayFav:6,TaskSettings:9,MusicPlayer:10,VideoPlayer:12},MediaState:{Stop:0,Play:1,Pause:2}}}};const d={methods:{async handleRatingShortcut(e,t,i){var s;if(!this.useRatingShortcut)return;const a=["0","1","2","3","4","5"];if(!a.includes(e.key))return;const n=+e.key/5,r=(null===(s=this.ratings[t])||void 0===s?void 0:s["open-times"])||0;await this.$store.dispatch(c["a"].WmcRatingAdd,{path:t,rating:{rating:n,type:i,"open-times":r}}),this.getRating()}}},h={methods:{async countOpenTimes(e,t){var i,s;let a=(null===(i=this.ratings[e])||void 0===i?void 0:i["open-times"])||0,n=(null===(s=this.ratings[e])||void 0===s?void 0:s.rating)||0;a+=1,await this.$store.dispatch(c["a"].WmcRatingAdd,{path:e,rating:{rating:n,type:t,"open-times":a}})}}},m={methods:{async getFolderItemCount(e,t=""){if(!t)return 0;const i=await l["a"].list(e);return i.filter(e=>"picture"===t&&Object(o["j"])(e.uri)||"video"===t&&Object(o["o"])(e.uri)).length}}},p={data(){const{wmcassets:e}=this.$store.state.assets,t=[Object(r["a"])(e,"audio-nocover1"),Object(r["a"])(e,"audio-nocover2"),Object(r["a"])(e,"audio-nocover3"),Object(r["a"])(e,"audio-nocover4"),Object(r["a"])(e,"audio-nocover5"),Object(r["a"])(e,"audio-nocover6")];return{unknownAlbumArts:t,unknownAlbumArtIcon:Object(r["a"])(e,"audio-nocover-icon")}},methods:{getUnknownAlbumArt(e=this.$t("unknown-album")){let t=0;for(let s=0;s<e.length;s++)t^=e.charCodeAt(s);const i=Math.abs(t)%this.unknownAlbumArts.length;return this.unknownAlbumArts[i]}}};var f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"background"}},[e.$store.state.wmcUseAnims?i("div",[i("img",{staticClass:"background",attrs:{id:"bg",src:e.bg}}),i("img",{attrs:{id:"bg-layer3",src:e.bgLayer3}}),i("img",{attrs:{id:"bg-layer2",src:e.bgLayer2}}),i("img",{attrs:{id:"bg-layer1",src:e.bgLayer1}}),i("img",{attrs:{id:"bg-shard1",src:e.shard1}})]):i("div",[i("img",{staticClass:"background",attrs:{id:"bg",src:e.bgStatic}})])])},g=[],b={data(){const{wmcassets:e}=this.$store.state.assets;return{bg:Object(r["a"])(e,"background-animated"),bgStatic:Object(r["a"])(e,"background"),bgLayer1:Object(r["a"])(e,"background-layer1"),bgLayer2:Object(r["a"])(e,"background-layer2"),bgLayer3:Object(r["a"])(e,"background-layer3"),bgLayer4:Object(r["a"])(e,"background-layer4"),bgLayer5:Object(r["a"])(e,"background-layer5"),bgLayer6:Object(r["a"])(e,"background-layer6"),shard1:Object(r["a"])(e,"shard-goodshard"),shard2:Object(r["a"])(e,"shard-liteshard"),shardA1:Object(r["a"])(e,"shardA1"),shardA2:Object(r["a"])(e,"shardA2"),shardB1:Object(r["a"])(e,"shardB1"),shardB2:Object(r["a"])(e,"shardB2"),shardB3:Object(r["a"])(e,"shardB3")}}},v=b,y=(i("be1b"),i("2877")),w=Object(y["a"])(v,f,g,!1,null,"9637abfa",null),S=w.exports,k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:"moving"===e.$store.state.wmcNpBg},attrs:{id:"wmc-mosaic-bg"}},[i("div",{staticClass:"mosaic-bg",attrs:{id:"bg2"}},e._l(e.bg2,(function(t,s){return i("img",{key:s,staticClass:"album-cover",style:{animationDelay:e.getRandomDelay()},attrs:{src:t}})})),0),i("div",{staticClass:"mosaic-bg",attrs:{id:"bg1"}},e._l(e.bg1,(function(t,s){return i("img",{key:s,staticClass:"album-cover",style:{animationDelay:e.getRandomDelay()},attrs:{src:t}})})),0),i("div",{staticClass:"mosaic-bg",attrs:{id:"bg2"}},e._l(e.bg2,(function(t,s){return i("img",{key:s,staticClass:"album-cover",style:{animationDelay:e.getRandomDelay()},attrs:{src:t}})})),0)])},T=[],_={props:{albumList:Object},data(){const{wmcassets:e}=this.$store.state.assets;return{albumCovers:[Object(r["a"])(e,"audio-nocover1"),Object(r["a"])(e,"audio-nocover2"),Object(r["a"])(e,"audio-nocover3"),Object(r["a"])(e,"audio-nocover4"),Object(r["a"])(e,"audio-nocover5"),Object(r["a"])(e,"audio-nocover6")],bg1:[],bg2:[]}},mounted(){this.addMoreAlbumArt(),this.constructBg1(),this.constructBg2()},methods:{constructBg1(){this.bg1=[];for(let e=0;e<70;e++)this.bg1.push(this.getRandomCover())},constructBg2(){this.bg2=[];for(let e=0;e<70;e++)this.bg2.push(this.getRandomCover())},getRandomCover(){const e=Math.floor(Math.random()*this.albumCovers.length);return this.albumCovers[e]},getRandomDelay(){return 2*Math.random()+"s"},addMoreAlbumArt(){if(0!==Object.keys(this.albumList).length)for(let e in this.albumList){let t=this.albumList[e].art;t&&this.albumCovers.push(t)}}}},C=_,P=(i("1738"),Object(y["a"])(C,k,T,!1,null,"0de6a7a0",null)),x=P.exports,A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-clock-wrapper"}},[i("div",{attrs:{id:"wmc-clock"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.isMediaOnlyActive,expression:"isMediaOnlyActive"}],attrs:{id:"wmc-mediaonly-indicator",src:e.mediaOnlyIndicator}}),i("div",{attrs:{id:"wmc-clock-time"}},[e._v(e._s(e.time))]),i("img",{attrs:{id:"wmc-clock-logo",src:e.logo}})])])},I=[],O=i("bccb"),M=i.n(O),L={data(){const{wmcassets:e}=this.$store.state.assets;return{logo:Object(r["a"])(e,"startmenu-logo-small"),brand:Object(r["a"])(e,"startmenu-logo-text-small"),mediaOnlyIndicator:Object(r["a"])(e,"mediaonly-indicator"),time:this.getTime(),isMediaOnlyActive:!1}},mounted(){this.updateTime(),M.a.on("change",()=>{this.isMediaOnlyActive=M.a.active})},methods:{getTime(){const e=new Date,t=e.getHours().toString(),i=e.getMinutes().toString().padStart(2,"0");return`${t}:${i}`},updateTime(){setInterval(()=>{this.time=this.getTime()},1e3)}}},$=L,E=(i("4a27"),Object(y["a"])($,A,I,!1,null,"03d6f5e5",null)),D=E.exports,R=i("3af2"),N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-dialog-bg-base"},on:{click:function(e){e.stopPropagation()}}},[i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-dialog-wrapper"}},[i("div",{style:{borderImageSource:"url("+e.frame+")",width:e.getButtonCount<3?"40%":"55%"},attrs:{id:"wmc-dialog"}},[i("div",{style:{borderImageSource:"url("+e.bg+")"},attrs:{id:"wmc-dialog-bg"}},[i("div",{attrs:{id:"wmc-dialog-title"}},[e._t("title")],2),i("div",{attrs:{id:"wmc-dialog-msg"}},[e._t("message")],2),i("div",{attrs:{id:"wmc-dialog-footer"}},[e._t("footer")],2)])])]),i("audio",{ref:"ding",attrs:{src:e.ding}})])},B=[],F=i("cf3f"),j={data(){const{wmcassets:e}=this.$store.state.assets;return{frame:Object(r["a"])(e,"overlay-outline"),bg:Object(r["a"])(e,"overlay-bg-medium"),ding:F["b"].ding}},mounted(){this.playDingSound()},computed:{isMuted(){return this.$store.state.wmcIsMuted||!this.$store.state.wmcPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},useAnim(){return this.$store.state.wmcUseAnims},getButtonCount(){if(!this.$slots.footer)return 0;const e=this.$slots.footer.filter(e=>void 0!==e.data);return e.length}},methods:{playDingSound(){const e=this.$refs.ding;e.currentTime=0,e.volume=this.volume,e.play()}}},U=j,z=(i("63fab"),Object(y["a"])(U,N,B,!1,null,"67243faa",null)),H=z.exports,V=i("6792"),W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("browse-gallery",{attrs:{tabList:e.tabList,libraryTitle:e.$t("extras-lib"),emptyLibMsg:e.$t("no-extras-available")}})},G=[],X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-browse-gallery-wrapper",class:{animated:e.useAnim}},[i("div",{staticClass:"wmc-browse-gallery",class:{focused:e.isFocused&&!e.isCtxMenuOpen}},[i("library-title",{key:e.keyLibTitle,attrs:{title:e.libraryTitle}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isListView,expression:"isListView"}],staticClass:"listview-bg"},[i("div",{staticClass:"top",style:{backgroundImage:"url("+e.bgTop+")"}}),i("div",{staticClass:"bottom",style:{backgroundImage:"url("+e.bgBottom+")"}})]),i("div",{staticClass:"wmc-commands"},[e._t("commands")],2),i("div",{staticClass:"detail-options-wrapper",on:{wheel:e.handleTabsScroll}},[i("div",{staticClass:"detail-options",style:{transform:"translateX("+e.tabOffset+"px)"}},e._l(e.tabList,(function(t,s){return i("div",{key:s,ref:"detailOption",refInFor:!0,class:["detail-option",{selected:e.currTab===s}],on:{click:function(t){return e.jumpToTab(s)}}},[i("button",{staticClass:"left-arrow",style:{backgroundImage:"url("+e.leftArrow+")"}}),e._v(" "+e._s(t.label)+" "),i("button",{staticClass:"right-arrow",style:{backgroundImage:"url("+e.rightArrow+")"}})])})),0)]),i("div",{staticClass:"tab-contents"},[e._l(e.tabList,(function(t,s){return[e.currTab===s?i("div",{key:s,ref:"itemList",refInFor:!0,staticClass:"hidden-scrollbar",class:{"item-list":!e.isListView,"list-view":e.isListView},on:{wheel:e.handleMouseWheel}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isTabEmpty&&!e.isLoading,expression:"isTabEmpty && !isLoading"}],staticClass:"empty-lib-txt"},[e._v(" "+e._s(e.emptyLibMsg)+" ")]),"1x1"===t.galleryType?e._l(t.itemList,(function(t,s){return i("item",{key:s,class:{selected:e.currItem===s,"menu-active":e.currItem===s&&e.isCtxMenuOpen},attrs:{imgSrc:t.img},on:{mouseover:function(i){return e.handleItemHovered(s,t)},click:t.click,contextmenu:function(e){return t.contextmenu(e)}}})})):"text"===t.galleryType?e._l(t.itemList,(function(t,s){return i("item-list",{key:s,class:{selected:e.currItem===s,"menu-active":e.currItem===s&&e.isCtxMenuOpen},on:{mouseover:function(i){return e.handleItemHovered(s,t)},click:t.click,contextmenu:function(e){return t.contextmenu(e)}}},[e._v(e._s(t.name)+" ")])})):"textcheckbox"===t.galleryType?e._l(t.itemList,(function(t,s){return i("item-list-checkbox",{key:s,class:{selected:e.currItem===s,"menu-active":e.currItem===s&&e.isCtxMenuOpen},attrs:{checked:t.checked},on:{mouseover:function(i){return e.handleItemHovered(s,t)},click:function(e){return t.click(s)}}},[e._v(" "+e._s(t.name)+" ")])})):"4x3checkbox"===t.galleryType?[e._l(t.folderList,(function(t,s){return i("item-folder",{key:t.uri,class:{selected:e.currItem===s},attrs:{folderName:t.name,folderURI:t.uri,isVideoThumbnail:t.isVideoThumbnail||!1},on:{mouseover:function(i){return e.handleItemHovered(s,t)},click:t.click}})})),e._l(t.itemList,(function(s,a){return i("item4x3-checkbox",{key:s.uri,class:{selected:e.currItem===a+t.folderList.length},attrs:{thumbnailPath:s.uri,checked:s.checked},on:{mouseover:function(i){return e.handleItemHovered(a+t.folderList.length,s)},click:function(e){return s.click(a)}}},[e._v(" "+e._s(s.name)+" ")])}))]:"4x3"===t.galleryType?[e._l(t.folderList,(function(t,s){return i("item-folder",{key:t.uri,class:{selected:e.currItem===s},attrs:{folderName:t.name,folderURI:t.uri,isVideoThumbnail:t.isVideoThumbnail||!1},on:{mouseover:function(i){return e.handleItemHovered(s,t)},click:t.click}})})),e._l(t.itemList,(function(s,a){return i("item4x3",{key:s.uri,class:{selected:e.currItem===a+t.folderList.length,"menu-active":e.currItem===a+t.folderList.length&&e.isCtxMenuOpen},attrs:{thumbnailPath:s.uri,isVideoThumbnail:"video"===s.type},on:{mouseover:function(i){return e.handleItemHovered(a+t.folderList.length,s)},click:s.click,contextmenu:function(e){return s.contextmenu(e)}}})}))]:"grouped1x1"===t.galleryType?e._l(t.itemList,(function(t,s){return i("div",{key:s,staticClass:"group-items hidden-scrollbar",class:{selected:e.currGroup===s},on:{mouseover:function(t){e.currGroup=s}}},[i("div",{staticClass:"group-name group-title-text"},[e._v(" "+e._s(t.label)+" ")]),i("div",{staticClass:"items"},e._l(t.itemList,(function(t,a){return i("item",{key:a,class:{selected:e.currItem===a&&e.currGroup===s,"menu-active":e.currItem===a&&e.currGroup===s&&e.isCtxMenuOpen},attrs:{imgSrc:t.img},on:{mouseover:function(i){return e.handleItemHovered(a,t)},click:t.click,contextmenu:function(e){return t.contextmenu(e)}}})})),1)])})):"groupedtext"===t.galleryType?[e._l(t.itemList,(function(t,s){return[e.isGroupEmpty(t)?e._e():i("div",{key:s,staticClass:"group-text-items hidden-scrollbar",class:{selected:e.currGroup===s},on:{mouseover:function(t){e.currGroup=s}}},[i("div",{staticClass:"group-title-text"},[e._v(e._s(t.label))]),e._l(t.itemList,(function(t,a){return i("item-list",{key:a,class:{selected:e.currItem===a&&e.currGroup===s,"menu-active":e.currItem===a&&e.currGroup===s&&e.isCtxMenuOpen},on:{mouseover:function(i){return e.handleItemHovered(a,t)},click:t.click,contextmenu:function(e){return t.contextmenu(e)}}},[e._v(e._s(t.name))])}))],2)]}))]:e._e()],2):e._e()]}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCtxMenuOpen,expression:"!isCtxMenuOpen"}],staticClass:"wmc-item-details"},[i("div",{staticClass:"item-maintext"},[e._v(e._s(e.itemDetailsMaintext))]),i("div",{staticClass:"item-subtext-1"},[e._v(e._s(e.itemDetailsSubtext1))]),i("div",{staticClass:"item-subtext-2"},[e._v(e._s(e.itemDetailsSubtext2))]),i("rating-info",{directives:[{name:"show",rawName:"v-show",value:e.showRating,expression:"showRating"}],attrs:{rating:e.itemRating}})],1),i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-item-count"}},[i("div",{attrs:{id:"current-index"}},[e._v(e._s(e.currItemIndex))]),i("div",{attrs:{id:"divider"}},[e._v("|")]),i("div",{attrs:{id:"total-items"}},[e._v(e._s(e.itemTotal))])])],1),i("trans-sound"),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}})],1)},q=[],Y=i("2f62"),K=function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"wmc-item",class:(e={},e["var"+t.getRandomAnim]=t.useAnim,e.animated=t.useAnim,e),on:{mouseenter:t.playFocusSound,mouseover:function(e){return t.$emit("mouseover")},click:function(e){return t.$emit("click")},contextmenu:function(e){return t.$emit("contextmenu",e)}}},[s("div",{style:t.selectorFrame,attrs:{id:"wmc-selector"}}),s("img",{attrs:{id:"wmc-item-icon",src:t.defaultIcon}}),s("img",{attrs:{id:"wmc-item-icon",src:t.imgSrc}}),s("img",{attrs:{id:"wmc-item-overlay",src:t.overlay}}),s("audio",{ref:"focusSound",attrs:{src:t.soundFocus}})])},Z=[],Q={props:{imgSrc:String},data(){const{wmcassets:e}=this.$store.state.assets;return{defaultIcon:Object(r["a"])(e,"item-default-icon"),overlay:Object(r["a"])(e,"item-overlay"),selector:Object(r["a"])(e,"selector"),soundFocus:F["b"].focus}},computed:{selectorFrame(){return{"--selector-frame":`url(${this.selector})`}},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},getRandomAnim(){return Math.floor(3*Math.random()+1)}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()}}},J=Q,ee=(i("6c12"),Object(y["a"])(J,K,Z,!1,null,"9381449c",null)),te=ee.exports,ie=function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"wmc-item-wrapper"},[s("div",{staticClass:"wmc-item",class:(e={animated:t.useAnim},e["var"+t.getRandomAnim]=t.useAnim,e),on:{mouseenter:t.playFocusSound,mouseover:function(e){return t.$emit("mouseover")},click:function(e){return t.$emit("click")},contextmenu:function(e){return t.$emit("contextmenu",e)}}},[s("div",{style:t.selectorFrame,attrs:{id:"wmc-selector"}}),s("thumbnail",{attrs:{id:"wmc-item-thumb",thumbnailPath:t.thumbnailPath,isVideoThumbnail:t.isVideoThumbnail}}),s("img",{attrs:{id:"wmc-item-overlay",src:t.overlay}}),s("img",{directives:[{name:"show",rawName:"v-show",value:t.isVideoThumbnail,expression:"isVideoThumbnail"}],attrs:{id:"wmc-item-vid-icon",src:t.iconVideo}}),s("audio",{ref:"focusSound",attrs:{src:t.soundFocus}})],1)])},se=[],ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-thumbnail-wrapper"},[i("img",{staticClass:"wmc-thumbnail",attrs:{src:e.imgSrc||e.defaultIcon}}),e.isVideoThumbnail?i("video",{ref:"videoThumbnail",staticClass:"wmc-thumbnail",attrs:{src:e.videoSrc,width:"100%",preload:"metadata",muted:""},domProps:{muted:!0},on:{loadedmetadata:e.getThumbnail,seeked:e.revokeBlobURL}}):e._e()])},ne=[],re=i("0fbc"),oe={props:{thumbnailPath:String,isVideoThumbnail:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{defaultIcon:Object(r["a"])(e,"item-default-icon"),videoSrc:null,imgSrc:null}},mounted(){this.getBlobURL()},beforeDestroy(){this.revokeBlobURL()},watch:{thumbnailPath(){this.revokeBlobURL(),this.getBlobURL()}},methods:{async getBlobURL(){if(!this.thumbnailPath)return;const e=await l["a"].read(this.thumbnailPath,!1,"blob"),t=Object(re["e"])(e);this.isVideoThumbnail?this.videoSrc=t:this.imgSrc=t},getThumbnail(){const e=this.$refs.videoThumbnail;e.currentTime=.15*e.duration},revokeBlobURL(){this.videoSrc&&l["a"].revoke(this.videoSrc),this.imgSrc&&l["a"].revoke(this.imgSrc)}}},ce=oe,le=(i("ba85"),Object(y["a"])(ce,ae,ne,!1,null,"b19e448a",null)),ue=le.exports,de={props:{thumbnailPath:String,isVideoThumbnail:Boolean},components:{Thumbnail:ue},data(){const{wmcassets:e}=this.$store.state.assets;return{overlay:Object(r["a"])(e,"item-overlay-4x3"),selector:Object(r["a"])(e,"selector"),iconVideo:Object(r["a"])(e,"item-video-icon"),soundFocus:F["b"].focus}},computed:{selectorFrame(){return{"--selector-frame":`url(${this.selector})`}},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},getRandomAnim(){return Math.floor(3*Math.random()+1)}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()}}},he=de,me=(i("35b6"),Object(y["a"])(he,ie,se,!1,null,"617ec6d6",null)),pe=me.exports,fe=function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"wmc-item-wrapper"},[s("div",{staticClass:"wmc-item",class:(e={animated:t.useAnim},e["var"+t.getRandomAnim]=t.useAnim,e),on:{mouseenter:t.playFocusSound,mouseover:function(e){return t.$emit("mouseover")},click:function(e){return t.$emit("click")}}},[s("div",{style:t.selectorFrame,attrs:{id:"wmc-selector"}}),s("thumbnail",{attrs:{id:"wmc-item-thumb",thumbnailPath:t.thumbnailPath,isVideoThumbnail:t.isVideoThumbnail}}),s("img",{attrs:{id:"wmc-item-overlay",src:t.overlay}}),s("div",{style:t.iconCheckbox,attrs:{id:"wmc-item-vid-icon"}}),s("input",{attrs:{type:"checkbox"},domProps:{checked:t.checked_},on:{input:function(e){t.checked_=e.target.checked}}}),s("audio",{ref:"focusSound",attrs:{src:t.soundFocus}})],1)])},ge=[],be={props:{thumbnailPath:String,isVideoThumbnail:Boolean,checked:Boolean},components:{Thumbnail:ue},data(){const{wmcassets:e}=this.$store.state.assets;return{overlay:Object(r["a"])(e,"item-overlay-4x3"),selector:Object(r["a"])(e,"selector"),iconCheckboxUnchecked:Object(r["a"])(e,"listmaker-notadded"),iconCheckboxChecked:Object(r["a"])(e,"listmaker-added"),soundFocus:F["b"].focus,checked_:!1}},mounted(){this.checked_=this.checked},watch:{checked(){this.checked_=this.checked}},computed:{selectorFrame(){return{"--selector-frame":`url(${this.selector})`}},iconCheckbox(){return{"--icon-checkbox":this.checked_?`url(${this.iconCheckboxChecked})`:`url(${this.iconCheckboxUnchecked})`}},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},getRandomAnim(){return Math.floor(3*Math.random()+1)}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()}}},ve=be,ye=(i("8501"),Object(y["a"])(ve,fe,ge,!1,null,"8a94c86a",null)),we=ye.exports,Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-item-folder",class:{animated:e.useAnim},on:{mouseenter:e.playFocusSound,mouseover:function(t){return e.$emit("mouseover")},click:function(t){return e.$emit("click")}}},[i("div",{style:e.selectorFrame,attrs:{id:"wmc-selector"}}),i("div",{attrs:{id:"folder-thumbnails"}},[i("thumbnail",{staticClass:"thumb-1",attrs:{thumbnailPath:e.thumbnailPaths[0],isVideoThumbnail:e.isVideoThumbnail}}),i("div",{attrs:{id:"smaller-thumbs"}},[i("thumbnail",{staticClass:"thumb-2",attrs:{thumbnailPath:e.thumbnailPaths[1],isVideoThumbnail:e.isVideoThumbnail}}),i("thumbnail",{staticClass:"thumb-3",attrs:{thumbnailPath:e.thumbnailPaths[2],isVideoThumbnail:e.isVideoThumbnail}})],1)],1),i("div",{attrs:{id:"folder-label"}},[e._v(e._s(e.folderName))]),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}})])},ke=[],Te={components:{Thumbnail:ue},props:{folderName:String,folderURI:String,isVideoThumbnail:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{selector:Object(r["a"])(e,"selector"),soundFocus:F["b"].focus,thumbnailPaths:[]}},mounted(){this.getFolderThumbnails()},computed:{selectorFrame(){return{"--selector-frame":`url(${this.selector})`}},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},async getFolderThumbnails(){const e=await l["a"].list(this.folderURI);for(let t of e)if(Object(o["j"])(t.uri)&&"file"===t.type&&!this.isVideoThumbnail){if(this.thumbnailPaths.push(t.uri),3===this.thumbnailPaths.length)break}else if(Object(o["o"])(t.uri)&&"file"===t.type&&this.isVideoThumbnail&&(this.thumbnailPaths.push(t.uri),3===this.thumbnailPaths.length))break}}},_e=Te,Ce=(i("b85c"),Object(y["a"])(_e,Se,ke,!1,null,"24f1d08e",null)),Pe=Ce.exports,xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-item-list",class:{animated:e.useAnim},on:{click:function(t){return e.$emit("click")},mouseenter:e.playFocusSound,mouseover:function(t){return e.$emit("mouseover")},contextmenu:function(t){return e.$emit("contextmenu",t)}}},[e._t("default"),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}})],2)},Ae=[],Ie={data(){return{soundFocus:F["b"].focus}},computed:{isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},getRandomAnim(){return Math.floor(3*Math.random()+1)}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()}}},Oe=Ie,Me=(i("fe99"),Object(y["a"])(Oe,xe,Ae,!1,null,"4c858a44",null)),Le=Me.exports,$e=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-item-list-wrapper",class:{animated:e.useAnim},on:{click:function(t){return e.$emit("click")},mouseenter:e.playFocusSound,mouseover:function(t){return e.$emit("mouseover")}}},[i("div",{staticClass:"wmc-item-list"},[i("div",{staticClass:"wmc-item-checkbox",style:e.iconCheckbox}),e._t("default")],2),i("input",{attrs:{type:"checkbox"},domProps:{checked:e.checked_},on:{input:function(t){e.checked_=t.target.checked}}}),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}})])},Ee=[],De={props:{checked:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{checked_:!1,soundFocus:F["b"].focus,iconCheckboxUnchecked:Object(r["a"])(e,"listmaker-notadded"),iconCheckboxChecked:Object(r["a"])(e,"listmaker-added")}},mounted(){this.checked_=this.checked},watch:{checked(){this.checked_=this.checked}},computed:{...Object(Y["d"])({muted:"wmcIsMuted",useAnim:"wmcUseAnims",shouldPlayNavSound:"wmcPlayNavSound"}),iconCheckbox(){return{"--icon-checkbox":this.checked_?`url(${this.iconCheckboxChecked})`:`url(${this.iconCheckboxUnchecked})`}},isMuted(){return this.muted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},getRandomAnim(){return Math.floor(3*Math.random()+1)}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()}}},Re=De,Ne=(i("fe7a"),Object(y["a"])(Re,$e,Ee,!1,null,"9d40fe68",null)),Be=Ne.exports,Fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.$store.state.wmcUseAnims},attrs:{id:"wmc-lib-title"}},[e._v(e._s(e.title))])},je=[],Ue={props:{title:String}},ze=Ue,He=(i("65cf"),Object(y["a"])(ze,Fe,je,!1,null,"ef9594d0",null)),Ve=He.exports,We=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{key:e.rating,staticClass:"wmc-rating-info"},e._l(5,(function(t){return i("img",{key:t,attrs:{src:e.getStarIcon(t)}})})),0)},Ge=[],Xe={props:{rating:Number},data(){const{wmcassets:e}=this.$store.state.assets;return{iconStar:Object(r["a"])(e,"common-star"),iconStarEmpty:Object(r["a"])(e,"common-starempty")}},methods:{getStarIcon(e){if(this.rating){const t=5*this.rating;return Math.round(t)>=e?this.iconStar:this.iconStarEmpty}return this.iconStarEmpty}}},qe=Xe,Ye=(i("c25d"),Object(y["a"])(qe,We,Ge,!1,null,"cbdb9eac",null)),Ke=Ye.exports,Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("audio",{ref:"selectSound",attrs:{src:e.pageTransSound}})},Qe=[],Je={data(){return{pageTransSound:F["b"].select}},mounted(){this.playSelectSound()},computed:{isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound}},methods:{async playSelectSound(){const e=this.$refs.selectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},et=Je,tt=Object(y["a"])(et,Ze,Qe,!1,null,null,null),it=tt.exports,st={components:{Item:te,Item4x3:pe,Item4x3Checkbox:we,ItemList:Le,ItemListCheckbox:Be,LibraryTitle:Ve,RatingInfo:Ke,TransSound:it,ItemFolder:Pe},props:{tabList:Array,libraryTitle:String,isCtxMenuOpen:Boolean,isFocused:{type:Boolean,default:!0},emptyLibMsg:String,isLoading:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{currTab:0,currItem:0,currItemURI:"",currGroup:0,itemDetailsMaintext:"",itemDetailsSubtext1:"",itemDetailsSubtext2:"",tabOffset:0,showRating:!1,keyLibTitle:0,leftArrow:Object(r["a"])(e,"detail-chevron-left-normal"),rightArrow:Object(r["a"])(e,"detail-chevron-right-normal"),bgTop:Object(r["a"])(e,"browse-listviewstrip-top"),bgBottom:Object(r["a"])(e,"browse-listviewstrip-bottom"),soundFocus:F["b"].focus}},watch:{libraryTitle(){this.keyLibTitle++}},computed:{...Object(Y["c"])(["isRtl"]),...Object(Y["d"])({useAnim:"wmcUseAnims",ratings:"wmcRatings",shouldPlayNavSound:"wmcPlayNavSound"}),isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},isTabEmpty(){var e,t;const i=this.tabList[this.currTab],s=(null===(e=i.itemList)||void 0===e?void 0:e.length)||0,a=(null===(t=i.folderList)||void 0===t?void 0:t.length)||0;return!s&&!a},isListView(){const e=this.tabList[this.currTab];return["text","groupedtext","textcheckbox"].includes(e.galleryType)},itemRating(){var e;return(null===(e=this.ratings[this.currItemURI])||void 0===e?void 0:e.rating)||0},currItemIndex(){return this.itemTotal?this.currItem+1:0},itemTotal(){var e,t;const i=this.tabList[this.currTab];var s,a;if("grouped1x1"===i.galleryType||"groupedtext"===i.galleryType)return(null===(s=i.itemList[this.currGroup])||void 0===s||null===(a=s.itemList)||void 0===a?void 0:a.length)||0;const n=(null===(e=i.folderList)||void 0===e?void 0:e.length)||0,r=(null===(t=i.itemList)||void 0===t?void 0:t.length)||0;return n+r}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},isGroupEmpty(e){return 0===e.itemList.length},jumpToTab(e){if(e===this.currTab)return;if(e<0||e>this.tabList.length-1)return;let t=0;for(let i=0;i<e;i++)t+=this.$refs.detailOption[i].offsetWidth;this.tabOffset=this.isRtl?t:-t,this.currTab=e,this.playFocusSound()},handleTabsScroll(e){e.deltaY>0||e.deltaX>0?this.jumpToTab(this.currTab+1):(e.deltaY<0||e.deltaX<0)&&this.jumpToTab(this.currTab-1)},handleMouseWheel(e){e.deltaY>0||e.deltaX>0?this.$refs.itemList[0].scrollLeft+=200:(e.deltaY<0||e.deltaX<0)&&(this.$refs.itemList[0].scrollLeft-=200)},handleItemHovered(e,t){this.currItem=e||0,this.currItemURI=t.uri||"",this.itemDetailsMaintext=t.details[0]||"",this.itemDetailsSubtext1=t.details[1]||"",this.itemDetailsSubtext2=t.details[2]||"",this.showRating="song"===t.type||"picture"===t.type}}},at=st,nt=(i("c317"),Object(y["a"])(at,X,q,!1,null,"0e70ca24",null)),rt=nt.exports,ot=i("e5dd"),ct=i("0003"),lt=i("f708"),ut=i("a6ed"),dt={components:{BrowseGallery:rt},data(){return{onlineGames:[],gameListByName:[],gameListOffline:[],gameListOnline:[]}},mounted(){this.$root.$on("wmcBack",this.back),Object(ct["a"])("games.json").then(e=>{this.onlineGames=e;for(const t of e){const e={name:t.name,id:t.id,img:this.themeData.icon[t.id]||t.icon,type:"game",details:[t.name,this.$t("play-a-game-of",{game:t.name})],click:()=>this.open(t.id),contextmenu:()=>{}};this.gameListOnline.push(e),this.gameListByName.push(e)}this.gameListOnline.sort((e,t)=>e.name.localeCompare(t.name)),this.gameListByName.sort((e,t)=>e.name.localeCompare(t.name))});for(const e of ut["a"]){const t={name:e.name,id:e.id,img:this.themeData.icon[e.id]||e.icon,type:"game",details:[e.name,this.$t("play-a-game-of",{game:e.name})],click:()=>this.open(e.id),contextmenu:()=>{}};this.gameListByName.push(t),this.gameListOffline.push(t)}this.gameListByName.sort((e,t)=>e.name.localeCompare(t.name)),this.gameListOffline.sort((e,t)=>e.name.localeCompare(t.name))},beforeDestroy(){this.$root.$off("wmcBack",this.back)},computed:{...Object(Y["c"])(["themeData"]),tabList(){return[{label:this.$t("name"),galleryType:"1x1",itemList:this.gameListByName},{label:this.$t("offline"),galleryType:"1x1",itemList:this.gameListOffline},{label:this.$t("online"),galleryType:"1x1",itemList:this.gameListOnline}]}},methods:{icon(e){return this.themeData.icon[e]},open(e){const t=this.onlineGames.find(t=>t.id===e);t&&this.$store.commit(c["a"].GameOpen,t),t&&t.openInTab?ot["a"].open({url:Object(lt["a"])()&&t.mUrl?t.mUrl:t.url}):this.$root.$emit(V["c"].OpenWindow,e),this.$emit("onGameOpened",e)},back(){this.$emit(V["c"].ChangePage,0)}}},ht=dt,mt=Object(y["a"])(ht,W,G,!1,null,null,null),pt=mt.exports,ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-firstrun"}},[i("div",{style:{backgroundImage:"url("+e.bg+")"},attrs:{id:"wmc-firstrun-bg"}}),i("div",{class:{active:!e.isContinueFocused},attrs:{id:"wmc-carousel-wrapper"},on:{wheel:e.handleTabsScroll}},[i("div",{style:{transform:"translateX("+e.translateX+"px)",transition:e.isTransitionEnabled?"transform .3s":"none"},attrs:{id:"wmc-carousel"}},e._l(e.carouselItems,(function(t,s){return i("div",{key:s,ref:"carouselItem",refInFor:!0,staticClass:"wmc-carousel-item",class:{active:(e.activeItem===s||e.activeCarouselId===t.carouselId)&&!e.isContinueFocused},on:{click:function(t){return e.handleCarouselItemClicked(s)},mouseover:function(t){return e.handleCarouselItemHovered(s)}}},[i("div",{staticClass:"wmc-carousel-img",style:{backgroundImage:"url("+t.img+")"}}),i("div",{staticClass:"maintext"},[e._v(e._s(t.maintext))]),i("div",{staticClass:"subtext"},[e._v(e._s(t.subtext))])])})),0),i("div",{attrs:{id:"wmc-chevrons"}},[i("img",{staticClass:"chevron left",attrs:{src:e.chevronLeftNormal}}),i("img",{staticClass:"chevron right",attrs:{src:e.chevronRightNormal}})])]),i("div",{attrs:{id:"wmc-continue"}},[i("div",{staticClass:"subtext continue-subtext",class:{active:e.isContinueFocused}},[e._v(" "+e._s("Want TV on your PC?")+" ")]),i("div",{staticClass:"subtext continue-subtext",class:{active:e.isContinueFocused}},[e._v(" "+e._s("Select Continue to get started!")+" ")]),i("wmc-button",{class:{selected:e.isContinueFocused},attrs:{btnType:"small"},on:{mouseover:e.handleContinueHovered,click:function(t){return e.$emit("continue")}}},[e._v(" "+e._s("Continue")+" ")])],1),e.showFirstRunAnim?i("first-run-anim"):e._e(),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}})],1)},gt=[],bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-firstrun-anim"}},[i("div",{staticClass:"background",style:{backgroundImage:"url("+e.bg+")"}}),i("div",{staticClass:"foreground"},[i("img",{staticClass:"tile",attrs:{id:"tile3",src:e.image6}}),i("img",{staticClass:"tile",attrs:{id:"tile4",src:e.image2}}),i("img",{staticClass:"tile",attrs:{id:"tile0",src:e.image2}}),i("img",{staticClass:"tile",attrs:{id:"tile1",src:e.image5}}),i("img",{staticClass:"tile",attrs:{id:"tile2",src:e.image6}}),i("img",{staticClass:"tile",attrs:{id:"logo",src:e.logo}})])])},vt=[],yt={data(){const{wmcassets:e}=this.$store.state.assets;return{bg:Object(r["a"])(e,"firstrun-welcomecarousel-background"),logo:Object(r["a"])(e,"firstrun-welcomecarousel-logo"),image2:Object(r["a"])(e,"firstrun-welcomecarousel-image2"),image5:Object(r["a"])(e,"firstrun-welcomecarousel-image5"),image6:Object(r["a"])(e,"firstrun-welcomecarousel-image6")}}},wt=yt,St=(i("d0dc"),Object(y["a"])(wt,bt,vt,!1,null,"109d611a",null)),kt=St.exports,Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"wmc-button-short",class:{animated:e.useAnim,"wmc-button-small":"small"===e.btnType,"wmc-button-dialog":"dialog"===e.btnType,"wmc-button-long":"long"===e.btnType},style:e.buttonIcons,attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("click",t)},mouseover:function(t){return e.$emit("mouseover")}}},[e._t("default"),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}})],2)},_t=[],Ct={props:{isFocused:Boolean,disabled:Boolean,btnType:{type:String,default:"normal",validator:e=>["normal","short","long","small","dialog"].includes(e)}},watch:{isFocused(e){e&&this.playFocusSound()}},data(){const{wmcassets:e}=this.$store.state.assets;return{btnHovered:Object(r["a"])(e,"button-left-hovered"),btnHighlight:Object(r["a"])(e,"button-left-hovered-overlay"),btnLongHovered:Object(r["a"])(e,"button-right-hovered"),btnLongHighlight:Object(r["a"])(e,"button-right-hovered-overlay"),btnActiveHighlight:Object(r["a"])(e,"button-pressedhighlight"),btnActiveLoop:Object(r["a"])(e,"button-pressedafterglow"),btnFrame:Object(r["a"])(e,"button-frame-normal"),soundFocus:F["b"].focus}},computed:{buttonIcons(){return{"--btn-hovered":`url(${this.btnHovered})`,"--hovered-highlight":`url(${this.btnHighlight})`,"--btn-long-hovered":`url(${this.btnLongHovered})`,"--btn-long-highlight":`url(${this.btnLongHighlight})`,"--active-highlight":`url(${this.btnActiveHighlight})`,"--active-loop":`url(${this.btnActiveLoop})`,"--btn-frame":`url(${this.btnFrame})`}},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{playFocusSound(){if(!this.disabled){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()}}}},Pt=Ct,xt=(i("07f7"),Object(y["a"])(Pt,Tt,_t,!1,null,"36aaddef",null)),At=xt.exports,It={components:{FirstRunAnim:kt,WmcButton:At},data(){const{wmcassets:e}=this.$store.state.assets;return{carouselItems:[],activeItem:4,activeCarouselId:0,isTransitionEnabled:!0,isContinueFocused:!1,translateX:0,showFirstRunAnim:!0,bg:Object(r["a"])(e,"firstrun-welcomecarousel-background"),logo:Object(r["a"])(e,"firstrun-welcomecarousel-logo"),image2:Object(r["a"])(e,"firstrun-welcomecarousel-image2"),image5:Object(r["a"])(e,"firstrun-welcomecarousel-image5"),image6:Object(r["a"])(e,"firstrun-welcomecarousel-image6"),chevronLeftNormal:Object(r["a"])(e,"chevron-left-normal"),chevronRightNormal:Object(r["a"])(e,"chevron-right-normal"),soundFocus:F["b"].focus}},async mounted(){this.carouselItems=[{img:this.logo,carouselId:0,maintext:"Welcome to Windows Media Center",subtext:"The best way to experience TV on your PC."},{img:this.image2,carouselId:1,maintext:"Enjoy Your Favorite Photos",subtext:"Watch slide shows of your photos full screen and add music for a richer experience."},{img:this.image5,carouselId:2,maintext:"On Your TV",subtext:"View Windows Media Center on your TV."},{img:this.image6,carouselId:3,maintext:"Everything in One Place",subtext:"Let Windows Media Center organize your vacation photos, music, and slide shows."},{img:this.logo,carouselId:0,maintext:"Welcome to Windows Media Center",subtext:"The best way to experience TV on your PC."},{img:this.image2,carouselId:1,maintext:"Enjoy Your Favorite Photos",subtext:"Watch slide shows of your photos full screen and add music for a richer experience."},{img:this.image5,carouselId:2,maintext:"On Your TV",subtext:"View Windows Media Center on your TV."},{img:this.image6,carouselId:3,maintext:"Everything in One Place",subtext:"Let Windows Media Center organize your vacation photos, music, and slide shows."},{img:this.logo,carouselId:0,maintext:"Welcome to Windows Media Center",subtext:"The best way to experience TV on your PC."}],await this.$nextTick(),this.$root.$on("wmcWindowResize",this.handleWindowResize),this.jumpToItem(this.activeItem),setTimeout(()=>this.showFirstRunAnim=!1,3e3)},beforeDestroy(){this.$root.$off("wmcWindowResize",this.handleWindowResize)},computed:{isMuted(){return this.$store.state.wmcIsMuted||!this.$store.state.wmcPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{async jumpToItem(e){var t;if(e<0||e>this.carouselItems.length-1)return;e>6&&6===this.activeItem&&(this.isTransitionEnabled=!1,await this.$nextTick(),this.jumpToItem(2),e=3,await this.$nextTick(),this.isTransitionEnabled=!0),e<2&&2===this.activeItem&&(this.isTransitionEnabled=!1,await this.$nextTick(),this.jumpToItem(6),e=5,await this.$nextTick(),this.isTransitionEnabled=!0);let i=0;for(let s=0;s<e;s++)i+=this.$refs.carouselItem[s].offsetWidth;this.translateX=-i+this.$refs.carouselItem[e].offsetWidth,this.activeItem=e,this.activeCarouselId=(null===(t=this.carouselItems[e])||void 0===t?void 0:t.carouselId)||0,this.isContinueFocused=!1},handleTabsScroll(e){this.isContinueFocused||(e.deltaY>0||e.deltaX>0?(this.jumpToItem(this.activeItem+1),this.playFocusSound()):(e.deltaY<0||e.deltaX<0)&&(this.jumpToItem(this.activeItem-1),this.playFocusSound()))},handleCarouselItemHovered(e){this.activeItem===e&&this.isContinueFocused&&(this.isContinueFocused=!1,this.playFocusSound())},handleCarouselItemClicked(e){this.activeItem!==e&&(this.jumpToItem(e),this.playFocusSound())},async handleWindowResize(){await this.$nextTick(),this.jumpToItem(this.activeItem)},handleContinueHovered(){this.isContinueFocused||(this.isContinueFocused=!0,this.playFocusSound())},playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()}}},Ot=It,Mt=(i("6033"),Object(y["a"])(Ot,ft,gt,!1,null,"dddb9b92",null)),Lt=Mt.exports,$t=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.handleTouchSwipe,expression:"handleTouchSwipe",arg:"swipe"}],ref:"homeScreen",attrs:{id:"wmc-home-wrapper",tabindex:"0"},on:{wheel:e.handleMouseWheel,keydown:e.handleKeyDown,keyup:e.handleKeyUp}},[i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-home"}},[i("div",{class:{active:e.isCategoryOptionActive},style:{backgroundImage:"url("+e.quicklinkBg+")"},attrs:{id:"quicklink-bg",tabindex:"0"}},[i("img",{staticClass:"focus-fx",attrs:{id:"gleam-left",src:e.focusFxVertical}}),i("img",{staticClass:"focus-fx",attrs:{id:"gleam-right",src:e.focusFxVertical}}),i("img",{staticClass:"focus-fx",attrs:{id:"gleam-top",src:e.focusFxHorizontal}}),i("img",{staticClass:"focus-fx",attrs:{id:"gleam-bottom",src:e.focusFxHorizontal}})]),i("div",{style:{top:e.top+"%"},attrs:{id:"menu-options"}},[i("div",{staticClass:"category",class:{selected:e.currCategory===e.Category.Extras}},[i("div",{staticClass:"category-title",on:{click:function(t){return t.stopPropagation(),e.jumpToCategory(e.Category.Extras)}}},[e._v(e._s(e.$t("extras")))]),i("div",{staticClass:"options extras-lib"},[i("div",{staticClass:"option selected",on:{click:function(t){return e.$emit("itemClicked","showExtrasLib")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconExtrasHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("extras-lib")))])])])]),i("div",{staticClass:"category",class:{selected:e.currCategory===e.Category.PictVid}},[i("div",{staticClass:"category-title",on:{click:function(t){return t.stopPropagation(),e.jumpToCategory(e.Category.PictVid)}}},[e._v(e._s(e.$t("pict-vid")))]),i("div",{staticClass:"options-normal",style:{transform:"translate("+e.picLeftOffset+"%, 0)",maskPosition:e.picMaskOffset+"% center, center"}},[i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showPictLib")}}},[i("img",{attrs:{src:e.iconPicLibNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.$t("pict-lib")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","playFavPicts")}}},[i("img",{attrs:{src:e.iconPicLibPlayFavNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.$t("play-fav")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showVidLib")}}},[i("img",{attrs:{src:e.iconVidLibNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.$t("vid-lib")))])])]),i("div",{staticClass:"options",style:{transform:"translate("+e.picLeftOffset+"%, 0)",clipPath:"rect(0 "+e.picClipLeftOffset+"% 100% "+e.picClipRightOffset+"%)"}},[i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showPictLib")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconPicLibHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("pict-lib")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","playFavPicts")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconPicLibPlayFavHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("play-fav")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showVidLib")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconVidLibHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("vid-lib")))])])])]),i("div",{staticClass:"category",class:{selected:e.currCategory===e.Category.Music}},[i("div",{staticClass:"category-title",on:{click:function(t){return t.stopPropagation(),e.jumpToCategory(e.Category.Music)}}},[e._v(e._s(e.$t("music")))]),i("div",{staticClass:"options-normal",style:{transform:"translate("+e.musicLeftOffset+"%, 0)",maskPosition:e.musicMaskOffset+"% center, center"}},[i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showMusicLib")}}},[i("img",{attrs:{src:e.iconMusicLibNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.$t("music-lib")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","playFavMusic")}}},[i("img",{attrs:{src:e.iconMusicLibPlayFavNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.$t("play-fav")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showSearch")}}},[i("img",{attrs:{src:e.iconMusicLibSearchNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.$t("search")))])])]),i("div",{staticClass:"options",style:{transform:"translate("+e.musicLeftOffset+"%, 0)",clipPath:"rect(0 "+e.musicClipLeftOffset+"% 100% "+e.musicClipRightOffset+"%)"}},[i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showMusicLib")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconMusicLibHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("music-lib")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","playFavMusic")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconMusicLibPlayFavHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("play-fav")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showSearch")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconMusicLibSearchHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("search")))])])])]),e.isPlaying?i("div",{staticClass:"category",class:{selected:e.currCategory===e.Category.NowPlaying}},[i("div",{staticClass:"category-title",on:{click:function(t){return t.stopPropagation(),e.jumpToCategory(e.Category.NowPlaying)}}},[e._v(e._s(e.$t("now-playing")))]),i("div",{staticClass:"options"},[i("div",{staticClass:"option selected",on:{click:function(t){return e.$emit("itemClicked","showNowPlaying")}}},[[e.musicState!==e.MediaState.Stop?i("img",{staticClass:"np-album-art",attrs:{src:e.npAlbumArt||e.getUnknownAlbumArt(e.npAlbumName)}}):e._e(),e.npAlbumArt||e.videoState!==e.MediaState.Stop?e._e():i("img",{staticClass:"np-album-art",attrs:{src:e.unknownAlbumArtIcon}}),e.videoState!==e.MediaState.Stop?i("video",{ref:"miniVideoPlayer",attrs:{id:"np-video",src:e.npVideoURL,autoplay:"",loop:"",muted:"",height:"100%",currentTime:e.npVideoTime},domProps:{muted:!0}}):e._e()],[e.musicState!==e.MediaState.Stop?i("div",{staticClass:"option-text",attrs:{id:"np-title"}},[e._v(" "+e._s(e.npSongName)+" ")]):e.videoState!==e.MediaState.Stop?i("div",{staticClass:"option-text",attrs:{id:"np-title"}},[e._v(" "+e._s(e.npVideoName)+" ")]):e._e()]],2)])]):e._e(),i("div",{staticClass:"category",class:{selected:e.currCategory===e.Category.Tasks}},[i("div",{staticClass:"category-title",on:{click:function(t){return t.stopPropagation(),e.jumpToCategory(e.Category.Tasks)}}},[e._v(e._s(e.$t("tasks")))]),i("div",{staticClass:"options-normal",style:{transform:"translate("+e.taskLeftOffset+"%, 0)",maskPosition:e.taskMaskOffset+"% center, center"}},[i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showShutdown")}}},[i("img",{attrs:{src:e.iconShutdownNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.$t("shutdown")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showSettings")}}},[i("img",{attrs:{src:e.iconSettingsNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.$t("settings")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","mediaOnly")}}},[i("img",{attrs:{src:e.iconMediaOnlyNormal}}),i("div",{staticClass:"option-text-normal"},[e._v(e._s(e.getMediaOnlyText))])])]),i("div",{staticClass:"options",style:{transform:"translate("+e.taskLeftOffset+"%, 0)",clipPath:"rect(0 "+e.taskClipLeftOffset+"% 100% "+e.taskClipRightOffset+"%)"}},[i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showShutdown")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconShutdownHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("shutdown")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","showSettings")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconSettingsHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.$t("settings")))])]),i("div",{staticClass:"option",on:{click:function(t){return e.$emit("itemClicked","mediaOnly")},mouseleave:function(t){e.isCategoryOptionActive=!1},mousedown:function(t){e.isCategoryOptionActive=!0},mouseup:function(t){e.isCategoryOptionActive=!1},touchstart:function(t){e.isCategoryOptionActive=!0},touchend:function(t){e.isCategoryOptionActive=!1}}},[i("img",{class:{active:e.isCategoryOptionActive},attrs:{src:e.iconMediaOnlyHovered}}),i("div",{staticClass:"option-text"},[e._v(e._s(e.getMediaOnlyText))])])])])]),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}}),i("audio",{ref:"miniSelectSound",attrs:{src:e.soundMiniSelect}})])])},Et=[],Dt={props:{musicState:Number,isSlideShowPlaying:Boolean,videoState:Number,npAlbumArt:String,npSongName:String,npSongArtist:String,npAlbumName:String,npAlbumArtist:String,npVideoURL:String,npVideoName:String,npVideoTime:Number},mixins:[u,p],data(){const{wmcassets:e}=this.$store.state.assets,t={Extras:0,PictVid:1,Music:2,NowPlaying:3,Tasks:4};return{Category:t,quicklinkBg:Object(r["a"])(e,"quicklink-bg"),focusFxHorizontal:Object(r["a"])(e,"selector-focusfx-horizontal"),focusFxVertical:Object(r["a"])(e,"selector-focusfx-vertical"),iconExtrasHovered:Object(r["a"])(e,"quicklink-extras-hovered"),iconPicLibHovered:Object(r["a"])(e,"quicklink-pictures-hovered"),iconPicLibNormal:Object(r["a"])(e,"quicklink-pictures-normal"),iconPicLibPlayFavHovered:Object(r["a"])(e,"quicklink-pictures-playfavs-hovered"),iconPicLibPlayFavNormal:Object(r["a"])(e,"quicklink-pictures-playfavs-normal"),iconVidLibHovered:Object(r["a"])(e,"quicklink-video-hovered"),iconVidLibNormal:Object(r["a"])(e,"quicklink-video-normal"),iconMusicLibHovered:Object(r["a"])(e,"quicklink-music-hovered"),iconMusicLibNormal:Object(r["a"])(e,"quicklink-music-normal"),iconMusicLibPlayFavHovered:Object(r["a"])(e,"quicklink-music-playfavs-hovered"),iconMusicLibPlayFavNormal:Object(r["a"])(e,"quicklink-music-playfavs-normal"),iconMusicLibSearchHovered:Object(r["a"])(e,"quicklink-music-search-hovered"),iconMusicLibSearchNormal:Object(r["a"])(e,"quicklink-music-search-normal"),iconShutdownHovered:Object(r["a"])(e,"quicklink-shutdown-hovered"),iconShutdownNormal:Object(r["a"])(e,"quicklink-shutdown-normal"),iconSettingsHovered:Object(r["a"])(e,"quicklink-settings-hovered"),iconSettingsNormal:Object(r["a"])(e,"quicklink-settings-normal"),iconMediaOnlyNormal:Object(r["a"])(e,"quicklink-mediaonly-normal"),iconMediaOnlyHovered:Object(r["a"])(e,"quicklink-mediaonly-hovered"),soundFocus:F["b"].focus,soundMiniSelect:F["b"].miniSelect,top:50.5,categoryOffset:8.89,optionOffset:17.6,optionClipOffset:18,optionMaskOffset:22,syncVideoTimer:null,currCategory:t.Extras,isMediaOnlyActive:!1,isCategoryOptionActive:!1,picCurrIndex:0,picLeftOffset:0,picClipLeftOffset:18,picClipRightOffset:0,picMaskOffset:0,musicCurrIndex:0,musicLeftOffset:0,musicClipLeftOffset:18,musicClipRightOffset:0,musicMaskOffset:0,taskCurrIndex:0,taskLeftOffset:0,taskClipLeftOffset:18,taskClipRightOffset:0,taskMaskOffset:0}},mounted(){this.initMaskOffsets(),this.syncVideoTimer=setInterval(this.syncVideos,5e3),this.$refs.homeScreen.focus(),M.a.on("change",()=>{this.isMediaOnlyActive=M.a.active})},beforeDestroy(){this.syncVideoTimer&&clearInterval(this.syncVideoTimer),M.a.off("change")},watch:{musicState(e){e===this.MediaState.Stop&&this.currCategory===this.Category.NowPlaying&&this.navPrevCategory(),e===this.MediaState.Stop&&this.currCategory===this.Category.Tasks&&(this.top+=this.categoryOffset)},videoState(e){e===this.MediaState.Stop&&this.currCategory===this.Category.NowPlaying&&this.navPrevCategory(),e===this.MediaState.Stop&&this.currCategory===this.Category.Tasks&&(this.top+=this.categoryOffset);const t=this.$refs.miniVideoPlayer;e===this.MediaState.Pause&&t&&t.pause(),e===this.MediaState.Play&&t&&t.play()}},computed:{...Object(Y["c"])(["isRtl"]),isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},isPlaying(){return this.musicState!==this.MediaState.Stop||this.isSlideShowPlaying||this.videoState!==this.MediaState.Stop},getMediaOnlyText(){return this.isMediaOnlyActive?this.$t("exit-media-only"):this.$t("media-only")}},methods:{initMaskOffsets(){this.top=52,this.picClipLeftOffset=this.isRtl?100:18,this.picClipRightOffset=this.isRtl?82:0,this.picMaskOffset=this.isRtl?100:0,this.musicClipLeftOffset=this.isRtl?100:18,this.musicClipRightOffset=this.isRtl?82:0,this.musicMaskOffset=this.isRtl?100:0,this.taskClipLeftOffset=this.isRtl?100:18,this.taskClipRightOffset=this.isRtl?82:0,this.taskMaskOffset=this.isRtl?100:0},handleKeyDown(e){switch(e.key){case"ArrowUp":this.navPrevCategory();break;case"ArrowDown":this.navNextCategory();break;case"ArrowLeft":this.isRtl?this.navNextCategoryOption():this.navPrevCategoryOption();break;case"ArrowRight":this.isRtl?this.navPrevCategoryOption():this.navNextCategoryOption();break;case"Enter":this.isCategoryOptionActive=!0;break}},handleKeyUp(e){switch(e.key){case"Enter":this.handleKeyEnter();break}},handleKeyEnter(){switch(this.isCategoryOptionActive=!1,this.currCategory){case this.Category.Extras:this.$emit("itemClicked","showExtrasLib");break;case this.Category.PictVid:0===this.picCurrIndex?this.$emit("itemClicked","showPictLib"):1===this.picCurrIndex?this.$emit("itemClicked","playFavPicts"):2===this.picCurrIndex&&this.$emit("itemClicked","showVidLib");break;case this.Category.Music:0===this.musicCurrIndex?this.$emit("itemClicked","showMusicLib"):1===this.musicCurrIndex?this.$emit("itemClicked","playFavMusic"):2===this.musicCurrIndex&&this.$emit("itemClicked","showSearch");break;case this.Category.NowPlaying:this.$emit("itemClicked","showNowPlaying");break;case this.Category.Tasks:0===this.taskCurrIndex?this.$emit("itemClicked","showShutdown"):1===this.taskCurrIndex?this.$emit("itemClicked","showSettings"):2===this.taskCurrIndex&&this.$emit("itemClicked","mediaOnly");break}},handleMouseWheel(e){e.deltaY>0?this.navNextCategory():e.deltaY<0&&this.navPrevCategory()},handleTouchSwipe(e){switch(e){case"right":this.isRtl?this.navNextCategoryOption():this.navPrevCategoryOption();break;case"left":this.isRtl?this.navPrevCategoryOption():this.navNextCategoryOption();break;case"top":this.currCategory!==this.Category.Tasks&&this.navNextCategory();break;case"bottom":this.currCategory!==this.Category.Extras&&this.navPrevCategory()}},jumpToCategory(e){let t=Math.abs(this.currCategory-e);this.currCategory!==this.Category.Tasks||this.isPlaying||t--,4!==e||this.isPlaying||t--,this.currCategory>e?(this.top+=this.categoryOffset*t,this.playFocusSound()):this.currCategory<e&&(this.top-=this.categoryOffset*t,this.playFocusSound()),this.currCategory=e,this.playMiniSelectSound()},navNextCategory(){return this.currCategory===this.Category.Tasks?(this.currCategory=this.Category.Extras,this.top+=this.categoryOffset*(this.isPlaying?4:3),void this.playFocusSound()):this.isPlaying?(this.top-=this.categoryOffset,this.currCategory+=1,void this.playFocusSound()):this.currCategory===this.Category.Music?(this.top-=this.categoryOffset,this.currCategory+=2,void this.playFocusSound()):(this.top-=this.categoryOffset,this.currCategory+=1,void this.playFocusSound())},navPrevCategory(){return this.currCategory===this.Category.Extras?(this.currCategory=this.Category.Tasks,this.top-=this.categoryOffset*(this.isPlaying?4:3),void this.playFocusSound()):this.isPlaying?(this.top+=this.categoryOffset,this.currCategory-=1,void this.playFocusSound()):this.currCategory===this.Category.Tasks?(this.top+=this.categoryOffset,this.currCategory-=2,void this.playFocusSound()):(this.top+=this.categoryOffset,this.currCategory-=1,void this.playFocusSound())},navNextCategoryOption(){this.currCategory===this.Category.PictVid&&this.picCurrIndex<2?(this.picLeftOffset-=this.isRtl?-this.optionOffset:this.optionOffset,this.picClipLeftOffset+=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.picClipRightOffset+=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.picMaskOffset+=this.isRtl?-this.optionMaskOffset:this.optionMaskOffset,this.picCurrIndex++,this.playFocusSound()):this.currCategory===this.Category.Music&&this.musicCurrIndex<2?(this.musicLeftOffset-=this.isRtl?-this.optionOffset:this.optionOffset,this.musicClipLeftOffset+=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.musicClipRightOffset+=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.musicMaskOffset+=this.isRtl?-this.optionMaskOffset:this.optionMaskOffset,this.musicCurrIndex++,this.playFocusSound()):this.currCategory===this.Category.Tasks&&this.taskCurrIndex<2&&(this.taskLeftOffset-=this.isRtl?-this.optionOffset:this.optionOffset,this.taskClipLeftOffset+=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.taskClipRightOffset+=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.taskMaskOffset+=this.isRtl?-this.optionMaskOffset:this.optionMaskOffset,this.taskCurrIndex++,this.playFocusSound())},navPrevCategoryOption(){this.currCategory===this.Category.PictVid&&this.picCurrIndex>0?(this.picLeftOffset+=this.isRtl?-this.optionOffset:this.optionOffset,this.picClipLeftOffset-=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.picClipRightOffset-=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.picMaskOffset-=this.isRtl?-this.optionMaskOffset:this.optionMaskOffset,this.picCurrIndex--,this.playFocusSound()):this.currCategory===this.Category.Music&&this.musicCurrIndex>0?(this.musicLeftOffset+=this.isRtl?-this.optionOffset:this.optionOffset,this.musicClipLeftOffset-=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.musicClipRightOffset-=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.musicMaskOffset-=this.isRtl?-this.optionMaskOffset:this.optionMaskOffset,this.musicCurrIndex--,this.playFocusSound()):this.currCategory===this.Category.Tasks&&this.taskCurrIndex>0&&(this.taskLeftOffset+=this.isRtl?-this.optionOffset:this.optionOffset,this.taskClipLeftOffset-=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.taskClipRightOffset-=this.isRtl?-this.optionClipOffset:this.optionClipOffset,this.taskMaskOffset-=this.isRtl?-this.optionMaskOffset:this.optionMaskOffset,this.taskCurrIndex--,this.playFocusSound())},changeScreen(e){this.$emit(V["c"].ChangePage,e)},syncVideos(){const e=this.$refs.miniVideoPlayer;e&&(e.currentTime=this.npVideoTime)},playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},playMiniSelectSound(){const e=this.$refs.miniSelectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},Rt=Dt,Nt=(i("a813"),Object(y["a"])(Rt,$t,Et,!1,null,"37ccaa88",null)),Bt=Nt.exports,Ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-list-maker-wrapper"}},[i("div",{style:{backgroundImage:"url("+e.bgTop+"), url("+e.bgBottom+")"},attrs:{id:"bg"}}),i("div",{attrs:{id:"wmc-list-maker"}},[i("div",{staticClass:"wmc-header"},[i("div",{staticClass:"header-title"},[e._v(e._s(e.getHeaderTitle))])]),i("div",{staticClass:"wmc-body-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.PlaylistName,expression:"currScreen === Screen.PlaylistName"}],staticClass:"wmc-body"},[i("div",{staticClass:"page-title"},[e._v(" "+e._s(e.$t("listmaker-enter-name",{listType:e.listType}))+" ")]),i("textbox",{attrs:{value:e.playlistName},on:{change:e.handlePlaylistNameChanged}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.SelectMedia,expression:"currScreen === Screen.SelectMedia"}],staticClass:"wmc-body"},[i("div",{staticClass:"page-text"},[e._v(e._s(e.$t("listmaker-choose-media")))]),i("radio-button",{staticStyle:{"text-transform":"capitalize"},attrs:{checked:"music"===e.selectMediaLocation,id:"music",name:"media-location",value:"music"},on:{change:e.handleRadioButtonsChanged}},[e._v(" "+e._s(e.$t("music-lib"))+" ")]),i("radio-button",{staticStyle:{"text-transform":"capitalize"},attrs:{checked:"picture"===e.selectMediaLocation,id:"picture",name:"media-location",value:"picture"},on:{change:e.handleRadioButtonsChanged}},[e._v(" "+e._s(e.$t("pict-lib"))+" ")]),i("radio-button",{staticClass:"finished",attrs:{checked:"finished"===e.selectMediaLocation,id:"finished",name:"media-location",value:"finished"},on:{change:e.handleRadioButtonsChanged}},[e._v(" "+e._s(e.$t("listmaker-finish"))+" ")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.ChooseMusic,expression:"currScreen === Screen.ChooseMusic"}],staticClass:"browse-gallery-wrapper"},[i("browse-gallery",{directives:[{name:"show",rawName:"v-show",value:!e.showAlbumDetailSongs&&!e.showCategoryView,expression:"!showAlbumDetailSongs && !showCategoryView"}],attrs:{tabList:e.chooseMusicTabList,libraryTitle:e.$t("music-lib"),emptyLibMsg:e.$t("wmc-empty-lib",{path:e.musicLibRootPath})},scopedSlots:e._u([{key:"commands",fn:function(){return[i("browse-cmd",{attrs:{label:e.$t("select-all"),iconType:"add"},on:{click:function(t){return e.handleSelectAll(e.songList)}}}),i("browse-cmd",{attrs:{label:e.$t("clear-all"),iconType:"remove"},on:{click:function(t){return e.handleClearAll(e.songList)}}})]},proxy:!0}])}),i("browse-gallery",{directives:[{name:"show",rawName:"v-show",value:e.showAlbumDetailSongs,expression:"showAlbumDetailSongs"}],attrs:{tabList:e.albumTabList},scopedSlots:e._u([{key:"commands",fn:function(){return[i("browse-cmd",{attrs:{label:e.$t("select-all"),iconType:"add"},on:{click:function(t){return e.handleSelectAll(e.listByTitle)}}}),i("browse-cmd",{attrs:{label:e.$t("clear-all"),iconType:"remove"},on:{click:function(t){return e.handleClearAll(e.listByTitle)}}})]},proxy:!0}])}),i("browse-gallery",{directives:[{name:"show",rawName:"v-show",value:e.showCategoryView&&!e.showAlbumDetailSongs,expression:"showCategoryView && !showAlbumDetailSongs"}],attrs:{tabList:e.catTabList,libraryTitle:e.categoryTitle},scopedSlots:e._u([{key:"commands",fn:function(){return[i("browse-cmd",{attrs:{label:e.$t("select-all"),iconType:"add"},on:{click:function(t){return e.handleSelectAll(e.catSongList)}}}),i("browse-cmd",{attrs:{label:e.$t("clear-all"),iconType:"remove"},on:{click:function(t){return e.handleClearAll(e.catSongList)}}})]},proxy:!0}])})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.ChoosePictures,expression:"currScreen === Screen.ChoosePictures"}],staticClass:"browse-gallery-wrapper"},[i("browse-gallery",{key:e.currPath,attrs:{tabList:e.showFolderView?e.tabListFolderView:e.choosePictsTabList,libraryTitle:e.currPathName,emptyLibMsg:e.$t("wmc-empty-lib",{path:e.pictLibRootPath})},scopedSlots:e._u([{key:"commands",fn:function(){return[i("browse-cmd",{attrs:{label:e.$t("select-all"),iconType:"add"},on:{click:e.handleSelectAllPicts}}),i("browse-cmd",{attrs:{label:e.$t("clear-all"),iconType:"remove"},on:{click:e.handleClearAllPicts}})]},proxy:!0}])})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.Review,expression:"currScreen === Screen.Review"}],staticClass:"wmc-body review-screen"},[i("div",{staticClass:"item-list hidden-scrollbar",style:{backgroundImage:"url("+e.bgScrollbox+")"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedSongs.length,expression:"selectedSongs.length"}],staticClass:"summary-item"},[i("div",{staticClass:"summary-item-labels"},[i("div",[e._v(e._s(e.$t("music")))]),i("div",{staticClass:"summary-item-count"},[e._v(e._s("("+e.$tc("n-item",e.selectedSongs.length)+")"))])]),i("button",{staticClass:"btn-expand",style:e.iconBtnExpand,on:{click:function(t){return e.setScreen(e.Screen.ReviewMusic)}}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedPictures.length,expression:"selectedPictures.length"}],staticClass:"summary-item"},[i("div",{staticClass:"summary-item-labels"},[i("div",[e._v(e._s(e.$t("pictures")))]),i("div",{staticClass:"summary-item-count"},[e._v(e._s("("+e.$tc("n-item",e.selectedPictures.length)+")"))])]),i("button",{staticClass:"btn-expand",style:e.iconBtnExpand,on:{click:function(t){return e.setScreen(e.Screen.ReviewPictures)}}})])]),i("div",[i("wmc-button",{on:{click:e.handleChangeName}},[e._v(e._s(e.$t("listmaker-change-name")))]),i("wmc-button",{directives:[{name:"show",rawName:"v-show",value:e.selectedPictures.length&&e.selectedSongs.length,expression:"selectedPictures.length && selectedSongs.length"}],on:{click:e.handleReviewClearAll}},[e._v(e._s(e.$t("clear-all")))]),i("wmc-button",{on:{click:function(t){return e.setScreen(e.Screen.SelectMedia)}}},[e._v(e._s(e.$t("add-more")))])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.ReviewMusic,expression:"currScreen === Screen.ReviewMusic"}],staticClass:"wmc-body review-screen"},[i("div",{staticClass:"item-list hidden-scrollbar",style:{backgroundImage:"url("+e.bgScrollbox+")"}},[i("transition-group",{attrs:{name:e.useAnim?"item":"",tag:"div"}},e._l(e.selectedSongs,(function(t,s){return i("item-edit",{key:t,attrs:{itemName:e.getSongTitle(t)},on:{moveUp:function(t){return e.swapItems("song",s,s-1)},moveDown:function(t){return e.swapItems("song",s,s+1)},remove:function(t){return e.removeItem("song",s)}}})})),1)],1),i("div",[i("wmc-button",{on:{click:e.handleChangeName}},[e._v(e._s(e.$t("listmaker-change-name")))]),i("wmc-button",{on:{click:function(t){return e.setScreen(e.Screen.SelectMedia)}}},[e._v(e._s(e.$t("add-more")))])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.ReviewPictures,expression:"currScreen === Screen.ReviewPictures"}],staticClass:"wmc-body review-screen"},[i("div",{staticClass:"item-list hidden-scrollbar",style:{backgroundImage:"url("+e.bgScrollbox+")"}},[i("transition-group",{attrs:{name:e.useAnim?"item":"",tag:"div"}},e._l(e.selectedPictures,(function(t,s){return i("item-edit",{key:t,attrs:{itemName:e.getPictureName(t)},on:{moveUp:function(t){return e.swapItems("pict",s,s-1)},moveDown:function(t){return e.swapItems("pict",s,s+1)},remove:function(t){return e.removeItem("pict",s)}}})})),1)],1),i("div",[i("wmc-button",{on:{click:e.handleChangeName}},[e._v(e._s(e.$t("listmaker-change-name")))]),i("wmc-button",{on:{click:function(t){return e.setScreen(e.Screen.SelectMedia)}}},[e._v(e._s(e.$t("add-more")))])],1)])]),i("div",{staticClass:"wmc-footer"},[i("wmc-button",{directives:[{name:"show",rawName:"v-show",value:e.isReviewScreen,expression:"isReviewScreen"}],attrs:{btnType:"small"},on:{click:e.handleCreate}},[e._v(" "+e._s(e.editPlaylistURI?e.$t("save"):e.$t("create"))+" ")]),i("wmc-button",{directives:[{name:"show",rawName:"v-show",value:!e.isReviewScreen,expression:"!isReviewScreen"}],attrs:{disabled:e.currScreen===e.Screen.SelectMedia&&""===e.selectMediaLocation,btnType:"small"},on:{click:e.handleNext}},[e._v(" "+e._s(e.$t("next"))+" ")]),i("wmc-button",{attrs:{btnType:"small"},on:{click:function(t){e.showQuitWarning=!0}}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen!==e.Screen.PlaylistName,expression:"currScreen !== Screen.PlaylistName"}],staticClass:"wmc-playlist-info"},[i("div",{staticClass:"wmc-playlist-name"},[e._v(e._s(e.playlistName))]),i("div",{staticClass:"wmc-playlist-details"},[e._v(e._s(e.listDetails))])])]),e.showPlaylistExistsWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("listmaker-exist-name",{listType:e.listType})))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("listmaker-exist-name-msg",{name:e.playlistNameTemp,listType:e.listType})))]},proxy:!0},{key:"footer",fn:function(){return[i("wmc-button",{staticClass:"selected",attrs:{btnType:"dialog"},on:{click:function(t){e.showPlaylistExistsWarning=!1}}},[e._v(e._s(e.$t("ok")))])]},proxy:!0}],null,!1,240053884)}):e._e(),e.showEmptyNameWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("listmaker-empty-name",{listType:e.listType})))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("listmaker-empty-name-msg",{listType:e.listType})))]},proxy:!0},{key:"footer",fn:function(){return[i("wmc-button",{staticClass:"selected",attrs:{btnType:"dialog"},on:{click:function(t){e.showEmptyNameWarning=!1}}},[e._v(e._s(e.$t("ok")))])]},proxy:!0}],null,!1,1642374004)}):e._e(),e.showInvalidCharsWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("listmaker-invalid-chars")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("listmaker-invalid-chars-msg",{listType:e.listType})))]},proxy:!0},{key:"footer",fn:function(){return[i("wmc-button",{staticClass:"selected",attrs:{btnType:"dialog"},on:{click:function(t){e.showInvalidCharsWarning=!1}}},[e._v(e._s(e.$t("ok")))])]},proxy:!0}],null,!1,378659372)}):e._e(),e.showQuitWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("listmaker-quit",{listType:e.listType})))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("listmaker-quit-msg",{listType:e.listType})))]},proxy:!0},{key:"footer",fn:function(){return[i("wmc-button",{class:{selected:e.isDialogLeftBtnActive},attrs:{isFocused:e.isDialogLeftBtnActive,btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!0},click:function(t){return e.$emit("back")}}},[e._v(e._s(e.$t("do-not-save")))]),i("wmc-button",{class:{selected:!e.isDialogLeftBtnActive},attrs:{isFocused:!e.isDialogLeftBtnActive,btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!1},click:function(t){e.showQuitWarning=!1}}},[e._v(e._s(e.$t("cancel"))+" ")])]},proxy:!0}],null,!1,351377275)}):e._e(),i("trans-sound",{ref:"transSound"})],1)},jt=[],Ut=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"wmc-browse-cmd",on:{click:function(t){return e.$emit("click")},mouseover:function(t){e.isSelected=!0},mouseleave:function(t){e.isSelected=!1}}},[i("div",{staticClass:"wmc-browse-cmd-icon"},[e.isSelected?i("img",{staticClass:"overlay-topleft",attrs:{src:e.hoverOverlayTopLeft}}):e._e(),e.isSelected?i("img",{staticClass:"overlay-small",attrs:{src:e.hoverOverlaySmall}}):e._e(),e.isSelected?i("img",{staticClass:"overlay-blue",attrs:{src:e.hoverOverlayBlue}}):e._e(),"search"===e.validatedIconType&&e.isSelected?i("img",{attrs:{src:e.iconSearchHovered}}):e._e(),"search"!==e.validatedIconType||e.isSelected?e._e():i("img",{attrs:{src:e.iconSearchNormal}}),"play"===e.validatedIconType&&e.isSelected?i("img",{attrs:{src:e.iconPlayHovered}}):e._e(),"play"!==e.validatedIconType||e.isSelected?e._e():i("img",{attrs:{src:e.iconPlayNormal}}),"add"===e.validatedIconType&&e.isSelected?i("img",{attrs:{src:e.iconAddHovered}}):e._e(),"add"!==e.validatedIconType||e.isSelected?e._e():i("img",{attrs:{src:e.iconAddNormal}}),"remove"===e.validatedIconType&&e.isSelected?i("img",{attrs:{src:e.iconRemoveHovered}}):e._e(),"remove"!==e.validatedIconType||e.isSelected?e._e():i("img",{attrs:{src:e.iconRemoveNormal}})]),e._v(" "+e._s(e.label)+" ")])},zt=[],Ht={props:{iconType:{type:String,default:"play"},label:String},data(){const{wmcassets:e}=this.$store.state.assets;return{isSelected:!1,iconPlayNormal:Object(r["a"])(e,"browse-cmd-play-normal"),iconPlayHovered:Object(r["a"])(e,"browse-cmd-play-hovered"),iconSearchNormal:Object(r["a"])(e,"browse-cmd-search-normal"),iconSearchHovered:Object(r["a"])(e,"browse-cmd-search-hovered"),iconAddNormal:Object(r["a"])(e,"browse-cmd-add-normal"),iconAddHovered:Object(r["a"])(e,"browse-cmd-add-hovered"),iconRemoveNormal:Object(r["a"])(e,"browse-cmd-remove-normal"),iconRemoveHovered:Object(r["a"])(e,"browse-cmd-remove-hovered"),hoverOverlayBlue:Object(r["a"])(e,"browse-cmd-focusloop-blue"),hoverOverlaySmall:Object(r["a"])(e,"browse-cmd-focusloop-small"),hoverOverlayTopLeft:Object(r["a"])(e,"browse-cmd-focusloop-topleft")}},computed:{validatedIconType(){return["play","search","add","remove"].includes(this.iconType)?this.iconType:"play"}}},Vt=Ht,Wt=(i("16a0"),Object(y["a"])(Vt,Ut,zt,!1,null,"2b90d0f3",null)),Gt=Wt.exports,Xt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-item-edit"},[i("div",{staticClass:"label"},[i("div",{staticClass:"item-name"},[e._v(e._s(e.itemName))]),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.trackTime,expression:"trackTime !== ''"}],staticClass:"track-time"},[e._v(e._s(e.formattedTrackTime))])]),i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn btn-moveup",style:e.btnIcons,on:{click:function(t){return e.$emit("moveUp")}}}),i("button",{staticClass:"btn btn-movedown",style:e.btnIcons,on:{click:function(t){return e.$emit("moveDown")}}}),i("button",{staticClass:"btn btn-remove",style:e.btnIcons,on:{click:function(t){return e.$emit("remove")}}})])])},qt=[],Yt=i("cadb"),Kt={props:{itemName:String,trackTime:[Number,String]},data(){const{wmcassets:e}=this.$store.state.assets;return{btnMoveUpNormal:Object(r["a"])(e,"move-up-normal"),btnMoveUpHovered:Object(r["a"])(e,"move-up-hovered"),btnMoveUpDormant:Object(r["a"])(e,"move-up-dormant"),btnMoveDownNormal:Object(r["a"])(e,"move-down-normal"),btnMoveDownHovered:Object(r["a"])(e,"move-down-hovered"),btnMoveDownDormant:Object(r["a"])(e,"move-down-dormant"),btnRemoveNormal:Object(r["a"])(e,"remove-normal"),btnRemoveHovered:Object(r["a"])(e,"remove-hovered"),btnRemoveDormant:Object(r["a"])(e,"remove-dormant"),overlay:Object(r["a"])(e,"checkbox-active")}},computed:{btnIcons(){return{"--btn-moveup-normal":`url(${this.btnMoveUpNormal})`,"--btn-moveup-hovered":`url(${this.btnMoveUpHovered})`,"--btn-moveup-dormant":`url(${this.btnMoveUpDormant})`,"--btn-movedown-normal":`url(${this.btnMoveDownNormal})`,"--btn-movedown-hovered":`url(${this.btnMoveDownHovered})`,"--btn-movedown-dormant":`url(${this.btnMoveDownDormant})`,"--btn-remove-normal":`url(${this.btnRemoveNormal})`,"--btn-remove-hovered":`url(${this.btnRemoveHovered})`,"--btn-remove-dormant":`url(${this.btnRemoveDormant})`,"--btn-overlay":`url(${this.overlay})`}},formattedTrackTime(){return"number"===typeof this.trackTime?Object(Yt["b"])(this.trackTime):this.trackTime}}},Zt=Kt,Qt=(i("cf6a"),Object(y["a"])(Zt,Xt,qt,!1,null,"4ef35bb8",null)),Jt=Qt.exports,ei=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim,disabled:e.disabled},attrs:{id:"wmc-radiobtn-wrapper"},on:{mouseover:function(t){return e.playFocusSound()},click:function(t){return e.playMiniSelectSound()}}},[i("div",{attrs:{id:"wmc-radiobtn"}},[i("div",{attrs:{id:"radiobtn-wrapper"}},[i("div",{staticClass:"radiobtn",style:e.wmcRadiobtn}),i("div",{staticClass:"radiobtn",style:{backgroundImage:"url("+e.radiobtnActive+")"},attrs:{id:"radiobtn-overlay"}})]),i("label",[e._t("default")],2)]),i("input",{attrs:{type:"radio",disabled:e.disabled,id:e.id,name:e.name},domProps:{checked:e.checked,value:e.value},on:{input:function(t){return e.$emit("change",t.target.value)}}}),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}}),i("audio",{ref:"miniSelectSound",attrs:{src:e.soundMiniSelect}})])},ti=[],ii={props:{id:String,name:String,value:String,checked:Boolean,disabled:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{btnHovered:Object(r["a"])(e,"button-left-hovered"),btnHighlight:Object(r["a"])(e,"button-left-hovered-overlay"),btnActiveHighlight:Object(r["a"])(e,"button-pressedhighlight"),btnActiveLoop:Object(r["a"])(e,"button-pressedafterglow"),radiobtnDormant:Object(r["a"])(e,"radiobutton-dormant"),radiobtnNormal:Object(r["a"])(e,"radiobutton-normal"),radiobtnHovered:Object(r["a"])(e,"radiobutton-hovered"),radiobtnCheckedDormant:Object(r["a"])(e,"radiobutton-selected-dormant"),radiobtnCheckedNormal:Object(r["a"])(e,"radiobutton-selected-normal"),radiobtnCheckedHovered:Object(r["a"])(e,"radiobutton-selected-hovered"),radiobtnActive:Object(r["a"])(e,"radiobutton-active"),soundFocus:F["b"].focus,soundMiniSelect:F["b"].miniSelect}},computed:{wmcRadiobtn(){return{"--radiobtn-dormant":`url(${this.checked?this.radiobtnCheckedDormant:this.radiobtnDormant})`,"--radiobtn-normal":`url(${this.checked?this.radiobtnCheckedNormal:this.radiobtnNormal})`,"--radiobtn-hovered":`url(${this.checked?this.radiobtnCheckedHovered:this.radiobtnHovered})`,"--radiobtn-active":`url(${this.radiobtnActive})`,"--btn-highlight":`url(${this.btnHighlight})`}},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},playMiniSelectSound(){const e=this.$refs.miniSelectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},si=ii,ai=(i("d02e"),Object(y["a"])(si,ei,ti,!1,null,"774185e4",null)),ni=ai.exports,ri=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("input",{style:e.wmcTextbox,attrs:{id:"wmc-textbox",disabled:e.disabled,type:e.type,autocomplete:"off"},domProps:{value:e.value},on:{input:function(t){return e.$emit("change",t.target.value)}}})},oi=[],ci={props:{type:{type:String,default:"text"},value:{type:[String,Number],default:""},disabled:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{bgTextbox:Object(r["a"])(e,"textbox"),bgTextboxFocus:Object(r["a"])(e,"textbox-focus")}},computed:{wmcTextbox(){return{"--bg-textbox":`url(${this.bgTextbox})`,"--bg-textbox-focus":`url(${this.bgTextboxFocus})`}}}},li=ci,ui=(i("ee6b"),Object(y["a"])(li,ri,oi,!1,null,"072ab550",null)),di=ui.exports,hi=i("4cca");const mi='\n<?wpl version="1.0"?>\n<smil>\n    <head>\n        <meta name="Generator" content="Microsoft Windows Media Player -- 12.0.7601.24499"/>\n        <meta name="ItemCount" content="" />\n        <meta name="IsFavorite"/>\n        <meta name="ContentPartnerListID"/>\n        <meta name="ContentPartnerNameType"/>\n        <meta name="ContentPartnerName"/>\n        <meta name="Subtitle"/>\n        <author/>\n        <title></title>\n    </head>\n    <body>\n        <seq>\n        </seq>\n    </body>\n</smil>\n';var pi={computed:{...Object(Y["d"])({user:"user",systemPath:"systemPath"}),userPath(){return`${this.systemPath}/Users/${this.user?this.user.uid:"Guest"}`},playlistPath(){return this.userPath+"/Music/Playlists"},playlistFilePath(){return`${this.playlistPath}/${this.playlistNameTemp}.wpl`},isNameValid(){const e=/[\\/:*?|<>."]/g;return""!==this.playlistNameTemp&&!e.test(this.playlistNameTemp)}},methods:{async getTrackList(e){const t=await l["a"].read(e,!0),i=new DOMParser,s=i.parseFromString(t,"text/xml"),a=s.querySelectorAll("media");let n=[];for(let r of a){let e=r.getAttribute("src");Object(o["e"])(e)&&(e=e.replace("C:",this.systemPath).replaceAll("\\","/"),e in this.listSong&&n.push({uri:e,name:this.listSong[e].title,duration:this.listSong[e].duration,click:()=>this.$emit("showSongDetails",e)}))}return n},async getPictList(e){const t=await l["a"].read(e,!0),i=new DOMParser,s=i.parseFromString(t,"text/xml"),a=s.querySelectorAll("media");let n=[];for(let r of a){let e=r.getAttribute("src");Object(o["j"])(e)&&(e=e.replace("C:",this.systemPath).replaceAll("\\","/"),n.push({uri:e,name:Object(o["r"])(e).name,click:()=>{}}))}return n},async getListType(e){let t=!1,i=!1;const s=await l["a"].read(e,!0),a=new DOMParser,n=a.parseFromString(s,"text/xml"),r=n.querySelectorAll("media");for(let c of r){const e=c.getAttribute("src");Object(o["j"])(e)&&(t=!0),Object(o["e"])(e)&&(i=!0)}return t&&i?"slideshowwmusic":t&&!i?"slideshow":!t&&i?"playlist":void 0},async createList(e,t=[],i=[]){if(!t.length&&!i.length)return;const s=e=>e.replace(this.systemPath,"C:").replaceAll("/","\\"),a=new DOMParser,n=a.parseFromString(mi,"text/xml");n.querySelector("title").textContent=e;const r=n.querySelector("seq");[...t,...i].forEach(e=>{const t=document.createElement("media");t.setAttribute("src",s(e)),r.appendChild(t)});let o=(new XMLSerializer).serializeToString(n).replaceAll('xmlns="http://www.w3.org/1999/xhtml" ',"").replaceAll("></media>","/>").replaceAll("/><media","/>\n            <media").replace("<media","    <media").replace("</seq>","\n        </seq>");this.editPlaylistURI&&await l["a"].delete(this.editPlaylistURI),await l["a"].write(o,this.playlistFilePath)}}},fi={data(){return{albumList:[],songList:[],albumArtistList:[],artistList:[],genreList:[],composerList:[],yearList:[],musicPlaylists:[],slideShowsWithMusic:[]}},mixins:[p],computed:{...Object(Y["d"])({user:"user",systemPath:"systemPath"}),userPath(){return`${this.systemPath}/Users/${this.user?this.user.uid:"Guest"}`},musicLibRootPath(){return`C:\\Users\\${this.user?this.user.uid:"Guest"}\\Music`}},methods:{updateItemList(){this.albumList=[];for(let s of Object.keys(this.listAlbum)){var e;const t=this.listAlbum[s].artist,i=(null===(e=this.listAlbum[s])||void 0===e?void 0:e.art)||this.getUnknownAlbumArt(s),a=this.listAlbum[s].tracks.length,n=this.getAlbumDuration(s),r=this.listAlbum[s].year;this.albumList.push({id:s,img:i,details:[s,t,[""+this.$tc("track-number",a),""+n,""+r].join("  ")],click:()=>this.handleAlbumClicked(s),contextmenu:e=>this.handleShowCtxMenu(e,"1x1","album",s,i,s)})}this.songList=[];for(let s of Object.keys(this.listSong))this.songList.push({id:s,uri:s,type:"song",name:this.listSong[s].title,details:[this.listSong[s].title,this.listSong[s].artist],click:()=>this.handleSongClicked(s),contextmenu:e=>this.handleShowCtxMenu(e,"text","song",this.listSong[s].title,"",s)});this.albumArtistList=[];for(let s of Object.keys(this.listAlbumArtist)){let e=[];for(let i of this.listAlbumArtist[s]){var t;const a=(null===(t=this.listAlbum[i])||void 0===t?void 0:t.art)||this.getUnknownAlbumArt(i),n=this.listAlbum[i].tracks.length,r=this.getAlbumDuration(i),o=this.listAlbum[i].year;e.push({id:i,img:a,details:[i,s,`${this.$tc("track-number",n)}  ${r}  ${o}`],click:()=>this.handleAlbumClicked(i),contextmenu:e=>this.handleShowCtxMenu(e,"1x1","album",i,a,i)})}this.albumArtistList.push({label:s,details:[s],itemList:e})}this.artistList=[],this.genreList=[],this.composerList=[],this.yearList=[];const i=[{src:this.listArtist,dest:this.artistList,type:"artist"},{src:this.listGenre,dest:this.genreList,type:"genre"},{src:this.listComposer,dest:this.composerList,type:"composer"},{src:this.listYear,dest:this.yearList,type:"year"}];for(const{src:s,dest:a,type:n}of i)a.push(...Object.keys(s).map(e=>({id:e,name:e,details:[e,`${this.$tc("track-number",s[e].songs.length)}  ${Object(Yt["b"])(s[e].totalDuration)}`],click:()=>this.handleCategoryClicked(e,s),contextmenu:t=>this.handleShowCtxMenu(t,"text",n,e,"",e)})))},getAlbumDuration(e){const t=this.listAlbum[e].tracks;let i=0;for(let s of t)i+=this.listSong[s.path].duration;return Object(Yt["b"])(i)},getAlbumTrackList(e){const t=this.listAlbum[e].tracks;let i=[];for(let s of t)i.push({uri:s.path,name:this.listSong[s.path].title,duration:this.listSong[s.path].duration,click:()=>{this.handleSongClicked(s.path)}});return i},async getAllPlaylists(){this.musicPlaylists=[],this.slideShowsWithMusic=[];let e=null;try{e=await l["a"].list(this.userPath+"/Music/Playlists")}catch(t){await l["a"].mkdir(this.userPath+"/Music/Playlists")}for(let i of e){if(!Object(o["l"])(i.uri)||"file"!==i.type)continue;const e=Object(o["r"])(i.name).name,t=await this.getListType(i.uri);switch(t){case"playlist":this.musicPlaylists.push({uri:i.uri,name:e,details:[e],click:()=>this.handlePlaylistClicked(i.uri),contextmenu:()=>{}});break;case"slideshowwmusic":this.slideShowsWithMusic.push({uri:i.uri,name:e,details:[e],click:()=>this.handlePlaylistClicked(i.uri),contextmenu:()=>{}});break}}}}},gi=i("c466"),bi={data(){return{currPath:"",currFiles:[],currFolders:[],pictsByDate:[],pictsByRating:[],isLoading:!0,pictLibSlideShows:[],pictLibSlideShowsWithMusic:[]}},mounted(){this.currPath=this.pictLibRootURI,this.getAllSlideShows(),this.getCurrPathItems()},computed:{...Object(Y["d"])({user:"user",systemPath:"systemPath",forceUpdate:"forceUpdate",ratings:"wmcRatings"}),userPath(){return`${this.systemPath}/Users/${this.user?this.user.uid:"Guest"}`},currPathName(){return this.currPath===this.pictLibRootURI?this.$t("pict-lib"):Object(o["c"])(this.currPath)},pictLibRootPath(){return`C:\\Users\\${this.user?this.user.uid:"Guest"}\\Pictures`},pictLibRootURI(){return this.userPath+"/Pictures"}},watch:{forceUpdate(){this.getCurrPathItems(),this.getAllSlideShows()}},methods:{async getCurrPathItems(){this.$emit("loading",!0),this.isLoading=!0,this.currFiles=[],this.currFolders=[];let e=await l["a"].list(this.currPath);for(let i of e)if(Object(o["j"])(i.uri)&&"file"===i.type){var t;const e=this.currFiles.length,{name:s}=Object(o["r"])(i.name);this.currFiles.push({name:s,uri:i.uri,type:"picture",date:i.ctime,checked:!!this.selectedPictures&&this.selectedPictures.includes(i.uri),rating:(null===(t=this.ratings[i.uri])||void 0===t?void 0:t.rating)||0,details:[s,Object(gi["c"])(i.ctime)],click:()=>this.handlePictureClicked(e,i.uri),contextmenu:t=>this.handleOpenContextMenu(t,i.uri,e)})}else if("directory"===i.type){const e=await this.getFolderItemCount(i.uri,"picture");this.currFolders.push({name:i.name,uri:i.uri,details:[i.name,`${Object(gi["c"])(i.ctime)}   ${this.$tc("n-item",e)}`],type:"directory",click:()=>this.openFolder(i.uri)})}if(this.currPath===this.pictLibRootURI)for(const i of this.searchPaths){if(i===this.pictLibRootURI)continue;const e=await l["a"].stat(i),t=Object(o["r"])(i).name||"",s=await this.getFolderItemCount(i,"picture");this.currFolders.push({name:t,uri:i,details:[t,`${Object(gi["c"])(e.ctime)}   ${this.$tc("n-item",s)}`],type:"directory",click:()=>this.openFolder(i)})}this.currFiles.sort((e,t)=>e.name.localeCompare(t.name)),this.currFolders.sort((e,t)=>e.name.localeCompare(t.name)),this.pictsByDate=[...this.currFiles].sort((e,t)=>e.date-t.date),this.pictsByRating=[...this.currFiles].sort((e,t)=>t.rating-e.rating),this.isLoading=!1,this.$emit("loading",!1)},openFolder(e){this.currPath=e,this.getCurrPathItems(),this.playTransSound()},async getAllPicts(e){const t=new Set,i=await l["a"].list(e);for(const s of i)if(Object(o["j"])(s.uri)&&"file"===s.type)t.add(s.uri);else if("directory"===s.type){const e=await this.getAllPicts(s.uri);e.forEach(e=>t.add(e))}return Array.from(t)},async getAllSlideShows(){this.pictLibSlideShows=[],this.pictLibSlideShowsWithMusic=[];let e=null;try{e=await l["a"].list(this.userPath+"/Music/Playlists")}catch(t){await l["a"].mkdir(this.userPath+"/Music/Playlists")}for(let i of e){if(!Object(o["l"])(i.uri)||"file"===!i.type)continue;const e=Object(o["r"])(i.name).name,t=await this.getListType(i.uri);switch(t){case"slideshow":this.pictLibSlideShows.push({uri:i.uri,name:e,details:[e],click:()=>this.handleSlideShowClicked(i.uri),contextmenu:()=>{}});break;case"slideshowwmusic":this.pictLibSlideShowsWithMusic.push({uri:i.uri,name:e,details:[e],click:()=>this.handleSlideShowClicked(i.uri),contextmenu:()=>{}});break}}}}},vi={components:{BrowseCmd:Gt,BrowseGallery:rt,Dialogue:H,ItemEdit:Jt,RadioButton:ni,Textbox:di,TransSound:it,WmcButton:At},props:{listAlbum:Object,listArtist:Object,listSong:Object,listGenre:Object,listComposer:Object,listYear:Object,listAlbumArtist:Object,editPlaylistURI:String,listMakerType:{type:String,default:"playlist"}},mixins:[pi,fi,bi,m,p],data(){const{wmcassets:e}=this.$store.state.assets,t={PlaylistName:0,SelectMedia:1,ChooseMusic:2,ChoosePictures:3,Review:4,ReviewMusic:5,ReviewPictures:6};return{Screen:t,currScreen:t.PlaylistName,showPlaylistExistsWarning:!1,showEmptyNameWarning:!1,showInvalidCharsWarning:!1,showQuitWarning:!1,showAlbumDetailSongs:!1,showCategoryView:!1,showFolderView:!1,playlistName:"",playlistNameTemp:"",categoryTitle:"",selectMediaLocation:"",selectedSongs:[],selectedPictures:[],isDialogLeftBtnActive:!0,listByTitle:[],listByTrackOrder:[],catAlbumList:[],catSongList:[],isActionChangeName:!1,bgBottom:Object(r["a"])(e,"findmedia-bg-bottom"),bgTop:Object(r["a"])(e,"findmedia-bg-top"),bgScrollbox:Object(r["a"])(e,"listmaker-scrollbox"),btnExpandNormal:Object(r["a"])(e,"spinner-next-normal"),btnExpandHovered:Object(r["a"])(e,"spinner-next-hovered")}},async mounted(){if(this.$root.$on("wmcBack",this.back),this.$emit("findMediaScreen",!0),this.editPlaylistURI){this.playlistName=Object(o["r"])(this.editPlaylistURI).name,this.playlistNameTemp=this.playlistName;const e=await this.getTrackList(this.editPlaylistURI),t=await this.getPictList(this.editPlaylistURI);this.selectedSongs=e.map(e=>e.uri),this.selectedPictures=t.map(e=>e.uri)}},beforeDestroy(){this.$root.$off("wmcBack",this.back),this.$emit("findMediaScreen",!1)},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims"}),iconBtnExpand(){return{"--btn-expand-normal":`url(${this.btnExpandNormal})`,"--btn-expand-hovered":`url(${this.btnExpandHovered})`}},isReviewScreen(){return[this.Screen.Review,this.Screen.ReviewMusic,this.Screen.ReviewPictures].includes(this.currScreen)},getHeaderTitle(){switch(this.currScreen){case this.Screen.SelectMedia:return this.$t("select-media");case this.Screen.Review:case this.Screen.ReviewMusic:case this.Screen.ReviewPictures:return this.$t("listmaker-review",{listType:this.listType});case this.Screen.ChooseMusic:return this.$t("choose-music");case this.Screen.ChoosePicture:return this.$t("choose-picts");case this.Screen.PlaylistName:default:return this.$t("name-playlist",{listType:this.listType})}},listDuration(){let e=0;for(let t of this.selectedSongs)e+=this.getSongDuration(t);return Math.round(e/60)},listDetails(){const e=this.selectedSongs.length,t=this.selectedPictures.length;return`${this.$tc("n-item",e+t)}, ${this.$tc("n-minute-selected",this.listDuration)}`},listType(){return this.$tc(this.listMakerType,1).toLowerCase()},chooseMusicTabList(){return[{label:this.$tc("album",2),galleryType:"1x1",itemList:this.albumList},{label:this.$t("artists"),galleryType:"text",itemList:this.artistList},{label:this.$tc("genre",2),galleryType:"text",itemList:this.genreList},{label:this.$tc("song",2),galleryType:"textcheckbox",itemList:this.songList},{label:this.$t("composers"),galleryType:"text",itemList:this.composerList},{label:this.$t("years"),galleryType:"text",itemList:this.yearList},{label:this.$t("album-artists"),galleryType:"grouped1x1",itemList:this.albumArtistList}]},albumTabList(){return[{label:this.$t("by-track-order"),galleryType:"textcheckbox",itemList:this.listByTrackOrder},{label:this.$t("by-title"),galleryType:"textcheckbox",itemList:this.listByTitle}]},catTabList(){return[{label:this.$tc("album",2),galleryType:"1x1",itemList:this.catAlbumList},{label:this.$tc("song",2),galleryType:"textcheckbox",itemList:this.catSongList}]},choosePictsTabList(){return[{label:this.$t("folders"),galleryType:"4x3checkbox",folderList:this.currFolders,itemList:this.currFiles}]},tabListFolderView(){return[{label:this.$t("by-name"),galleryType:"4x3checkbox",folderList:this.currFolders,itemList:this.currFiles},{label:this.$t("by-date"),galleryType:"4x3checkbox",folderList:this.currFolders,itemList:this.pictsByDate},{label:this.$t("by-rating"),galleryType:"4x3checkbox",folderList:this.currFolders,itemList:this.pictsByRating}]}},methods:{setScreen(e){this.currScreen=e,this.playTransSound()},getSongTitle(e){var t;return(null===(t=this.listSong[e])||void 0===t?void 0:t.title)||""},getSongDuration(e){var t;return(null===(t=this.listSong[e])||void 0===t?void 0:t.duration)||0},getPictureName(e){var t;return(null===(t=Object(o["r"])(e))||void 0===t?void 0:t.name)||""},removeItem(e,t){switch(e){case"song":this.selectedSongs.splice(t,1);break;case"pict":this.selectedPictures.splice(t,1)}this.updateCheckboxes()},swapItems(e,t,i){switch(e){case"song":{if(t<0||t>=this.selectedSongs.length)return;if(i<0||i>=this.selectedSongs.length)return;const e=this.selectedSongs[t];this.$set(this.selectedSongs,t,this.selectedSongs[i]),this.$set(this.selectedSongs,i,e);break}case"pict":{if(t<0||t>=this.selectedPictures.length)return;if(i<0||i>=this.selectedPictures.length)return;const e=this.selectedPictures[t];this.$set(this.selectedPictures,t,this.selectedPictures[i]),this.$set(this.selectedPictures,i,e);break}}},handlePlaylistNameChanged(e){this.playlistNameTemp=e},handleRadioButtonsChanged(e){this.selectMediaLocation=e},async handleNext(){switch(this.currScreen){case this.Screen.PlaylistName:{if(!this.isNameValid)return void(""===this.playlistNameTemp?this.showEmptyNameWarning=!0:this.showInvalidCharsWarning=!0);const e=await l["a"].isExisting(this.playlistFilePath,this.playlistPath);if(this.editPlaylistURI)return e&&this.playlistNameTemp!==this.playlistName?void(this.showPlaylistExistsWarning=!0):(this.showReviewScreen(),this.playTransSound(),void(this.playlistName=this.playlistNameTemp));if(e)return void(this.showPlaylistExistsWarning=!0);if(this.isActionChangeName)return this.showReviewScreen(),this.playTransSound(),this.playlistName=this.playlistNameTemp,void(this.isActionChangeName=!1);this.playlistName=this.playlistNameTemp,this.selectMediaLocation="",this.setScreen(this.Screen.SelectMedia);break}case this.Screen.SelectMedia:if("finished"===this.selectMediaLocation)return void this.showReviewScreen();if("music"===this.selectMediaLocation)return this.updateItemList(),void this.setScreen(this.Screen.ChooseMusic);if("picture"===this.selectMediaLocation)return this.currPath=this.pictLibRootURI,this.getCurrPathItems(),void this.setScreen(this.Screen.ChoosePictures);break;case this.Screen.ChooseMusic:case this.Screen.ChoosePictures:return this.showReviewScreen(),void this.playTransSound()}},handleSelectAll(e){if(e.length){const t=new Set(this.selectedSongs),i=e.map(e=>e.uri);this.selectedSongs.push(...i.filter(e=>!t.has(e)))}this.updateCheckboxes(),this.playTransSound()},handleClearAll(e){if(e.length){const t=e.map(e=>e.uri);this.selectedSongs=this.selectedSongs.filter(e=>!t.includes(e))}this.updateCheckboxes(),this.playTransSound()},async handleSelectAllPicts(){this.currPath=this.currPath||this.pictLibRootURI;const e=await this.getAllPicts(this.currPath),t=new Set(this.selectedPictures);this.selectedPictures.push(...e.filter(e=>!t.has(e))),this.updateCheckboxes(),this.playTransSound()},async handleClearAllPicts(){this.currPath=this.currPath||this.pictLibRootURI;const e=await this.getAllPicts(this.currPath);this.selectedPictures=this.selectedPictures.filter(t=>!e.includes(t)),this.updateCheckboxes(),this.playTransSound()},handleAlbumClicked(e){this.listByTitle=[],this.listByTrackOrder=[];const t=this.listAlbum[e].tracks.map(e=>e.path);for(let i of t){const e={id:i,uri:i,name:this.getSongTitle(i),details:[this.getSongTitle(i),this.listSong[i].artist],checked:this.selectedSongs.includes(i),click:()=>{this.addSong(i)}};this.listByTitle.push(e),this.listByTrackOrder.push(e)}this.listByTitle.sort((e,t)=>e.name.localeCompare(t.name)),this.showAlbumDetailSongs=!0,this.playTransSound()},handleCategoryClicked(e,t){this.catAlbumList=[],this.catSongList=[];const i=t[e].songs,s=t[e].albums;for(let n of s){var a;const e=this.listAlbum[n].artist,t=(null===(a=this.listAlbum[n])||void 0===a?void 0:a.art)||this.getUnknownAlbumArt(n),i=this.listAlbum[n].tracks.length,s=this.getAlbumDuration(n),r=this.listAlbum[n].year;this.catAlbumList.push({id:n,img:t,details:[n,e,`${this.$tc("track-number",i)}  ${s}  ${r}`],click:()=>{this.handleAlbumClicked(n)},contextmenu:()=>{}})}for(let n of i)this.catSongList.push({id:n,uri:n,name:this.getSongTitle(n),details:[this.getSongTitle(n),this.listSong[n].artist],checked:this.selectedSongs.includes(n),click:()=>{this.addSong(n)}});this.showCategoryView=!0,this.playTransSound()},handleChangeName(){this.isActionChangeName=!0,this.setScreen(this.Screen.PlaylistName)},async handleCreate(){await this.createList(this.playlistName,this.selectedSongs,this.selectedPictures),this.$emit("back"),this.editPlaylistURI!==this.playlistFilePath&&this.$root.$emit("wmcPlaylistRenamed",this.playlistFilePath),this.$store.commit(c["a"].ForceUpdate)},handleReviewClearAll(){this.selectedPictures=[],this.selectedSongs=[],this.updateCheckboxes()},addSong(e){this.selectedSongs.includes(e)?this.selectedSongs=this.selectedSongs.filter(t=>t!==e):this.selectedSongs.push(e),this.updateCheckboxes(),this.playTransSound()},handlePictureClicked(e,t){this.selectedPictures.includes(t)?this.selectedPictures=this.selectedPictures.filter(e=>e!==t):this.selectedPictures.push(t),this.updateCheckboxes(),this.playTransSound()},updateCheckboxes(){switch(this.currScreen){case this.Screen.ChooseMusic:for(const e of[this.songList,this.listByTitle,this.listByTrackOrder,this.catSongList])e.forEach(e=>e.checked=this.selectedSongs.includes(e.uri));break;case this.Screen.ChoosePictures:for(const e of[this.pictsByDate,this.pictsByRating])e.forEach(e=>e.checked=this.selectedPictures.includes(e.uri))}},showReviewScreen(){!this.selectedSongs.length||this.selectedPictures.length?this.selectedSongs.length||!this.selectedPictures.length?this.setScreen(this.Screen.Review):this.setScreen(this.Screen.ReviewPictures):this.setScreen(this.Screen.ReviewMusic)},playTransSound(){this.$refs.transSound.playSelectSound()},back(){if(this.showAlbumDetailSongs)return this.showAlbumDetailSongs=!1,void this.playTransSound();if(this.showCategoryView)return this.showCategoryView=!1,void this.playTransSound();switch(this.currScreen){case this.Screen.PlaylistName:if(this.isActionChangeName){this.showReviewScreen(),this.playTransSound(),this.isActionChangeName=!1,this.playlistNameTemp=this.playlistName;break}this.showQuitWarning=!0;break;case this.Screen.SelectMedia:this.setScreen(this.Screen.PlaylistName);break;case this.Screen.ChooseMusic:case this.Screen.Review:this.setScreen(this.editPlaylistURI?this.Screen.PlaylistName:this.Screen.SelectMedia);break;case this.Screen.ChoosePictures:if(this.currPath===this.pictLibRootURI)return void this.setScreen(this.editPlaylistURI?this.Screen.PlaylistName:this.Screen.SelectMedia);this.openFolder(Object(hi["f"])(this.currPath));break;case this.Screen.ReviewMusic:this.selectedPictures.length?this.setScreen(this.Screen.Review):this.setScreen(this.Screen.ChooseMusic);break;case this.Screen.ReviewPictures:this.selectedSongs.length?this.setScreen(this.Screen.Review):this.setScreen(this.Screen.ChoosePictures);break}}}},yi=vi,wi=(i("f73a"),Object(y["a"])(yi,Ft,jt,!1,null,"116bb440",null)),Si=wi.exports,ki=i("692c"),Ti=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isListMakerShown&&!e.isSlideShowPlaying,expression:"!isListMakerShown && !isSlideShowPlaying"}]},[e.showSearch?i("search",{attrs:{isFocused:!e.showAlbumDetails&&!e.showSongDetails,albumList:e.listAlbum,songList:e.listSong},on:{showAlbumDetails:e.handleAlbumClicked,showSongDetails:e.handleSongClicked}}):e.showCategoryDetails?i("cat-details",{attrs:{title:e.categoryTitle,listAlbum:e.categoryAlbums,listSong:e.categorySongs,isSongDetailsShowing:e.showSongDetails,isAlbumDetailsShowing:e.showAlbumDetails},on:{back:e.back,showAlbumDetails:e.handleAlbumClicked,showSongDetails:e.handleSongClicked,playSongs:e.handlePlaySongs,addSongs:e.handleAddSongs,openSettings:function(t){return e.$emit("openSettings")}}}):e._e(),i("browse-gallery",{directives:[{name:"show",rawName:"v-show",value:!e.showCategoryDetails&&!e.showSearch,expression:"!showCategoryDetails && !showSearch"}],attrs:{tabList:e.tabList,libraryTitle:e.$t("music-lib"),isCtxMenuOpen:e.showCtxMenu,isFocused:!e.showSongDetails&&!e.showAlbumDetails&&!e.showPlaylistDetails,emptyLibMsg:e.$t("wmc-empty-lib",{path:e.musicLibRootPath})},scopedSlots:e._u([{key:"commands",fn:function(){return[i("browse-cmd",{attrs:{label:e.$t("search"),iconType:"search"},on:{click:function(t){e.showSearch=!0}}}),i("browse-cmd",{attrs:{label:e.$t("play-all")},on:{click:function(t){e.handlePlaySongs(Object.keys(e.listSong))}}})]},proxy:!0},{key:"dialogs",fn:function(){},proxy:!0}])}),e.showCtxMenu?i("context-menu",{attrs:{itemID:e.ctxMenuItemID,itemType:e.ctxMenuItemType,previewType:e.ctxMenuPreviewType,itemPath:e.activeItemPath,albumArtURL:e.ctxMenuAlbumArt,textPreview:e.ctxMenuTextPreview,offset:e.ctxMenuOffset},on:{back:function(t){e.showCtxMenu=!1},delete:e.handleShowDeleteConfirm,musicAction:e.handleCtxMenuActions,openSettings:function(t){return e.$emit("openSettings")}}}):e._e(),e.showAlbumDetails&&!e.showSongDetails?i("album-details",{attrs:{albumName:e.detailAlbumName,albumArtist:e.detailAlbumArtist,albumYear:e.detailAlbumYear,albumArt:e.detailAlbumArt,trackList:e.detailAlbumTrackList},on:{delete:e.handleShowDeleteConfirm,playSongs:e.handlePlaySongs,addSongs:e.handleAddSongs,back:e.back}}):e._e(),e.showSongDetails?i("song-details",{attrs:{songPath:e.detailSongPath,songName:e.detailSongName,artist:e.detailSongArtist,album:e.detailSongAlbum,duration:e.detailSongDuration,albumArt:e.detailAlbumArt,albumYear:e.detailAlbumYear},on:{addSongs:e.handleAddSongs,delete:e.handleShowDeleteConfirm,playSongs:e.handlePlaySongs,back:e.back}}):e._e(),e.showPlaylistDetails?i("playlist-details",{style:{display:e.showSongDetails?"none":""},attrs:{uri:e.detailPlaylistURI,listSong:e.listSong},on:{addSongs:e.handleAddSongs,playSongs:e.handlePlaySongs,edit:e.handleEditPlaylist,delete:e.handleShowDeleteConfirm,showSongDetails:e.handleSongClicked,playSlideShow:e.handlePlaySlideShow,back:e.back}}):e._e(),e.showDeleteConfirm?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("confirm-delete")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.confirmDelMsg))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{class:{selected:0===e.dialogCurrBtn},attrs:{isFocused:0===e.dialogCurrBtn,btnType:"dialog"},on:{mouseover:function(t){e.dialogCurrBtn=0},click:e.handleDeleteItem}},[e._v(e._s(e.$t("yes"))+" ")]),"playlist"!==e.itemToDelType?i("button-short",{class:{selected:1===e.dialogCurrBtn},attrs:{isFocused:1===e.dialogCurrBtn,btnType:"dialog"},on:{mouseover:function(t){e.dialogCurrBtn=1},click:e.handleDelFromLibOnly}},[e._v(" "+e._s(e.$t("library-only"))+" ")]):e._e(),i("button-short",{class:{selected:2===e.dialogCurrBtn},attrs:{isFocused:2===e.dialogCurrBtn,btnType:"dialog"},on:{mouseover:function(t){e.dialogCurrBtn=2},click:function(t){e.showDeleteConfirm=!1}}},[e._v(e._s(e.$t("no"))+" ")])]},proxy:!0}],null,!1,3166530875)}):e._e()],1)},_i=[],Ci=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("details-dialog",{attrs:{tabList:e.tabList,details:[e.albumName,e.albumArtist,e.$tc("track-number",e.trackNumber)+"   "+e.albumDuration+"   "+e.albumYear],thumbnailURL:e.albumArt||e.getUnknownAlbumArt(e.albumName),itemType:"album",showAlbumArtIcon:!e.albumArt},on:{back:function(t){return e.$emit("back")}},scopedSlots:e._u([{key:"detailCmds",fn:function(){return[i("details-cmd",{attrs:{label:e.$t("add-to-np"),iconType:"add"},on:{click:e.handleAddSongs}}),i("details-cmd",{attrs:{label:e.$t("play-album")},on:{click:e.handlePlaySongs}})]},proxy:!0}])})},Pi=[],xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"wmc-details-cmd",on:{click:function(t){return e.$emit("click")},mouseover:function(t){e.isSelected=!0},mouseleave:function(t){e.isSelected=!1}}},[i("div",{staticClass:"wmc-details-cmd-icon"},[e.isSelected?i("img",{staticClass:"overlay-topleft",attrs:{src:e.hoverOverlayTopLeft}}):e._e(),e.isSelected?i("img",{staticClass:"overlay-small",attrs:{src:e.hoverOverlaySmall}}):e._e(),e.isSelected?i("img",{staticClass:"overlay-blue",attrs:{src:e.hoverOverlayBlue}}):e._e(),"add"===e.validatedIconType&&e.isSelected?i("img",{attrs:{src:e.iconAddHovered}}):e._e(),"add"!==e.validatedIconType||e.isSelected?e._e():i("img",{attrs:{src:e.iconAddNormal}}),"play"===e.validatedIconType&&e.isSelected?i("img",{attrs:{src:e.iconPlayHovered}}):e._e(),"play"!==e.validatedIconType||e.isSelected?e._e():i("img",{attrs:{src:e.iconPlayNormal}}),"delete"===e.validatedIconType&&e.isSelected?i("img",{attrs:{src:e.iconDelHovered}}):e._e(),"delete"!==e.validatedIconType||e.isSelected?e._e():i("img",{attrs:{src:e.iconDelNormal}})]),e._v(" "+e._s(e.label)+" ")])},Ai=[],Ii={props:{iconType:{type:String,default:"play"},label:String},data(){const{wmcassets:e}=this.$store.state.assets;return{isSelected:!1,iconPlayNormal:Object(r["a"])(e,"details-cmd-play-normal"),iconPlayHovered:Object(r["a"])(e,"details-cmd-play-hovered"),iconAddNormal:Object(r["a"])(e,"details-cmd-add-normal"),iconAddHovered:Object(r["a"])(e,"details-cmd-add-hovered"),iconDelNormal:Object(r["a"])(e,"details-cmd-delete-normal"),iconDelHovered:Object(r["a"])(e,"details-cmd-delete-hovered"),hoverOverlayBlue:Object(r["a"])(e,"browse-cmd-focusloop-blue"),hoverOverlaySmall:Object(r["a"])(e,"browse-cmd-focusloop-small"),hoverOverlayTopLeft:Object(r["a"])(e,"browse-cmd-focusloop-topleft")}},computed:{validatedIconType(){return["play","add","delete"].includes(this.iconType)?this.iconType:"play"}}},Oi=Ii,Mi=(i("d2c7"),Object(y["a"])(Oi,xi,Ai,!1,null,"97684498",null)),Li=Mi.exports,$i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-details-dialog-wrapper",class:{animated:e.useAnim},on:{click:function(t){return t.stopPropagation(),e.$emit("back")}}},[i("div",{staticClass:"wmc-details-dialog",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"wmc-dialog-header-wrapper",style:{backgroundImage:"url("+e.bgDetailViewHeader+")"}},[i("div",{staticClass:"wmc-dialog-header"},[i("div",{staticClass:"detail-options",style:{transform:"translateX("+e.tabOffset+"px)"}},e._l(e.tabList,(function(t,s){return i("div",{key:s,ref:"detailOption",refInFor:!0,class:["detail-option",{selected:e.currTab===s}],on:{click:function(t){return e.jumpToTab(s)}}},[e._v(" "+e._s(t.label)+" ")])})),0),i("div",{staticClass:"maintext"},[e._v(e._s(e.details[0]||""))]),i("div",{staticClass:"subtext1"},[e._v(e._s(e.details[1]||""))]),i("div",{staticClass:"subtext2"},[i("div",[e._v(e._s(e.details[2]||""))]),i("rating-info",{directives:[{name:"show",rawName:"v-show",value:"song"===e.itemType||"picture"===e.itemType,expression:"itemType === 'song' || itemType === 'picture'"}],attrs:{rating:e.rating_}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.tabList.length>1,expression:"tabList.length > 1"}],staticClass:"chevrons"},[i("button",{staticClass:"chevron left",style:e.leftChevron,attrs:{disabled:0===e.currTab},on:{click:function(t){e.jumpToTab(Math.max(0,e.currTab-1))}}}),i("button",{staticClass:"chevron right",style:e.rightChevron,attrs:{disabled:e.currTab===e.tabList.length-1},on:{click:function(t){e.jumpToTab(Math.min(e.tabList.length-1,e.currTab+1))}}})])])]),i("div",{staticClass:"wmc-dialog-bottom",style:{backgroundImage:"url("+e.bgCmdBtnGrad+"), url("+e.bgBottom+")"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:"song"===e.itemType||"album"===e.itemType,expression:"itemType === 'song' || itemType === 'album'"}],staticClass:"thumbnail album-art",attrs:{src:e.thumbnailURL}}),i("img",{directives:[{name:"show",rawName:"v-show",value:e.showAlbumArtIcon,expression:"showAlbumArtIcon"}],staticClass:"thumbnail album-art-icon",attrs:{src:e.unknownAlbumArtIcon}}),i("thumbnail",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowThumbnail,expression:"shouldShowThumbnail"}],staticClass:"thumbnail",attrs:{isVideoThumbnail:"video"===e.itemType,thumbnailPath:e.thumbnailURI}}),e._t("detailCmds"),i("div",{staticClass:"tab-content-wrapper"},[e._l(e.tabList,(function(t,s){return[e.currTab===s?i("div",{key:s,staticClass:"tab-content hidden-scrollbar"},["song"===t.itemType?e._l(t.itemList,(function(t,s){return i("div",{key:s,staticClass:"track",on:{click:t.click}},[i("div",{staticClass:"track-name"},[e._v(e._s(t.name))]),i("div",{staticClass:"track-duration"},[e._v(e._s(e.getSongDuration(t.duration)))])])})):e._e(),"picture"===t.itemType?e._l(t.itemList,(function(t,s){return i("div",{key:s,staticClass:"picture",on:{click:t.click}},[i("thumbnail",{staticClass:"picture-thumbnail",attrs:{thumbnailPath:t.uri}}),i("div",{staticClass:"picture-name"},[e._v(e._s(t.name))])],1)})):e._e(),"command"===t.itemType?[i("div",{staticClass:"additional-cmds"},[e._v(e._s(e.$t("additional-cmds")))]),e._l(t.itemList,(function(t,s){return i("div",{key:s,staticClass:"command",on:{click:t.click}},[e._v(" "+e._s(t.label)+" ")])})),"song"===e.itemType||"picture"===e.itemType?i("div",{staticClass:"command",on:{click:function(t){return t.stopPropagation(),e.handleRating(t)}}},[e._v(" "+e._s(e.$t("rate"))),i("rating-info",{attrs:{rating:e.rating_}})],1):e._e()]:e._e()],2):e._e()]}))],2)],2)]),i("trans-sound",{ref:"transSound"})],1)},Ei=[],Di={components:{RatingInfo:Ke,Thumbnail:ue,TransSound:it},mixins:[p],props:{tabList:Array,details:Array,thumbnailURI:String,thumbnailURL:String,itemURI:String,itemType:String,showAlbumArtIcon:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{currTab:0,tabOffset:0,rating_:0,bgDetailViewHeader:Object(r["a"])(e,"detailview-header-bg"),bgBottom:Object(r["a"])(e,"detailview-bottom-bg"),bgCmdBtnGrad:Object(r["a"])(e,"detailview-cmd-btns-gradient"),chevronLeftDisabled:Object(r["a"])(e,"detail-chevron-left-disabled"),chevronLeftHovered:Object(r["a"])(e,"detail-chevron-left-hovered"),chevronLeftNormal:Object(r["a"])(e,"detail-chevron-left-normal"),chevronRightDisabled:Object(r["a"])(e,"detail-chevron-right-disabled"),chevronRightHovered:Object(r["a"])(e,"detail-chevron-right-hovered"),chevronRightNormal:Object(r["a"])(e,"detail-chevron-right-normal")}},mounted(){this.rating_=this.itemRating},computed:{...Object(Y["c"])(["isRtl"]),...Object(Y["d"])({useAnim:"wmcUseAnims",ratings:"wmcRatings"}),leftChevron(){return{"--chevron-left-disabled":`url(${this.chevronLeftDisabled})`,"--chevron-left-hovered":`url(${this.chevronLeftHovered})`,"--chevron-left-normal":`url(${this.chevronLeftNormal})`}},rightChevron(){return{"--chevron-right-disabled":`url(${this.chevronRightDisabled})`,"--chevron-right-hovered":`url(${this.chevronRightHovered})`,"--chevron-right-normal":`url(${this.chevronRightNormal})`}},itemRating(){var e;return(null===(e=this.ratings[this.itemURI])||void 0===e?void 0:e.rating)||0},shouldShowThumbnail(){return["picture","video","slideshow"].includes(this.itemType)}},watch:{itemURI(){this.rating_=this.itemRating}},methods:{getSongDuration(e){return Object(Yt["b"])(e)},jumpToTab(e){if(e===this.currTab)return;if(e<0||e>this.tabList.length-1)return;let t=0;for(let i=0;i<e;i++)t+=this.$refs.detailOption[i].offsetWidth;this.tabOffset=this.isRtl?t:-t,this.currTab=e},async handleRating(){var e;this.rating_=this.rating_+.2>1?0:this.rating_+.2;const t=(null===(e=this.ratings[this.itemURI])||void 0===e?void 0:e["open-times"])||0;await this.$store.dispatch(c["a"].WmcRatingAdd,{path:this.itemURI,rating:{rating:this.rating_,type:this.itemType,"open-times":t}}),this.playTransSound()},playTransSound(){this.$refs.transSound.playSelectSound()}}},Ri=Di,Ni=(i("d628"),Object(y["a"])(Ri,$i,Ei,!1,null,"4f1b2440",null)),Bi=Ni.exports,Fi={components:{DetailsCmd:Li,DetailsDialog:Bi},props:{albumName:String,albumArtist:String,albumYear:[String,Number],albumArt:String,trackList:Array},mixins:[p],computed:{tabList(){return[{label:this.$tc("album",1),itemType:"song",itemList:this.trackList},{label:this.$tc("action",2),itemType:"command",itemList:[{label:this.$t("delete-album"),click:()=>{this.$emit("delete","album",this.albumName,this.albumName)}}]}]},albumDuration(){let e=0;for(let t of this.trackList)e+=t.duration;return Object(Yt["b"])(e)},trackNumber(){return this.trackList.length}},methods:{handleAddSongs(){this.$emit("addSongs",this.trackList.map(e=>e.uri)),this.$emit("back")},handlePlaySongs(){this.$emit("playSongs",this.trackList.map(e=>e.uri)),this.$emit("back")}}},ji=Fi,Ui=Object(y["a"])(ji,Ci,Pi,!1,null,null,null),zi=Ui.exports,Hi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("browse-gallery",{attrs:{tabList:e.tabList,libraryTitle:e.title,isCtxMenuOpen:e.showCtxMenu,isFocused:!e.isSongDetailsShowing&&!e.isAlbumDetailsShowing},scopedSlots:e._u([{key:"commands",fn:function(){return[i("browse-cmd",{attrs:{label:e.$t("add-to-np"),iconType:"add"},on:{click:function(t){e.$emit("addSongs",Object.keys(e.listSong))}}}),i("browse-cmd",{attrs:{label:e.$t("play-all")},on:{click:function(t){e.$emit("playSongs",Object.keys(e.listSong))}}})]},proxy:!0}])}),e.showCtxMenu?i("context-menu",{attrs:{itemID:e.ctxMenuItemID,itemType:e.ctxMenuItemType,previewType:e.ctxMenuPreviewType,itemPath:e.activeItemPath,albumArtURL:e.ctxMenuAlbumArt,textPreview:e.ctxMenuTextPreview,offset:e.ctxMenuOffset},on:{back:function(t){e.showCtxMenu=!1},musicAction:e.handleCtxMenuActions,openSettings:function(t){return e.$emit("openSettings")}}}):e._e()],1)},Vi=[],Wi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",staticClass:"wmc-context-menu-container",on:{click:function(t){return t.stopPropagation(),e.$emit("back")}}},[i("div",{staticClass:"wmc-context-menu-wrapper",class:{text:"text"===e.previewType,animated:e.useAnim},style:e.offset},[i("div",{staticClass:"item-preview"},["4x3"===e.previewType?i("thumbnail",{staticClass:"item-preview _4x3",attrs:{thumbnailPath:e.itemPath,isVideoThumbnail:"video"===e.itemType}}):e._e(),"1x1"===e.previewType?i("img",{staticClass:"item-preview _1x1",attrs:{src:e.albumArtURL}}):e._e(),"text"===e.previewType?i("div",{staticClass:"item-preview text"},[e._v(e._s(e.textPreview))]):e._e()],1),i("div",{staticClass:"wmc-context-menu",class:{flipped:e.shouldFlipContextMenu,_4x3:"4x3"===e.previewType,_1x1:"1x1"===e.previewType,text:"text"===e.previewType},style:{borderImageSource:"url("+e.bgContextMenu+")"}},[i("div",{style:{borderImageSource:"url("+e.overlayLight+")"},attrs:{id:"item-wise-options"}},["picture"===e.itemType?i("button-short",{on:{click:function(t){return e.$emit("showPictDetails")}}},[e._v(e._s(e.$t("picture-details")))]):e._e(),"video"===e.itemType?i("button-short",{on:{click:function(t){return e.$emit("showVideoDetails")}}},[e._v(" "+e._s(e.$t("video-details"))+" ")]):e._e(),["song","album","artist","genre","composer","year"].includes(e.itemType)?i("button-short",{on:{click:function(t){return e.$emit("musicAction","play",e.itemType,e.itemID)}}},[e._v(e._s(e.$t("play"))+" ")]):e._e(),["song","album","artist","genre","composer","year"].includes(e.itemType)?i("button-short",{on:{click:function(t){return e.$emit("musicAction","addToSongList",e.itemType,e.itemID)}}},[e._v(e._s(e.$t("add-to-song-list")))]):e._e(),"game"===e.itemType?i("button-short",[e._v(e._s(e.$t("open")))]):e._e(),e.canBeRated?i("button-rate",{attrs:{filePath:e.itemID,type:e.itemType}}):e._e(),e.canBeDeleted?i("button-short",{on:{click:function(t){return e.$emit("delete",e.itemType,e.itemID,e.textPreview)}}},[e._v(e._s(e.$t("delete"))+" ")]):e._e()],1),i("div",{style:{borderImageSource:"url("+e.overlayDark+")"},attrs:{id:"system-wise-options"}},[i("button-short",{on:{click:function(t){return e.$emit("openSettings")}}},[e._v(e._s(e.$t("settings")))])],1)])])])},Gi=[],Xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button-short",{on:{click:e.updateRating}},[i("rating-info",{attrs:{rating:e.rating}})],1)},qi=[],Yi={components:{ButtonShort:At,RatingInfo:Ke},props:{filePath:String,type:String},data(){return{rating:0}},mounted(){var e;this.rating=(null===(e=this.ratings[this.filePath])||void 0===e?void 0:e.rating)||0},computed:{...Object(Y["d"])({ratings:"wmcRatings"})},methods:{async updateRating(e){var t;e.stopPropagation(),e.preventDefault(),this.rating=this.rating+.2>1?0:this.rating+.2;const i=(null===(t=this.ratings[this.filePath])||void 0===t?void 0:t["open-times"])||0;await this.$store.dispatch(c["a"].WmcRatingAdd,{path:this.filePath,rating:{rating:this.rating,type:this.type,"open-times":i}})}}},Ki=Yi,Zi=Object(y["a"])(Ki,Xi,qi,!1,null,null,null),Qi=Zi.exports,Ji={components:{ButtonRate:Qi,ButtonShort:At,Thumbnail:ue},props:{itemID:String,itemType:String,previewType:String,itemPath:String,albumArtURL:String,textPreview:String,offset:Object},mounted(){const e=this.$refs.container.getBoundingClientRect();if(e&&this.offset){const t="text"===this.previewType?.4:.55;this.shouldFlipContextMenu=this.offset.left.replace("px","")>e.width*t}},data(){const{wmcassets:e}=this.$store.state.assets;return{bgContextMenu:Object(r["a"])(e,"overlay-outline"),overlayLight:Object(r["a"])(e,"overlay-bg-top-light"),overlayDark:Object(r["a"])(e,"overlay-bg-bottom-dark"),shouldFlipContextMenu:!1}},computed:{useAnim(){return this.$store.state.wmcUseAnims},shouldShowThumbnail(){return"text"!==this.previewType},canBeRated(){return"picture"===this.itemType||"song"===this.itemType},canBeDeleted(){return["album","picture","song","video"].includes(this.itemType)}}},es=Ji,ts=(i("e5bf"),Object(y["a"])(es,Wi,Gi,!1,null,"048a5d2a",null)),is=ts.exports,ss={mixins:[u,p],components:{BrowseCmd:Gt,BrowseGallery:rt,ContextMenu:is},props:{title:String,listAlbum:Object,listSong:Object,isSongDetailsShowing:Boolean,isAlbumDetailsShowing:Boolean},data(){return{tabOffset:0,detailAlbumName:"",detailAlbumTrackNum:"",detailAlbumDuration:"",detailAlbumArtist:"",detailAlbumYear:"",activeItemPath:"",ctxMenuItemID:"",ctxMenuItemType:"",ctxMenuPreviewType:"",ctxMenuAlbumArt:"",ctxMenuOffset:null,ctxMenuTextPreview:"",showCtxMenu:!1,albumList:[],songList:[]}},mounted(){this.updateItemList()},watch:{listAlbum:"handleUpdateItemList",listSong:"handleUpdateItemList"},computed:{tabList(){return[{label:this.$tc("album",2),galleryType:"1x1",itemList:this.albumList},{label:this.$tc("song",2),galleryType:"text",itemList:this.songList}]}},methods:{updateItemList(){this.albumList=[];for(let t of Object.keys(this.listAlbum)){var e;const i=this.listAlbum[t].artist,s=(null===(e=this.listAlbum[t])||void 0===e?void 0:e.art)||this.getUnknownAlbumArt(t),a=this.listAlbum[t].tracks.length,n=this.getAlbumDuration(this.listAlbum[t].tracks),r=this.listAlbum[t].year;this.albumList.push({id:t,img:s,details:[t,i,`${this.$tc("track-number",a)}  ${n}  ${r}`],click:()=>this.$emit("showAlbumDetails",t),contextmenu:e=>this.handleShowCtxMenu(e,"1x1","album","",s,t)})}this.songList=[];for(let t of Object.keys(this.listSong))this.songList.push({id:t,type:"song",name:this.listSong[t].title,details:[this.listSong[t].title,this.listSong[t].artist],click:()=>this.$emit("showSongDetails",t),contextmenu:e=>this.handleShowCtxMenu(e,"text","song",this.listSong[t].title,"",t)})},getAlbumDuration(e){let t=0;for(let i of e)t+=this.listSong[i.path].duration;return Object(Yt["b"])(t)},handleShowCtxMenu(e,t,i,s,a,n){this.ctxMenuItemID=n,this.ctxMenuItemType=i,this.ctxMenuPreviewType=t,this.ctxMenuTextPreview=s,this.ctxMenuAlbumArt=a,this.showCtxMenu=!0;const r=e.target.getBoundingClientRect(),o=(null===r||void 0===r?void 0:r.top)||0,c=(null===r||void 0===r?void 0:r.left)||0;this.ctxMenuOffset={top:o+"px",left:c+"px"}},handleCtxMenuActions(e,t,i){let s=[];switch(t){case"album":for(let e of this.listAlbum[i].tracks)s.push(e.path);break;case"song":s.push(i);break}"play"===e?this.$emit("playSongs",s):"addToSongList"===e&&this.$emit("addSongs",s)}}},as=ss,ns=Object(y["a"])(as,Hi,Vi,!1,null,null,null),rs=ns.exports,os=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("details-dialog",{attrs:{tabList:e.tabList,details:[e.playlistName,e.playlistDate,e.itemCount],itemType:e.itemType,thumbnailURI:e.thumbnailURI},on:{back:function(t){return e.$emit("back")}},scopedSlots:e._u([{key:"detailCmds",fn:function(){return["playlist"===e.listType?i("details-cmd",{attrs:{label:e.$t("add-to-np"),iconType:"add"},on:{click:e.handleAddSongs}}):e._e(),"playlist"===e.listType?i("details-cmd",{attrs:{label:e.$t("play-playlist")},on:{click:e.handlePlaySongs}}):e._e(),"playlist"!==e.listType?i("details-cmd",{attrs:{label:e.$t("play-slide-show")},on:{click:e.handlePlaySlideShow}}):e._e()]},proxy:!0}])})},cs=[],ls={components:{DetailsCmd:Li,DetailsDialog:Bi},props:{uri:String,listSong:Object},mixins:[pi],data(){return{playlistDate:"",trackList:[],pictList:[],listType:"playlist"}},async mounted(){if(!this.uri)return;this.trackList=await this.getTrackList(this.uri),this.pictList=await this.getPictList(this.uri),this.listType=await this.getListType(this.uri);const e=await l["a"].stat(this.uri);this.playlistDate=Object(gi["c"])(e.ctime)},watch:{async listSong(){this.uri&&(this.trackList=await this.getTrackList(this.uri),this.pictList=await this.getPictList(this.uri),this.listType=await this.getListType(this.uri))}},computed:{itemType(){return"playlist"===this.listType?"playlist":"slideshow"},tabList(){const e={playlist:this.playlistTabs,slideshow:this.slideShowTabs,slideshowwmusic:this.slideShowWithMusicTabs};return e[this.listType]||[]},itemCount(){const e={playlist:this.$tc("track-number",this.trackList.length),slideshow:this.$tc("picture-number",this.pictList.length),slideshowwmusic:`${this.$tc("track-number",this.trackList.length)}  ${this.$tc("picture-number",this.pictList.length)}`};return e[this.listType]},thumbnailURI(){var e;return(null===(e=this.pictList[0])||void 0===e?void 0:e.uri)||""},playlistName(){var e;return(null===(e=Object(o["r"])(this.uri))||void 0===e?void 0:e.name)||""},playlistTabs(){return[{label:this.$t("playlist-details"),itemType:"song",itemList:this.trackList},{label:this.$tc("action",2),itemType:"command",itemList:[{label:this.$t("edit-playlist"),click:()=>{this.$emit("edit",this.uri)}},{label:this.$t("delete"),click:()=>{this.$emit("delete","playlist",this.uri,this.playlistName)}}]}]},slideShowTabs(){return[{label:this.$t("pictures"),itemType:"picture",itemList:this.pictList},{label:this.$tc("action",2),itemType:"command",itemList:[{label:this.$t("edit-slide-show"),click:()=>{this.$emit("edit",this.uri)}},{label:this.$t("delete"),click:()=>{this.$emit("delete","playlist",this.uri,this.playlistName)}}]}]},slideShowWithMusicTabs(){return[{label:this.$t("pictures"),itemType:"picture",itemList:this.pictList},{label:this.$t("music"),itemType:"song",itemList:this.trackList},{label:this.$tc("action",2),itemType:"command",itemList:[{label:this.$t("edit-slide-show"),click:()=>{this.$emit("edit",this.uri)}},{label:this.$t("delete"),click:()=>{this.$emit("delete","playlist",this.uri,this.playlistName)}}]}]}},methods:{handleAddSongs(){this.$emit("addSongs",this.trackList.map(e=>e.uri)),this.$emit("back")},handlePlaySongs(){this.$emit("playSongs",this.trackList.map(e=>e.uri)),this.$emit("back")},handlePlaySlideShow(){const e=this.pictList.map(e=>e.uri),t=this.trackList.map(e=>e.uri);this.$emit("playSlideShow",{mode:"slideshow",pictures:e,tracks:t})}}},us=ls,ds=Object(y["a"])(us,os,cs,!1,null,null,null),hs=ds.exports,ms=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-search-wrapper"}},[i("div",{class:{focused:e.isFocused},attrs:{id:"wmc-search"}},[i("div",{attrs:{id:"title"}},[e._v(e._s(e.$t("wmc-search-music")))]),i("div",{attrs:{id:"wrapper"}},[i("div",{attrs:{id:"left"}},[i("form",{on:{submit:function(t){return t.preventDefault(),e.handleCommand(t)}}},[i("textbox",{on:{change:e.handleTextboxChanged}})],1)]),i("div",{attrs:{id:"right"}},[e.searchKeywords?e.searchResults.length?i("div",{attrs:{id:"search-results-wrapper"}},[i("div",{attrs:{id:"search-results"}},e._l(e.searchResults,(function(t,s){return i("button-long",{key:s,class:{selected:e.currIndex===s},attrs:{isFocused:e.currIndex===s,btnType:"long"},on:{mouseover:function(t){e.currIndex=s},click:function(i){return e.handleSearchResultClicked(t.id,t.type)}}},[i("div",{staticClass:"result-label",class:{selected:e.currIndex===s}},[i("div",{staticClass:"result-title"},[e._v(e._s(t.title))]),i("div",{staticClass:"result-type"},[e._v(e._s(e.$tc(t.type)))])])])})),1),i("div",{attrs:{id:"item-count"}},[e._v(" "+e._s(e.currIndex+1+" of "+e.getItemTotal)+" "),i("button",{style:e.btnScrollUp,attrs:{id:"btn-scrollup",disabled:0===e.currIndex},on:{click:function(t){e.currIndex--}}}),i("button",{style:e.btnScrollDown,attrs:{id:"btn-scrolldown",disabled:e.currIndex===e.searchResults.length-1},on:{click:function(t){e.currIndex++}}})])]):i("div",{attrs:{id:"instruction"}},[e._v(" "+e._s(e.$t("wmc-search-no-results"))+" ")]):i("div",{attrs:{id:"instruction"}},[e._v(" "+e._s(e.$t("wmc-search-instruction"))+" ")])])])]),i("trans-sound")],1)},ps=[],fs={components:{ButtonLong:At,Textbox:di,TransSound:it},props:{isFocused:{type:Boolean,default:!0},albumList:Object,songList:Object},data(){const{wmcassets:e}=this.$store.state.assets;return{currIndex:0,searchKeywords:"",scrollUpDisabled:Object(r["a"])(e,"scroll-up-disabled"),scrollUpHovered:Object(r["a"])(e,"scroll-up-hovered"),scrollUpNormal:Object(r["a"])(e,"scroll-up-normal"),scrollUpActive:Object(r["a"])(e,"scroll-up-active"),scrollDownDisabled:Object(r["a"])(e,"scroll-down-disabled"),scrollDownHovered:Object(r["a"])(e,"scroll-down-hovered"),scrollDownNormal:Object(r["a"])(e,"scroll-down-normal"),scrollDownActive:Object(r["a"])(e,"scroll-down-active")}},computed:{getItemTotal(){return this.searchResults.length},btnScrollUp(){return{"--scroll-up-disabled":`url(${this.scrollUpDisabled})`,"--scroll-up-hovered":`url(${this.scrollUpHovered})`,"--scroll-up-normal":`url(${this.scrollUpNormal})`,"--scroll-up-active":`url(${this.scrollUpActive})`}},btnScrollDown(){return{"--scroll-down-disabled":`url(${this.scrollDownDisabled})`,"--scroll-down-hovered":`url(${this.scrollDownHovered})`,"--scroll-down-normal":`url(${this.scrollDownNormal})`,"--scroll-down-active":`url(${this.scrollDownActive})`}},useAnim(){return this.$store.state.wmcUseAnims},searchResults(){let e=[],t=[];for(let a in this.songList)t.push({title:this.songList[a].title,id:a});let i=t.filter(e=>(""+e.title.toLowerCase()).includes(this.searchKeywords.toLowerCase()));for(let a of i)e.push({title:a.title,type:"song",id:a.id});let s=Object.keys(this.albumList).filter(e=>(""+e.toLowerCase()).includes(this.searchKeywords.toLowerCase()));for(let a of s)e.push({title:a,type:"album",id:a});return e.sort((e,t)=>e.title.localeCompare(t.title)),e}},methods:{handleTextboxChanged(e){this.searchKeywords=e},handleSearchResultClicked(e,t){switch(t){case"album":this.$emit("showAlbumDetails",e);break;case"song":this.$emit("showSongDetails",e);break}},handleCommand(e){const t=(e.target[0].value||"").trim();if(""!==t)switch(t){case"//firstrun":this.$root.$emit("wmcFirstrun");break}}}},gs=fs,bs=(i("e88f"),Object(y["a"])(gs,ms,ps,!1,null,"2706550b",null)),vs=bs.exports,ys=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("details-dialog",{attrs:{tabList:e.tabList,details:[e.songName,e.artist+"   "+e.album,e.songDuration+"   "+e.albumYear+"  "],thumbnailURL:e.albumArt||e.getUnknownAlbumArt(e.album),itemType:"song",itemURI:e.songPath,showAlbumArtIcon:!e.albumArt},on:{back:function(t){return e.$emit("back")}},scopedSlots:e._u([{key:"detailCmds",fn:function(){return[i("details-cmd",{attrs:{label:e.$t("add-to-np"),iconType:"add"},on:{click:e.handleAddSongs}}),i("details-cmd",{attrs:{label:e.$t("play-song")},on:{click:e.handlePlaySongs}})]},proxy:!0}])})},ws=[],Ss={components:{DetailsCmd:Li,DetailsDialog:Bi},props:{songName:String,artist:String,album:String,duration:Number,songPath:String,albumArt:String,albumYear:[String,Number]},mixins:[p],computed:{songDuration(){return Object(Yt["b"])(this.duration)},tabList(){return[{label:this.$t("song-details"),itemType:"command",itemList:[{label:this.$t("delete-song"),click:()=>{this.$emit("delete","song",this.songPath,this.songName)}}]}]}},methods:{handleAddSongs(){this.$emit("addSongs",[this.songPath]),this.$emit("back")},handlePlaySongs(){this.$emit("playSongs",[this.songPath]),this.$emit("back")}}},ks=Ss,Ts=Object(y["a"])(ks,ys,ws,!1,null,null,null),_s=Ts.exports,Cs={mixins:[u,pi,fi],components:{AlbumDetails:zi,ButtonShort:At,BrowseCmd:Gt,BrowseGallery:rt,CatDetails:rs,ContextMenu:is,Dialogue:H,PlaylistDetails:hs,Search:vs,SongDetails:_s},props:{listAlbum:Object,listArtist:Object,listSong:Object,listGenre:Object,listComposer:Object,listYear:Object,listAlbumArtist:Object,showSearchScreen:Boolean,isListMakerShown:Boolean,isSlideShowPlaying:Boolean},data(){return{tabOffset:1,showCategoryDetails:!1,categoryTitle:"",categoryAlbums:null,categorySongs:null,showAlbumDetails:!1,showSongDetails:!1,showPlaylistDetails:!1,showSearch:!1,showCtxMenu:!1,showDeleteConfirm:!1,detailAlbumName:"",detailAlbumArtist:"",detailAlbumTrackNum:"",detailAlbumDuration:"",detailAlbumYear:"",detailPlaylistURI:"",ctxMenuItemType:"",ctxMenuItemID:"",ctxMenuPreviewType:"",ctxMenuOffset:null,ctxMenuTextPreview:"",ctxMenuAlbumArt:"",activeItemPath:"",itemToDelName:"",itemToDelType:"",itemToDelURI:"",dialogCurrBtn:2,editPlaylistURI:""}},mounted(){this.$root.$on("wmcBack",this.back),this.$root.$on("wmcPlaylistRenamed",this.handlePlaylistRenamed),this.updateItemList(),this.getAllPlaylists(),this.showSearchScreen&&(this.showSearch=!0)},beforeDestroy(){this.$root.$off("wmcBack",this.back),this.$root.$off("wmcPlaylistRenamed",this.handlePlaylistRenamed)},watch:{listAlbum:"updateItemList",listArtist:"updateItemList",listSong:"updateItemList",listGenre:"updateItemList",listComposer:"updateItemList",listYear:"updateItemList",listAlbumArtist:"updateItemList",forceUpdate(){this.updateItemList(),this.getAllPlaylists()}},computed:{...Object(Y["d"])({forceUpdate:"forceUpdate"}),tabList(){return[{label:this.$tc("album",2),galleryType:"1x1",itemList:this.albumList},{label:this.$t("artists"),galleryType:"text",itemList:this.artistList},{label:this.$tc("genre",2),galleryType:"text",itemList:this.genreList},{label:this.$tc("song",2),galleryType:"text",itemList:this.songList},{label:this.$tc("playlist",2),galleryType:"groupedtext",itemList:[{label:this.$tc("action",2),itemList:[{name:this.$t("create-playlist"),details:[this.$t("create-playlist"),this.$t("create-playlist-description")],click:()=>{this.editPlaylistURI="",this.$emit("showListMaker","playlist",this.editPlaylistURI)},contextmenu:()=>{}}]},{label:this.$t("music-playlists"),itemList:this.musicPlaylists},{label:this.$t("slide-shows-w-music"),itemList:this.slideShowsWithMusic}]},{label:this.$t("composers"),galleryType:"text",itemList:this.composerList},{label:this.$t("years"),galleryType:"text",itemList:this.yearList},{label:this.$t("album-artists"),galleryType:"grouped1x1",itemList:this.albumArtistList}]},confirmDelMsg(){switch(this.itemToDelType){case"album":return this.$t("album-delete-msg",{name:this.itemToDelName});case"song":return this.$t("song-delete-msg",{name:this.itemToDelName});case"playlist":return this.$t("playlist-delete-msg",{name:this.itemToDelName});default:return""}}},methods:{handlePlaylistClicked(e){this.detailPlaylistURI=e,this.showPlaylistDetails=!0},handleEditPlaylist(e){this.editPlaylistURI=e,this.$emit("showListMaker","playlist",this.editPlaylistURI)},handleShowDeleteConfirm(e,t,i){this.itemToDelURI=t,this.itemToDelName=i,this.itemToDelType=e,this.showDeleteConfirm=!0},async handleDeleteItem(){switch(this.showDeleteConfirm=!1,this.itemToDelType){case"song":case"playlist":this.showSongDetails=!1,this.showPlaylistDetails=!1,await this.$store.dispatch(c["a"].TrashAdd,this.itemToDelURI);break;case"album":{var e;const t=(null===(e=this.listAlbum[this.itemToDelName])||void 0===e?void 0:e.tracks.map(e=>e.path))||null;t&&await Promise.all(t.map(e=>this.$store.dispatch(c["a"].TrashAdd,e))),this.showAlbumDetails=!1;break}}},async handleDelFromLibOnly(){switch(this.itemToDelType){case"song":this.$store.commit(c["a"].WmcExcludeAdd,this.itemToDelURI);break;case"album":var e;null===(e=this.listAlbum[this.itemToDelName])||void 0===e||e.tracks.map(e=>{e.path&&this.$store.commit(c["a"].WmcExcludeAdd,e.path)});break}await this.$store.dispatch(c["a"].WmcExclude),this.showDeleteConfirm=!1,this.$store.commit(c["a"].ForceUpdate)},handleAlbumClicked(e){const t=e,i=this.listAlbum[t].artist,s=this.listAlbum[t].year,a=this.listAlbum[t].art;this.detailAlbumName=t,this.detailAlbumArtist=i,this.detailAlbumYear=s.toString(),this.detailAlbumArt=a,this.detailAlbumTrackList=this.getAlbumTrackList(t),this.showAlbumDetails=!0},handleCategoryClicked(e,t){this.categoryAlbums={},this.categorySongs={};for(let i of t[e].songs){let e={...this.listSong[i]};this.$set(this.categorySongs,i,e)}for(let i of t[e].albums){let e={...this.listAlbum[i]};this.$set(this.categoryAlbums,i,e);let t=this.categoryAlbums[i].tracks;this.categoryAlbums[i].tracks=t.filter(e=>e.path in this.categorySongs)}this.categoryTitle=e,this.showCategoryDetails=!0},handleSongClicked(e){const t=this.listSong[e].album,i=this.listSong[e].artist,s=this.listSong[e].title,a=this.listSong[e].duration,n=this.listAlbum[t].art,r=this.listAlbum[t].year;this.detailSongPath=e,this.detailSongName=s,this.detailSongArtist=i,this.detailSongAlbum=t,this.detailSongDuration=a,this.detailAlbumArt=n,this.detailAlbumYear=r,this.showSongDetails=!0},handlePlaySongs(e){this.$emit("playSongs",e)},handleAddSongs(e){this.$emit("addSongs",e)},handleShowCtxMenu(e,t,i,s,a,n){this.ctxMenuItemID=n,this.ctxMenuItemType=i,this.ctxMenuPreviewType=t,this.ctxMenuTextPreview=s,this.ctxMenuAlbumArt=a,this.showCtxMenu=!0;const r=e.target.getBoundingClientRect(),o=(null===r||void 0===r?void 0:r.top)||0,c=(null===r||void 0===r?void 0:r.left)||0;this.ctxMenuOffset={top:o+"px",left:c+"px"}},handleCtxMenuActions(e,t,i){let s=[];switch(t){case"album":for(let e of this.listAlbum[i].tracks)s.push(e.path);break;case"artist":s=this.listArtist[i].songs;break;case"genre":s=this.listGenre[i].songs;break;case"song":s.push(i);break;case"composer":s=this.listComposer[i].songs;break;case"year":s=this.listYear[i].songs;break}"play"===e?this.handlePlaySongs(s):"addToSongList"===e&&this.handleAddSongs(s)},handleFindMediaScreen(e){this.$emit("findMediaScreen",e)},handlePlaySlideShow(e){this.$emit("playSlideShow",e)},handlePlaylistRenamed(e){this.detailPlaylistURI=e},back(){this.isListMakerShown||this.isSlideShowPlaying||(this.showCtxMenu?this.showCtxMenu=!1:this.showSongDetails?this.showSongDetails=!1:this.showAlbumDetails?this.showAlbumDetails=!1:this.showPlaylistDetails?this.showPlaylistDetails=!1:this.showCategoryDetails?this.showCategoryDetails=!1:!this.showSearch||this.showSearchScreen?this.$emit("back"):this.showSearch=!1)}}},Ps=Cs,xs=Object(y["a"])(Ps,Ti,_i,!1,null,null,null),As=xs.exports,Is=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isListMakerShown&&!e.isViewingPictures,expression:"!isListMakerShown && !isViewingPictures"}]},[i("browse-gallery",{directives:[{name:"show",rawName:"v-show",value:!e.isViewingPictures,expression:"!isViewingPictures"}],key:e.currPath,attrs:{tabList:e.currPath===e.pictLibRootURI?e.tabList:e.tabListFolderView,libraryTitle:e.currPathName,isCtxMenuOpen:e.showCtxMenu,isFocused:!e.showPictDetails&&!e.showSongDetails&&!e.showPlaylistDetails,emptyLibMsg:e.$t("wmc-empty-lib",{path:e.pictLibRootPath}),isLoading:e.isLoading},scopedSlots:e._u([{key:"commands",fn:function(){return[i("browse-cmd",{attrs:{label:e.$t("play-slide-show")},on:{click:e.handlePlaySlideShow}})]},proxy:!0}])}),e.showCtxMenu?i("context-menu",{attrs:{itemType:"picture",previewType:"4x3",itemID:e.activePictURI,itemPath:e.activePictURI,canBeRated:!0,offset:e.ctxMenuOffset,textPreview:e.activePictName},on:{back:function(t){e.showCtxMenu=!1},delete:e.handleShowDeleteConfirm,showPictDetails:e.handleShowPictureDetails,openSettings:function(t){return e.$emit("openSettings")}}}):e._e(),e.showPictDetails&&!e.isViewingPictures?i("picture-details",{attrs:{pictures:e.currFiles,currIndex:e.activePictIndex,folder:e.currPathName},on:{back:function(t){e.showPictDetails=!1},delete:e.handleShowDeleteConfirm,viewPicture:e.handlePictureClicked,playSlideShow:e.handlePlaySlideShow}}):e._e(),e.showPlaylistDetails?i("playlist-details",{style:{display:e.showSongDetails?"none":""},attrs:{uri:e.detailPlaylistURI,listSong:e.listSong},on:{edit:e.handleEditPlaylist,delete:e.handleShowDeleteConfirm,showSongDetails:e.handleShowSongDetails,playSlideShow:e.handlePlaySlideShowWithMusic,back:e.back}}):e._e(),e.showSongDetails?i("song-details",{attrs:{songPath:e.detailSongPath,songName:e.detailSongName,artist:e.detailSongArtist,album:e.detailSongAlbum,duration:e.detailSongDuration,albumArt:e.detailAlbumArt,albumYear:e.detailAlbumYear},on:{delete:e.handleShowDeleteConfirm,playSongs:e.handlePlaySongs,addSongs:e.handleAddSongs,back:e.back}}):e._e(),e.showDeleteConfirm?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("confirm-delete")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.confirmDelMsg))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{class:{selected:e.isDialogLeftBtnActive},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!0},click:e.handleDeleteItem}},[e._v(e._s(e.$t("yes"))+" ")]),i("button-short",{class:{selected:!e.isDialogLeftBtnActive},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!1},click:function(t){e.showDeleteConfirm=!1}}},[e._v(e._s(e.$t("no"))+" ")])]},proxy:!0}],null,!1,60390977)}):e._e(),i("trans-sound",{ref:"transSound"})],1)},Os=[],Ms=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("details-dialog",{attrs:{tabList:e.tabList,details:[e.currPictName,e.folder,e.currPictDate],thumbnailURI:e.currPictURI,itemURI:e.currPictURI,itemType:"picture"},on:{back:function(t){return e.$emit("back")}},scopedSlots:e._u([{key:"detailCmds",fn:function(){return[i("details-cmd",{attrs:{label:e.$t("view")},on:{click:function(t){return e.$emit("viewPicture",e.currPictIndex)}}}),i("details-cmd",{attrs:{label:e.$t("play-slide-show")},on:{click:function(t){return e.$emit("playSlideShow")}}})]},proxy:!0}])})},Ls=[],$s={components:{DetailsCmd:Li,DetailsDialog:Bi},props:{pictures:Array,currIndex:Number,folder:String},data(){return{currPictIndex:0}},mounted(){this.currPictIndex=this.currIndex},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims"}),currPictURI(){return this.pictures[this.currPictIndex].uri},currPictName(){var e;return(null===(e=this.pictures[this.currPictIndex])||void 0===e?void 0:e.details[0])||""},currPictDate(){var e;return(null===(e=this.pictures[this.currPictIndex])||void 0===e?void 0:e.details[1])||""},tabList(){return[{label:this.$t("picture-details"),itemType:"command",itemList:[{label:this.$t("delete"),click:()=>this.$emit("delete","picture",this.currPictURI,this.currPictName)},{label:this.$t("next"),click:()=>{this.currPictIndex=(this.currPictIndex+1)%this.pictures.length}},{label:this.$t("previous"),click:()=>{this.currPictIndex=(this.currPictIndex-1+this.pictures.length)%this.pictures.length}}]}]}}},Es=$s,Ds=Object(y["a"])(Es,Ms,Ls,!1,null,null,null),Rs=Ds.exports,Ns={components:{BrowseCmd:Gt,BrowseGallery:rt,ButtonShort:At,ContextMenu:is,Dialogue:H,PictureDetails:Rs,PlaylistDetails:hs,SongDetails:_s,TransSound:it},props:{searchPaths:Array,isListMakerShown:Boolean,listSong:Object,listAlbum:Object,isViewingPictures:Boolean},mixins:[m,pi,bi],data(){return{showCtxMenu:!1,showPictDetails:!1,showPlaylistDetails:!1,showSongDetails:!1,ctxMenuOffset:null,showDeleteConfirm:!1,isDialogLeftBtnActive:!1,itemToDelName:"",itemToDelURI:"",itemToDelType:"",detailPlaylistURI:"",editPlaylistURI:""}},mounted(){this.$root.$on("wmcBack",this.back),this.$root.$on("wmcPlaylistRenamed",this.handlePlaylistRenamed)},beforeDestroy(){this.$root.$off("wmcBack",this.back),this.$root.$off("wmcPlaylistRenamed",this.handlePlaylistRenamed)},computed:{confirmDelMsg(){switch(this.itemToDelType){case"picture":return this.$t("confirm-delete-msg",{name:this.itemToDelName});case"song":return this.$t("song-delete-msg",{name:this.itemToDelName});case"playlist":return this.$t("playlist-delete-msg",{name:this.itemToDelName});default:return""}},tabList(){return[{label:this.$t("folders"),galleryType:"4x3",folderList:this.currFolders,itemList:this.currFiles},{label:this.$tc("slideshow",2),galleryType:"groupedtext",itemList:[{label:this.$tc("action",2),itemList:[{name:this.$t("create-slide-show"),details:[this.$t("create-slide-show"),this.$t("create-playlist-description")],click:()=>this.$emit("showListMaker","slideshow"),contextmenu:()=>{}}]},{label:this.$tc("slideshow",2),itemList:this.pictLibSlideShows},{label:this.$t("slide-shows-w-music"),itemList:this.pictLibSlideShowsWithMusic}]}]},tabListFolderView(){return[{label:this.$t("by-name"),galleryType:"4x3",folderList:this.currFolders,itemList:this.currFiles},{label:this.$t("by-date"),galleryType:"4x3",folderList:this.currFolders,itemList:[...this.currFiles].sort((e,t)=>e.date-t.date)},{label:this.$t("by-rating"),galleryType:"4x3",folderList:this.currFolders,itemList:[...this.currFiles].sort((e,t)=>t.rating-e.rating)}]}},methods:{playTransSound(){this.$refs.transSound.playSelectSound()},handleSlideShowClicked(e){this.detailPlaylistURI=e,this.showPlaylistDetails=!0},handleShowSongDetails(e){const t=this.listSong[e].album,i=this.listSong[e].artist,s=this.listSong[e].title,a=this.listSong[e].duration,n=this.listAlbum[t].art,r=this.listAlbum[t].year;this.detailSongPath=e,this.detailSongName=s,this.detailSongArtist=i,this.detailSongAlbum=t,this.detailSongDuration=a,this.detailAlbumArt=n,this.detailAlbumYear=r,this.showSongDetails=!0},handlePlaySlideShowWithMusic(e){this.$emit("playSlideShow",e)},handlePlaySongs(e){this.$emit("playSongs",e)},handleAddSongs(e){this.$emit("addSongs",e)},back(){if(this.isLoading&&this.$emit("loading",!1),this.showDeleteConfirm)return;if(this.isListMakerShown)return;if(this.isViewingPictures)return;if(this.showPictDetails)return void(this.showPictDetails=!1);if(this.showSongDetails)return void(this.showSongDetails=!1);if(this.showPlaylistDetails)return void(this.showPlaylistDetails=!1);if(this.showCtxMenu)return void(this.showCtxMenu=!1);if(this.searchPaths.includes(this.currPath)&&this.currPath!==this.pictLibRootURI)return void this.openFolder(this.pictLibRootURI);if(this.currPath===this.pictLibRootURI)return void this.$emit(V["c"].ChangePage,0);const e=Object(hi["f"])(this.currPath);this.openFolder(e)},async handlePictureClicked(e){const t=await this.getAllPicts(this.currPath);this.$emit("playSlideShow",{pictures:t,pictureIndex:e})},async handlePlaySlideShow(){const e=await this.getAllPicts(this.currPath);this.$emit("playSlideShow",{mode:"slideshow",pictures:e})},handleOpenContextMenu(e,t,i){this.activePictURI=t,this.activePictIndex=i,this.activePictName=this.currFiles[i].name;const s=e.target.parentElement.getBoundingClientRect(),a=(null===s||void 0===s?void 0:s.top)||0,n=(null===s||void 0===s?void 0:s.left)||0;this.ctxMenuOffset={top:a+"px",left:n+"px"},this.showCtxMenu=!0},handleShowPictureDetails(){var e;this.detailPictName=(null===(e=this.currFiles[this.activePictIndex])||void 0===e?void 0:e.name)||"",this.showPictDetails=!0},handleShowDeleteConfirm(e,t,i){this.itemToDelURI=t,this.itemToDelName=i,this.itemToDelType=e,this.showDeleteConfirm=!0},async handleDeleteItem(){this.showDeleteConfirm=!1,this.showPictDetails=!1,this.showSongDetails=!1,this.showPlaylistDetails=!1,await this.$store.dispatch(c["a"].TrashAdd,this.itemToDelURI)},handleEditPlaylist(e){this.editPlaylistURI=e,this.$emit("showListMaker","slideshow",this.editPlaylistURI)},handlePlaylistRenamed(e){this.detailPlaylistURI=e}}},Bs=Ns,Fs=Object(y["a"])(Bs,Is,Os,!1,null,null,null),js=Fs.exports,Us=function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return 0===t.pictureList.length?s("div",{attrs:{id:"invalid-slide-show"}},[t._v(" "+t._s(t.$t("invalid-slide-show"))+" ")]):s("div",{ref:"pictViewer",style:{backgroundColor:t.bgColor},attrs:{id:"wmc-picture-viewer",tabindex:"0"},on:{mousemove:t.handleCtrlVisibility,keydown:t.handleKeyDown}},[s("img",{class:{animated:t.useAnim},attrs:{id:"picture-1"}}),s("img",{key:t.currPictURL,class:(e={},e[t.slideShowAnim]=t.usePanAndZoom&&"slideshow"===t.playMode,e.animated=t.useAnim,e["fade-in"]="normal"===t.playMode,e),style:{animationDuration:t.getAnimDuration+"s",transformOrigin:t.slideShowTransOrigin,animationPlayState:t.isPaused?"paused":"running"},attrs:{id:"picture-2",src:t.currPictURL}}),s("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showNpHint,expression:"showNpHint"}],staticClass:"np-hint"},[s("div",{staticClass:"np-hint-bgs"},[s("div",{staticClass:"np-hint-bg top",style:{backgroundImage:"url("+t.npBgHintTop+")"}}),s("div",{staticClass:"np-hint-bg bottom",style:{backgroundImage:"url("+t.npBgHint+")"}})]),s("div",{staticClass:"np-track-info"},[s("img",{staticClass:"album-art",attrs:{src:t.npAlbumArt||t.getUnknownAlbumArt(t.npAlbumName)}}),s("div",{staticClass:"track-info"},[s("div",{staticClass:"track-title"},[t._v(t._s(t.npSongTitle))]),s("div",{staticClass:"album-name"},[t._v(t._s(t.npAlbumName+" ("+t.npAlbumYear+")"))]),s("div",{staticClass:"album-artist"},[t._v(t._s(t.npAlbumArtist))]),s("rating-info",{attrs:{rating:t.trackRating}})],1)])])]),s("button",{class:{"fade-in":t.isCtrlsVisible,"fade-out":!t.isCtrlsVisible,animated:t.useAnim},style:{backgroundImage:"url("+t.prevPictArrow+")"},attrs:{id:"prev-pict"},on:{click:t.handlePrevPictClick}}),s("button",{class:{"fade-in":t.isCtrlsVisible,"fade-out":!t.isCtrlsVisible,animated:t.useAnim},style:{backgroundImage:"url("+t.nextPictArrow+")"},attrs:{id:"next-pict"},on:{click:t.handleNextPictClick}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showPictInfo,expression:"showPictInfo"}],class:{animated:t.useAnim},attrs:{id:"picture-info"}},[s("div",{attrs:{id:"picture-info-name"}},[t._v(t._s(t.currPictName))]),s("div",{attrs:{id:"picture-info-date"}},[t._v(t._s(t.currPictDate))]),s("rating-info",{attrs:{rating:t.currRating}})],1),s("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.showStatusIcon,expression:"showStatusIcon"}],staticClass:"status-icon",attrs:{src:t.iconStatusPaused}})]),s("audio",{ref:"selectSound",attrs:{src:t.soundSelect}}),s("trans-sound")],1)},zs=[],Hs={components:{RatingInfo:Ke,TransSound:it},props:{playMode:{type:String,default:"normal"},pictureList:Array,currentPicture:Number,npSongURI:String,npSongTitle:String,npAlbumName:String,npAlbumYear:[String,Number],npAlbumArt:String,npAlbumArtist:String,isMusicPlaying:Boolean},mixins:[d,h,p],data(){const{wmcassets:e}=this.$store.state.assets;return{isCtrlsVisible:!0,isMinimized:!1,currIndex:"slideshow"===this.playMode?0:this.currentPicture,nextIndex:this.currentPicture+1,slideShowAnim:"animZoomOut",slideShowTransOrigin:"50% 50%",intervalId:null,ctrlVisibilityTimerId:null,npHintTimerId:null,statusIconTimerId:null,currPictURL:null,currRating:0,pictureList_:[],showNpHint:!1,isPaused:!1,showStatusIcon:!1,prevPictArrow:Object(r["a"])(e,"chevron-left-normal"),nextPictArrow:Object(r["a"])(e,"chevron-right-normal"),npBgHint:Object(r["a"])(e,"nowplaying-hint-bg"),npBgHintTop:Object(r["a"])(e,"nowplaying-hint-bg-top"),iconStatusPaused:Object(r["a"])(e,"common-transportfeedback-pause"),soundSelect:F["b"].select}},async mounted(){"slideshow"===this.playMode&&(this.intervalId=setInterval(this.nextPict,1e3*this.showPictDuration)),this.pictureList_=[],await this.getPictInfos(),await this.loadPicture(this.currIndex),this.resetCtrlVisibilityTimer(),0!==this.pictureList.length&&this.$refs.pictViewer.focus(),this.$root.$on("wmcBack",this.back),this.$root.$on("wmcTrackPlayed",this.showNowPlayingHint),this.$root.$on("wmcPause",this.handlePause),this.$root.$on("wmcStop",this.back),this.$root.$on("wmcHome",this.back),this.showNowPlayingHint()},beforeDestroy(){this.intervalId&&clearInterval(this.intervalId),this.currPictURL&&l["a"].revoke(this.currPictURL),this.$root.$off("wmcBack",this.back),this.$root.$off("wmcTrackPlayed",this.showNowPlayingHint),this.$root.$off("wmcPause",this.handlePause),this.$root.$off("wmcStop",this.back),this.$root.$off("wmcHome",this.back)},computed:{...Object(Y["d"])({showRandom:"wmcSlideShowRandom",showPictInfo:"wmcSlideShowInfo",showSongInfo:"wmcSlideShowSongInfo",usePanAndZoom:"wmcUsePanAndZoom",showPictDuration:"wmcSlideShowPictDuration",bgColor:"wmcSlideShowBgColor",useAnim:"wmcUseAnims",shouldPlayNavSound:"wmcPlayNavSound",ratings:"wmcRatings",useRatingShortcut:"wmcUseRatingShortcut"}),isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},currPictName(){var e;return(null===(e=this.pictureList_[this.currIndex])||void 0===e?void 0:e.details[0])||""},currPictDate(){var e;return(null===(e=this.pictureList_[this.currIndex])||void 0===e?void 0:e.details[1])||""},getAnimDuration(){return"slideshow"===this.playMode?this.showPictDuration:.3},trackRating(){var e;return(null===(e=this.ratings[this.npSongURI])||void 0===e?void 0:e.rating)||0}},methods:{showNowPlayingHint(){this.isMusicPlaying&&(this.showNpHint=this.isMusicPlaying,this.npHintTimerId&&clearTimeout(this.npHintTimerId),this.npHintTimerId=setTimeout(()=>this.showNpHint=!1,1e4))},getRating(){var e;const t=this.pictureList[this.currIndex];this.currRating=(null===(e=this.ratings[t])||void 0===e?void 0:e.rating)||0},async getPictInfos(){for(const e of this.pictureList){const t=await l["a"].stat(e);this.pictureList_.push({uri:e,details:[Object(o["r"])(e).name,Object(gi["c"])(t.ctime)]})}},playSelectSound(){const e=this.$refs.selectSound;e.volume=this.volume,e.currentTime=0,e.play()},handleNextPictClick(){this.nextPict(),this.resetCtrlVisibilityTimer(),this.playSelectSound()},handlePrevPictClick(){this.prevPict(),this.resetCtrlVisibilityTimer(),this.playSelectSound()},handlePause(e){this.isPaused=e,clearInterval(this.intervalId),e?(this.showStatusIcon=!0,this.statusIconTimerId=setTimeout(()=>this.showStatusIcon=!1,3e3)):(this.intervalId=setInterval(this.nextPict,1e3*this.showPictDuration),this.slideShowAnim=this.getRandomAnim(),this.slideShowTransOrigin=this.getRandomTransOrigin(),clearTimeout(this.statusIconTimerId),this.showStatusIcon=!1)},setCtrlVisibilityTimer(){this.ctrlVisibilityTimerId=setTimeout(()=>{this.isCtrlsVisible=!1},5e3)},resetCtrlVisibilityTimer(){clearTimeout(this.ctrlVisibilityTimerId),this.setCtrlVisibilityTimer()},handleCtrlVisibility(){this.isCtrlsVisible||(this.isCtrlsVisible=!0),this.resetCtrlVisibilityTimer()},async handleKeyDown(e){switch(this.handleRatingShortcut(e,this.pictureList[this.currIndex],"picture"),e.key){case"ArrowLeft":this.handlePrevPictClick();break;case"ArrowRight":this.handleNextPictClick();break;case"Backspace":this.$emit("back");break}},async loadPicture(e){const t=this.pictureList[e];if(t){const e=await l["a"].read(t,!1,"blob");this.currPictURL&&l["a"].revoke(this.currPictURL),this.currPictURL=Object(re["e"])(e),this.countOpenTimes(t,"picture"),this.getRating()}},nextPict(){let e=(this.currIndex+1)%this.pictureList.length;this.showRandom&&"normal"!==this.playMode&&(e=Object(r["q"])(0,this.pictureList.length-1)),this.currIndex=e,this.slideShowAnim=this.getRandomAnim(),this.slideShowTransOrigin=this.getRandomTransOrigin(),this.loadPicture(this.currIndex)},prevPict(){this.currIndex=(this.currIndex-1+this.pictureList.length)%this.pictureList.length,this.slideShowAnim=this.randomAnim,this.slideShowTransOrigin=this.randomTransOrigin,this.loadPicture(this.currIndex)},getRandomTransOrigin(){const e=["50% 50%","50% 20%","50% 80%","20% 50%","80% 50%","20% 20%","80% 20%","80% 20%","80% 80%"],t=Object(r["q"])(0,e.length-1);return e[t]},getRandomAnim(){const e=["animZoomIn","animZoomOut","animPanLeft","animPanRight","animPanUp","animPanDown"],t=Object(r["q"])(0,e.length-1);return e[t]},back(){this.$emit("back")}}},Vs=Hs,Ws=(i("0d7f"),Object(y["a"])(Vs,Us,zs,!1,null,"48366fba",null)),Gs=Ws.exports,Xs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{backgroundImage:"url("+e.bgPlayControl+")"},attrs:{id:"wmc-playcontrol"}},[i("button",{style:e.iconsStop,attrs:{id:"wmc-stop",disabled:e.isStopBtnDisabled},on:{click:e.handleStopBtnClick}}),i("div",{staticClass:"control-divider",style:{backgroundImage:"url("+e.controlDivider+")"}}),i("button",{style:e.iconsBackward,attrs:{id:"wmc-backward",disabled:""}}),i("button",{style:e.iconsPrev,attrs:{id:"wmc-prev",disabled:e.musicState===e.MediaState.Stop||e.videoState===e.MediaState.Play},on:{click:e.handlePrevBtnClick}}),i("button",{style:e.isPaused?e.iconsPause:e.iconsPlay,attrs:{id:"wmc-play",disabled:e.isPlayBtnDisabled},on:{click:e.handlePlayBtnClick}}),i("button",{style:e.iconsNext,attrs:{id:"wmc-next",disabled:e.musicState===e.MediaState.Stop||e.videoState===e.MediaState.Play},on:{click:e.handleNextBtnClick}}),i("button",{style:e.iconsForward,attrs:{id:"wmc-forward",disabled:""}}),i("div",{staticClass:"control-divider",style:{backgroundImage:"url("+e.controlDivider+")"}}),i("button",{style:e.isMuted?e.iconsUnmute:e.iconsMute,attrs:{id:"wmc-mute"},on:{click:e.toggleMute}}),i("button",{style:e.iconsMinus,attrs:{id:"wmc-minus"},on:{click:e.decreaseVol}}),i("button",{style:e.iconsPlus,attrs:{id:"wmc-plus"},on:{click:e.increaseVol}}),i("audio",{ref:"miniSelectSound",attrs:{src:e.soundMiniSelect}})])},qs=[],Ys={mixins:[u],props:{musicState:Number,videoState:Number,isSlideShowPlaying:Boolean,isSlideShowScreen:Boolean,currScreen:Number},data(){const{wmcassets:e}=this.$store.state.assets;return{isPaused:!1,iconPlayNormal:Object(r["a"])(e,"control-play-normal"),iconPlayHovered:Object(r["a"])(e,"control-play-hovered"),iconPlayActive:Object(r["a"])(e,"control-play-active"),iconPlayDisabled:Object(r["a"])(e,"control-play-disabled"),iconPauseNormal:Object(r["a"])(e,"control-pause-normal"),iconPauseHovered:Object(r["a"])(e,"control-pause-hovered"),iconPauseActive:Object(r["a"])(e,"control-pause-active"),iconPauseDisabled:Object(r["a"])(e,"control-pause-disabled"),iconNextNormal:Object(r["a"])(e,"control-next-normal"),iconNextHovered:Object(r["a"])(e,"control-next-hovered"),iconNextActive:Object(r["a"])(e,"control-next-active"),iconNextDisabled:Object(r["a"])(e,"control-next-disabled"),iconPrevNormal:Object(r["a"])(e,"control-previous-normal"),iconPrevHovered:Object(r["a"])(e,"control-previous-hovered"),iconPrevActive:Object(r["a"])(e,"control-previous-active"),iconPrevDisabled:Object(r["a"])(e,"control-previous-disabled"),iconForwardNormal:Object(r["a"])(e,"control-forward-normal"),iconForwardHovered:Object(r["a"])(e,"control-forward-hovered"),iconForwardActive:Object(r["a"])(e,"control-forward-active"),iconForwardDisabled:Object(r["a"])(e,"control-forward-disabled"),iconBackwardNormal:Object(r["a"])(e,"control-backward-normal"),iconBackwardHovered:Object(r["a"])(e,"control-backward-hovered"),iconBackwardActive:Object(r["a"])(e,"control-backward-active"),iconBackwardDisabled:Object(r["a"])(e,"control-backward-disabled"),iconStopNormal:Object(r["a"])(e,"control-stop-normal"),iconStopHovered:Object(r["a"])(e,"control-stop-hovered"),iconStopActive:Object(r["a"])(e,"control-stop-active"),iconStopDisabled:Object(r["a"])(e,"control-stop-disabled"),iconMuteNormal:Object(r["a"])(e,"control-mute-normal"),iconMuteHovered:Object(r["a"])(e,"control-mute-hovered"),iconMuteActive:Object(r["a"])(e,"control-mute-active"),iconMuteDisabled:Object(r["a"])(e,"control-mute-disabled"),iconUnmuteNormal:Object(r["a"])(e,"control-unmute-normal"),iconUnmuteHovered:Object(r["a"])(e,"control-unmute-hovered"),iconUnmuteActive:Object(r["a"])(e,"control-unmute-active"),iconUnmuteDisabled:Object(r["a"])(e,"control-unmute-disabled"),iconPlusNormal:Object(r["a"])(e,"control-plus-normal"),iconPlusHovered:Object(r["a"])(e,"control-plus-hovered"),iconPlusActive:Object(r["a"])(e,"control-plus-active"),iconPlusDisabled:Object(r["a"])(e,"control-plus-disabled"),iconMinusNormal:Object(r["a"])(e,"control-minus-normal"),iconMinusHovered:Object(r["a"])(e,"control-minus-hovered"),iconMinusActive:Object(r["a"])(e,"control-minus-active"),iconMinusDisabled:Object(r["a"])(e,"control-minus-disabled"),bgPlayControl:Object(r["a"])(e,"control-bottombar-right"),controlDivider:Object(r["a"])(e,"control-divider"),soundMiniSelect:F["b"].miniSelect}},watch:{musicState(e){e===this.MediaState.Play&&(this.isPaused=!1)},videoState(e){e===this.MediaState.Play&&(this.isPaused=!1)},isSlideShowPlaying(e){e&&(this.isPaused=!1)}},computed:{iconsBackward(){return{"--backward-normal":`url(${this.iconBackwardNormal})`,"--backward-hovered":`url(${this.iconBackwardHovered})`,"--backward-active":`url(${this.iconBackwardActive})`,"--backward-disabled":`url(${this.iconBackwardDisabled})`}},iconsForward(){return{"--forward-normal":`url(${this.iconForwardNormal})`,"--forward-hovered":`url(${this.iconForwardHovered})`,"--forward-active":`url(${this.iconForwardActive})`,"--forward-disabled":`url(${this.iconForwardDisabled})`}},iconsPrev(){return{"--prev-normal":`url(${this.iconPrevNormal})`,"--prev-hovered":`url(${this.iconPrevHovered})`,"--prev-active":`url(${this.iconPrevActive})`,"--prev-disabled":`url(${this.iconPrevDisabled})`}},iconsNext(){return{"--next-normal":`url(${this.iconNextNormal})`,"--next-hovered":`url(${this.iconNextHovered})`,"--next-active":`url(${this.iconNextActive})`,"--next-disabled":`url(${this.iconNextDisabled})`}},iconsPause(){return{"--play-normal":`url(${this.iconPlayNormal})`,"--play-hovered":`url(${this.iconPlayHovered})`,"--play-active":`url(${this.iconPlayActive})`,"--play-disabled":`url(${this.iconPauseDisabled})`}},iconsPlay(){return{"--play-normal":`url(${this.iconPauseNormal})`,"--play-hovered":`url(${this.iconPauseHovered})`,"--play-active":`url(${this.iconPauseActive})`,"--play-disabled":`url(${this.iconPlayDisabled})`}},iconsMute(){return{"--mute-normal":`url(${this.iconMuteNormal})`,"--mute-hovered":`url(${this.iconMuteHovered})`,"--mute-active":`url(${this.iconMuteActive})`,"--mute-disabled":`url(${this.iconMuteDisabled})`}},iconsUnmute(){return{"--mute-normal":`url(${this.iconUnmuteNormal})`,"--mute-hovered":`url(${this.iconUnmuteHovered})`,"--mute-active":`url(${this.iconUnmuteActive})`,"--mute-disabled":`url(${this.iconUnmuteDisabled})`}},iconsPlus(){return{"--plus-normal":`url(${this.iconPlusNormal})`,"--plus-hovered":`url(${this.iconPlusHovered})`,"--plus-active":`url(${this.iconPlusActive})`,"--plus-disabled":`url(${this.iconPlusDisabled})`}},iconsMinus(){return{"--minus-normal":`url(${this.iconMinusNormal})`,"--minus-hovered":`url(${this.iconMinusHovered})`,"--minus-active":`url(${this.iconMinusActive})`,"--minus-disabled":`url(${this.iconMinusDisabled})`}},iconsStop(){return{"--stop-normal":`url(${this.iconStopNormal})`,"--stop-hovered":`url(${this.iconStopHovered})`,"--stop-active":`url(${this.iconStopActive})`,"--stop-disabled":`url(${this.iconStopDisabled})`}},isMuted(){return this.$store.state.wmcIsMuted},isPlaying(){return this.musicState===this.MediaState.Play||this.videoState===this.MediaState.Play||this.isSlideShowPlaying},volume(){return this.isMuted||!this.$store.state.wmcPlayNavSound?0:this.$store.state.wmcVol/50},isPlayBtnDisabled(){return!(this.currScreen===this.Screen.MusicPlayer||this.currScreen===this.Screen.VideoPlayer||this.isSlideShowScreen||this.musicState!==this.MediaState.Stop||this.videoState!==this.MediaState.Stop)},isStopBtnDisabled(){return this.musicState===this.MediaState.Stop&&this.videoState===this.MediaState.Stop&&!this.isSlideShowPlaying}},methods:{async toggleMute(){this.playMiniSelectSound(),await this.$store.dispatch(c["a"].WmcMute,!this.$store.state.wmcIsMuted)},async increaseVol(){this.playMiniSelectSound(),await this.$store.dispatch(c["a"].WmcIncreaseVolume)},async decreaseVol(){this.playMiniSelectSound(),await this.$store.dispatch(c["a"].WmcDecreaseVolume)},handlePlayBtnClick(){this.playMiniSelectSound(),this.isPaused=!this.isPaused,this.$root.$emit("wmcPause",this.isPaused)},handleStopBtnClick(){this.playMiniSelectSound(),this.isPaused=!0,this.$root.$emit("wmcStop")},handleNextBtnClick(){this.playMiniSelectSound(),this.$root.$emit("wmcNext")},handlePrevBtnClick(){this.playMiniSelectSound(),this.$root.$emit("wmcPrevious")},playMiniSelectSound(){const e=this.$refs.miniSelectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},Ks=Ys,Zs=(i("8e17"),Object(y["a"])(Ks,Xs,qs,!1,null,"c968d0f8",null)),Qs=Zs.exports,Js=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",class:{animated:e.useAnims&&e.enableAnim},style:{transform:"scale("+e.scale+") translate("+e.translateX+"%, "+e.translateY+"%)",transformOrigin:e.transformOriginX+"% "+e.transformOriginY+"%"},attrs:{id:"wmc-fav-pict"}},e._l(e.pictLayout,(function(t,s){return i("div",{key:s,staticClass:"fav-pict-row"},e._l(t,(function(t,a){return i("div",{key:a,ref:"pict_"+s+"_"+a,refInFor:!0,staticClass:"fav-pict",class:{animated:e.useAnims},style:{rotate:t.rotation}},[i("thumbnail",{attrs:{thumbnailPath:t.path}})],1)})),0)})),0)},ea=[],ta={props:{pictList:Array},components:{Thumbnail:ue},data(){return{previousActivePict:null,intervalTimer:null,scale:1,translateX:0,translateY:0,transformOriginX:51,transformOriginY:100,currRow:0,currPict:6,rowPictNum:15,rowNum:10,rowOffset:12.3,pictLayout:[],enableAnim:!0}},mounted(){this.$root.$on("wmcBack",this.back),this.pictList.length&&(this.initLayout(),this.intervalTimer=setInterval(this.selectRandomPict,7e3),this.enableAnim=this.useAnims)},beforeDestroy(){this.$root.$off("wmcBack",this.back),this.intervalTimer&&clearInterval(this.intervalTimer)},computed:{...Object(Y["d"])({useAnims:"wmcUseAnims"})},methods:{randomPict(){return this.pictList[Object(r["q"])(0,this.pictList.length-1)]},randomRotation(){const e=-.5,t=.5;return Math.random()*(t-e+1)+e+"deg"},selectRandomPict(){if(this.currRow>=this.rowNum-1)return void this.resetLayout();this.currRow+=1,this.enableAnim||(this.enableAnim=!0),this.currPict=Object(r["q"])(6,8);const e=`pict_${this.currRow}_${this.currPict}`,t=this.$refs[e][0],i=t.getBoundingClientRect(),s=this.$refs.container.getBoundingClientRect();this.transformOriginX=(i.left-s.left+i.width/2)/s.width*100,this.transformOriginY-=this.rowOffset,this.scale=5.5,this.previousActivePict&&this.previousActivePict.classList.remove("active"),t.classList.add("active"),this.previousActivePict=t},initLayout(){let e=[];for(let t=0;t<this.rowPictNum;t++)e.push({path:this.randomPict(),rotation:this.randomRotation()});for(let t=0;t<this.rowNum;t++){let i=[];for(let s=0;s<this.rowPictNum;s++){if(1===t||t===this.rowNum-1){i=e;break}i.push({path:this.randomPict(),rotation:this.randomRotation()})}this.pictLayout.push(i)}},async resetLayout(){this.enableAnim=!1,this.currRow=1;const e=`pict_${this.currRow}_${this.currPict}`,t=this.$refs[e][0];this.previousActivePict&&this.previousActivePict.classList.remove("active"),t.classList.add("active"),this.previousActivePict=t,this.transformOriginY=100-this.rowOffset,await this.generateNewLayout()},async generateNewLayout(){for(let e=0;e<this.rowNum;e++)for(let t=0;t<this.rowPictNum;t++)1!==e&&e!==this.rowNum-1&&(this.pictLayout[e][t].path=this.randomPict(),this.pictLayout[e][t].rotation=this.randomRotation())},back(){this.$emit(V["c"].ChangePage,0)}}},ia=ta,sa=(i("9d49"),Object(y["a"])(ia,Js,ea,!1,null,"55e13b36",null)),aa=sa.exports,na=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.currScreen===e.Screen.NowPlaying?i("song-list",{attrs:{songList:e.songList,currentSongIndex:e.currentSongIndex},on:{playSongAtIndex:e.handlePlaySongAtIndex,back:function(t){e.currScreen=e.Screen.PlayMusic},clearList:function(t){return e.$emit("clearList")},editList:function(t){e.currScreen=e.Screen.EditNowPlaying},saveList:function(t){e.currScreen=e.Screen.SaveAsPlaylist}}}):e.currScreen===e.Screen.EditNowPlaying?i("edit-list",{attrs:{songList:e.songList},on:{back:function(t){e.currScreen=e.Screen.NowPlaying},updateNowPlaying:e.handleUpdateNowPlaying}}):e.currScreen===e.Screen.SaveAsPlaylist?i("save-as-playlist",{attrs:{songList:e.songList.map((function(e){return e.path}))},on:{back:function(t){e.currScreen=e.Screen.NowPlaying}}}):i("div",{ref:"nowPlaying",class:{animated:e.useAnim},attrs:{id:"wmc-play-music",tabindex:"0"},on:{mousemove:e.handlePlayAnim,keydown:e.handleKeyDown}},[i("div",{class:{entrance:!e.shouldPlayAnim,exit:e.shouldPlayAnim},attrs:{id:"left-menu"}},[i("div",{staticClass:"background",style:{backgroundImage:"url("+e.gradLeftMenu+")"}}),i("div",{staticClass:"button-group"},[i("button-short",{class:{selected:e.selectingBtn===e.options.ViewSongList},attrs:{isFocused:e.selectingBtn===e.options.ViewSongList},on:{mouseover:function(t){e.selectingBtn=e.options.ViewSongList},click:function(t){e.currScreen=e.Screen.NowPlaying}}},[e._v(" "+e._s(e.$t("view-song-list"))+" ")]),i("button-toggle",{class:{selected:e.selectingBtn===e.options.Loop},attrs:{isFocused:e.selectingBtn===e.options.Loop,isChecked:e.isLooped},on:{mouseover:function(t){e.selectingBtn=e.options.Loop},toggleChanged:e.handleIsLoopedChanged}},[e._v(" "+e._s(e.$t("loop"))+" ")]),i("button-toggle",{class:{selected:e.selectingBtn===e.options.Repeat},attrs:{isFocused:e.selectingBtn===e.options.Repeat,isChecked:e.isRepeated},on:{mouseover:function(t){e.selectingBtn=e.options.Repeat},toggleChanged:e.handleIsRepeatedChanged}},[e._v(" "+e._s(e.$t("repeat"))+" ")]),i("button-toggle",{class:{selected:e.selectingBtn===e.options.Shuffle},attrs:{isFocused:e.selectingBtn===e.options.Shuffle,isChecked:e.isShuffled},on:{mouseover:function(t){e.selectingBtn=e.options.Shuffle},toggleChanged:e.handleIsShuffledChanged}},[e._v(" "+e._s(e.$t("shuffle"))+" ")])],1)]),i("img",{class:{animLeft:!e.isAlbumArtLeft&&e.shouldPlayAnim&&e.currScreen===e.Screen.PlayMusic,animRight:e.isAlbumArtLeft&&e.shouldPlayAnim&&e.currScreen===e.Screen.PlayMusic},attrs:{id:"bg-fog",src:e.gradMeta}}),i("div",{class:{animRight:e.shouldPlayAnim&&!e.isAlbumArtLeft&&e.currScreen===e.Screen.PlayMusic,animLeft:e.shouldPlayAnim&&e.isAlbumArtLeft&&e.currScreen===e.Screen.PlayMusic},attrs:{id:"album-cover-wrapper"}},[i("img",{staticClass:"album-cover",attrs:{src:e.albumArt||e.getUnknownAlbumArt(e.albumName)}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!e.albumArt,expression:"!albumArt"}],staticClass:"album-cover-icon",attrs:{src:e.unknownAlbumArtIcon}}),i("div",{attrs:{id:"album-cover-overlay"}}),i("transition",{attrs:{"enter-active-class":"animated fadeIn pulse","leave-active-class":"animated fadeOut"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.showStatusIcon,expression:"showStatusIcon"}],staticClass:"status-icon",attrs:{src:e.statusIcon}})])],1),i("div",{class:{animLeft:!e.isAlbumArtLeft&&e.shouldPlayAnim&&e.currScreen===e.Screen.PlayMusic,animRight:e.isAlbumArtLeft&&e.shouldPlayAnim&&e.currScreen===e.Screen.PlayMusic},attrs:{id:"music-meta"}},[i("div",{attrs:{id:"info"}},[i("div",{attrs:{id:"song"}},[e._v(e._s(e.songTitle))]),i("div",{attrs:{id:"artist"}},[e._v(e._s(e.songArtist))]),i("div",{attrs:{id:"album"}},[e._v(e._s(e.albumName))]),i("div",{attrs:{id:"current-time"}},[e._v(e._s(e.currentTime))]),i("div",{attrs:{id:"rating-year-duration-artist"}},[i("rating-info",{class:{flipped:!e.isAlbumArtLeft&&e.shouldPlayAnim&&e.currScreen===e.Screen.PlayMusic},attrs:{rating:e.currRating}}),i("div",{attrs:{id:"year"}},[e._v(e._s(e.albumYear))]),i("div",{attrs:{id:"duration"}},[e._v(e._s(e.$t("track-time",{time:e.trackTime})))]),i("div",{attrs:{id:"album-artist"}},[e._v(e._s(e.albumArtist))])],1)])]),i("trans-sound")],1)},ra=[],oa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-toggle",class:{animated:e.useAnim},style:e.buttonIcons,on:{mouseover:function(t){return e.$emit("mouseover")},click:function(t){return e.playMiniSelectSound()}}},[e._t("default"),i("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked},on:{change:function(t){return e.$emit("toggleChanged",!e.isChecked)}}}),i("img",{attrs:{src:e.checkMark}}),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}}),i("audio",{ref:"miniSelectSound",attrs:{src:e.soundMiniSelect}})],2)},ca=[],la={props:{isChecked:Boolean,isFocused:Boolean},watch:{isFocused(e){e&&this.playFocusSound()}},data(){const{wmcassets:e}=this.$store.state.assets;return{btnHovered:Object(r["a"])(e,"button-left-hovered"),btnHighlight:Object(r["a"])(e,"button-left-hovered-overlay"),btnActiveHighlight:Object(r["a"])(e,"button-pressedhighlight"),btnActiveLoop:Object(r["a"])(e,"button-pressedafterglow"),checkMark:Object(r["a"])(e,"checkmark"),soundFocus:F["b"].focus,soundMiniSelect:F["b"].miniSelect}},computed:{buttonIcons(){return{"--btn-hovered":`url(${this.btnHovered})`,"--hovered-highlight":`url(${this.btnHighlight})`,"--active-highlight":`url(${this.btnActiveHighlight})`,"--active-loop":`url(${this.btnActiveLoop})`}},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},playMiniSelectSound(){const e=this.$refs.miniSelectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},ua=la,da=(i("5301"),Object(y["a"])(ua,oa,ca,!1,null,"4bda163a",null)),ha=da.exports,ma=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-edit-np"}},[i("background"),i("div",{attrs:{id:"pane-wrapper"}},[i("div",{attrs:{id:"left-pane"}},[i("div",{attrs:{id:"title"}},[e._v(e._s(e.$t("edit-now-playing")))]),i("button-short",{on:{click:e.done}},[e._v(e._s(e.$t("done")))])],1),i("div",{attrs:{id:"right-pane"}},[i("div",{attrs:{id:"tracklist"}},[i("transition-group",{attrs:{name:e.useAnim?"song":"",tag:"div"}},e._l(e.songList_,(function(t,s){return i("item-edit",{key:t.path,attrs:{itemName:t.title,trackTime:t.duration},on:{moveUp:function(t){return e.swapSongs(s,s-1)},moveDown:function(t){return e.swapSongs(s,s+1)},remove:function(t){return e.removeSong(s)}}})})),1)],1)])]),i("trans-sound")],1)},pa=[],fa={components:{Background:S,ButtonShort:At,ItemEdit:Jt,TransSound:it},props:{songList:Array},data(){const{wmcassets:e}=this.$store.state.assets;return{selectingIndex:0,songList_:[],scrollUpDisabled:Object(r["a"])(e,"scroll-up-disabled"),scrollUpNormal:Object(r["a"])(e,"scroll-up-normal"),scrollUpActive:Object(r["a"])(e,"scroll-up-active"),scrollDownDisabled:Object(r["a"])(e,"scroll-down-disabled"),scrollDownNormal:Object(r["a"])(e,"scroll-down-normal"),scrollDownActive:Object(r["a"])(e,"scroll-down-active")}},mounted(){this.songList_=[...this.songList]},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims"}),getItemTotal(){return this.songList.length},btnScrollUp(){return{"--scroll-up-disabled":`url(${this.scrollUpDisabled})`,"--scroll-up-normal":`url(${this.scrollUpNormal})`,"--scroll-up-active":`url(${this.scrollUpActive})`}},btnScrollDown(){return{"--scroll-down-disabled":`url(${this.scrollDownDisabled})`,"--scroll-down-normal":`url(${this.scrollDownNormal})`,"--scroll-down-active":`url(${this.scrollDownActive})`}}},methods:{removeSong(e){this.songList_.splice(e,1)},swapSongs(e,t){if(e<0||e>=this.songList_.length)return;if(t<0||t>=this.songList_.length)return;const i=this.songList_[e];this.$set(this.songList_,e,this.songList_[t]),this.$set(this.songList_,t,i)},done(){const e=this.songList_.map(e=>e.path);this.$emit("updateNowPlaying",e),this.$emit("back")}}},ga=fa,ba=(i("85c1"),Object(y["a"])(ga,ma,pa,!1,null,"0cca52ff",null)),va=ba.exports,ya=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-songlist"}},[i("background"),i("div",{attrs:{id:"pane-wrapper"}},[i("div",{attrs:{id:"left-pane"}},[i("div",{attrs:{id:"title"}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:function(t){e.showQuitWarning=!0}}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{attrs:{id:"right-pane"}},[i("div",{attrs:{id:"title"}},[e._v(e._s(e.$tc("playlist")))]),i("div",{staticClass:"subtext"},[e._v(" "+e._s(e.$t("save-as-playlist-instruction"))+" ")]),i("textbox",{on:{change:e.handleTextboxChanged}})],1)]),e.showPlaylistExistsWarning?i("dialogue",{key:"existingPlaylistDialog",scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("overwrite-existing-playlist")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("overwrite-existing-playlist-msg",{name:e.playlistNameTemp})))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{class:{selected:e.isDialogLeftBtnActive},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!0},click:e.handleOverwritePlaylist}},[e._v(" "+e._s(e.$t("yes"))+" ")]),i("button-short",{class:{selected:!e.isDialogLeftBtnActive},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!1},click:function(t){e.showPlaylistExistsWarning=!1}}},[e._v(e._s(e.$t("no")))])]},proxy:!0}],null,!1,884794272)}):e._e(),e.showEmptyNameWarning?i("dialogue",{key:"emptyNameDialog",scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("save-as-playlist")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("save-as-playlist-empty-name-msg")))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{staticClass:"selected",attrs:{btnType:"dialog"},on:{click:function(t){e.showEmptyNameWarning=!1}}},[e._v(e._s(e.$t("ok")))])]},proxy:!0}],null,!1,2145881709)}):e._e(),e.showInvalidCharsWarning?i("dialogue",{key:"invalidCharsDialog",scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("save-as-playlist")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("save-as-playlist-invalid-chars-msg")))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{staticClass:"selected",attrs:{btnType:"dialog"},on:{click:function(t){e.showInvalidCharsWarning=!1}}},[e._v(e._s(e.$t("ok"))+" ")])]},proxy:!0}],null,!1,3338557894)}):e._e(),e.showQuitWarning?i("dialogue",{key:"quitDialog",scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("save-as-playlist")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("save-as-playlist-quit-msg")))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{class:{selected:e.isDialogLeftBtnActive},attrs:{isFocused:e.isDialogLeftBtnActive,btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!0},click:e.handleSavePlaylist}},[e._v(e._s(e.$t("yes"))+" ")]),i("button-short",{class:{selected:!e.isDialogLeftBtnActive},attrs:{isFocused:!e.isDialogLeftBtnActive,btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!1},click:function(t){return e.$emit("back")}}},[e._v(e._s(e.$t("no"))+" ")])]},proxy:!0}],null,!1,1619329379)}):e._e(),i("trans-sound")],1)},wa=[],Sa={components:{Background:S,ButtonShort:At,Dialogue:H,Textbox:di,TransSound:it},props:{songList:Array},mixins:[pi],data(){return{playlistNameTemp:"",showPlaylistExistsWarning:!1,showEmptyNameWarning:!1,showInvalidCharsWarning:!1,showQuitWarning:!1,isDialogLeftBtnActive:!0}},mounted(){this.$root.$on("wmcBack",this.back)},beforeDestroy(){this.$root.$off("wmcBack",this.back)},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims"})},methods:{handleTextboxChanged(e){this.playlistNameTemp=e},async handleOverwritePlaylist(){await l["a"].delete(this.playlistFilePath),this.showPlaylistExistsWarning=!1,this.save()},handleSavePlaylist(){this.showQuitWarning=!1,this.save()},async save(){if(""===this.playlistNameTemp)return void(this.showEmptyNameWarning=!0);if(!this.isNameValid)return void(this.showInvalidCharsWarning=!0);const e=await l["a"].isExisting(this.playlistFilePath,this.playlistPath);e?this.showPlaylistExistsWarning=!0:(await this.createList(this.playlistNameTemp,this.songList),this.$emit("back"))},back(){this.showQuitWarning=!0}}},ka=Sa,Ta=(i("892b"),Object(y["a"])(ka,ya,wa,!1,null,"4c1bb3e0",null)),_a=Ta.exports,Ca=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"enter-active-class":"fadeIn faster","leave-active-class":"fadeOut faster"}},[i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-songlist"}},[i("img",{attrs:{id:"static-bg",src:e.bg}}),i("div",{attrs:{id:"wave-bg"}},[i("div",{staticClass:"wave",style:{backgroundImage:"url("+e.waveLarge+")"},attrs:{id:"wave-large"}}),i("div",{staticClass:"wave",style:{backgroundImage:"url("+e.waveSmall+")"},attrs:{id:"wave-small-1"}}),i("div",{staticClass:"wave",style:{backgroundImage:"url("+e.waveSmall+")"},attrs:{id:"wave-small-2"}}),i("div",{staticClass:"wave",style:{backgroundImage:"url("+e.waveSmall+")"},attrs:{id:"wave-small-3"}})]),i("div",{attrs:{id:"pane-wrapper"}},[i("div",{attrs:{id:"left-pane"}},[i("div",{attrs:{id:"title"}},[e._v(e._s(e.$t("now-playing")))]),i("button-short",{on:{click:function(t){return e.$emit("editList")}}},[e._v(e._s(e.$t("edit-list")))]),i("button-short",{on:{click:function(t){return e.$emit("clearList")}}},[e._v(e._s(e.$t("clear-list")))]),i("button-short",{on:{click:function(t){return e.$emit("saveList")}}},[e._v(e._s(e.$t("save-as-playlist")))]),i("button-toggle",{attrs:{isChecked:e.isShuffled},on:{toggleChanged:e.handleIsShuffledChanged}},[e._v(e._s(e.$t("shuffle-list")))]),i("button-toggle",{attrs:{isChecked:e.isRepeated},on:{toggleChanged:e.handleIsRepeatedChanged}},[e._v(e._s(e.$t("repeat-list")))])],1),i("div",{attrs:{id:"right-pane"}},[i("div",{attrs:{id:"album-title"}},[e._v(e._s(e.trackInfo))]),i("div",{attrs:{id:"tracklist"}},e._l(e.songList,(function(t,s){return i("track-playing-button",{key:s,attrs:{isTrackPlaying:e.currentSongIndex===s,trackName:t.title,trackDuration:t.duration,isSelected:e.selectingIndex===s},on:{mouseover:function(t){return e.handleMouseOver(s)},click:function(t){return e.$emit("playSongAtIndex",s)}}})})),1),i("div",{attrs:{id:"item-count"}},[e._v(" "+e._s(e.selectingIndex+1+" of "+e.getItemTotal)+" "),i("button",{style:e.btnScrollUp,attrs:{id:"btn-scrollup",disabled:0===e.selectingIndex},on:{click:function(t){e.selectingIndex--}}}),i("button",{style:e.btnScrollDown,attrs:{id:"btn-scrolldown",disabled:e.selectingIndex===e.songList.length-1},on:{click:function(t){e.selectingIndex++}}})])])]),i("trans-sound")],1)])},Pa=[],xa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"trackplaying-track",class:{animated:e.useAnim},on:{mouseover:e.handleMouseOver,click:function(t){return e.$emit("click")}}},[i("button",{staticClass:"trackplaying-btn",class:{selected:e.isSelected},style:e.buttonIcons},[i("div",{staticClass:"track-name"},[e._v(e._s(e.trackName))]),i("div",{staticClass:"track-duration"},[e._v(e._s(e.getSongDuration(e.trackDuration)))])]),i("track-playing-icon",{style:{visibility:e.isTrackPlaying?"visible":"hidden"}}),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}})],1)},Aa=[],Ia=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"trackplaying-icon"}},[i("img",{attrs:{id:"trackplaying-grid",src:e.trackPlayingGrid}}),i("div",{style:{maskImage:"url("+e.trackPlayingMask+")"},attrs:{id:"trackplaying-bars"}},[i("img",{staticClass:"trackplaying-bar",attrs:{id:"bar1",src:e.trackPlayingBar}}),i("img",{staticClass:"trackplaying-bar",attrs:{id:"bar2",src:e.trackPlayingBar}}),i("img",{staticClass:"trackplaying-bar",attrs:{id:"bar3",src:e.trackPlayingBar}})])])},Oa=[],Ma={data(){const{wmcassets:e}=this.$store.state.assets;return{trackPlayingBar:Object(r["a"])(e,"audio-trackplaying-bar"),trackPlayingGrid:Object(r["a"])(e,"audio-trackplaying-grid"),trackPlayingMask:Object(r["a"])(e,"audio-trackplaying-mask")}}},La=Ma,$a=(i("799f"),Object(y["a"])(La,Ia,Oa,!1,null,"43158e4e",null)),Ea=$a.exports,Da={components:{TrackPlayingIcon:Ea},props:{trackName:{type:String,default:"Track Name"},trackDuration:Number,isTrackPlaying:Boolean,isSelected:Boolean},watch:{isSelected(e){e&&this.playFocusSound()}},data(){const{wmcassets:e}=this.$store.state.assets;return{btnHovered:Object(r["a"])(e,"button-right-hovered"),btnHighlight:Object(r["a"])(e,"button-right-hovered-overlay"),btnActiveHighlight:Object(r["a"])(e,"button-pressedhighlight"),btnActiveLoop:Object(r["a"])(e,"button-pressedafterglow"),soundFocus:F["b"].focus}},computed:{buttonIcons(){return{"--btn-hovered":`url(${this.btnHovered})`,"--hovered-highlight":`url(${this.btnHighlight})`,"--active-highlight":`url(${this.btnActiveHighlight})`,"--active-loop":`url(${this.btnActiveLoop})`}},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{getSongDuration(e){return Object(Yt["b"])(e)},playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},handleMouseOver(){this.$emit("mouseover")}}},Ra=Da,Na=(i("e86d"),Object(y["a"])(Ra,xa,Aa,!1,null,"257c773c",null)),Ba=Na.exports,Fa={components:{ButtonShort:At,ButtonToggle:ha,TrackPlayingButton:Ba,TransSound:it},props:{songList:Array,currentSongIndex:Number},data(){const{wmcassets:e}=this.$store.state.assets;return{selectingIndex:0,bg:Object(r["a"])(e,"music-viewsongs-bg"),waveLarge:Object(r["a"])(e,"nowplaying-wave-large"),waveSmall:Object(r["a"])(e,"nowplaying-wave-small"),scrollUpDisabled:Object(r["a"])(e,"scroll-up-disabled"),scrollUpNormal:Object(r["a"])(e,"scroll-up-normal"),scrollUpActive:Object(r["a"])(e,"scroll-up-active"),scrollDownDisabled:Object(r["a"])(e,"scroll-down-disabled"),scrollDownNormal:Object(r["a"])(e,"scroll-down-normal"),scrollDownActive:Object(r["a"])(e,"scroll-down-active")}},mounted(){this.selectingIndex=this.currentSongIndex||0},computed:{...Object(Y["d"])({isRepeated:"wmcIsRepeated",isShuffled:"wmcIsShuffled",useAnim:"wmcUseAnims"}),getItemTotal(){return this.songList.length},btnScrollUp(){return{"--scroll-up-disabled":`url(${this.scrollUpDisabled})`,"--scroll-up-normal":`url(${this.scrollUpNormal})`,"--scroll-up-active":`url(${this.scrollUpActive})`}},btnScrollDown(){return{"--scroll-down-disabled":`url(${this.scrollDownDisabled})`,"--scroll-down-normal":`url(${this.scrollDownNormal})`,"--scroll-down-active":`url(${this.scrollDownActive})`}},trackInfo(){var e,t;const i=(null===(e=this.songList[this.selectingIndex])||void 0===e?void 0:e.album)||"",s=(null===(t=this.songList[this.selectingIndex])||void 0===t?void 0:t.artist)||"";return i||s?`${i}: ${s}`:""}},methods:{handleIsShuffledChanged(e){this.$store.dispatch(c["a"].WmcShuffle,e)},handleIsRepeatedChanged(e){this.$store.dispatch(c["a"].WmcRepeat,e)},handleMouseOver(e){this.selectingIndex=e}}},ja=Fa,Ua=(i("1b57"),Object(y["a"])(ja,Ca,Pa,!1,null,"3c16cf86",null)),za=Ua.exports,Ha={components:{ButtonShort:At,ButtonToggle:ha,EditList:va,RatingInfo:Ke,SaveAsPlaylist:_a,SongList:za,TransSound:it},props:{albumName:String,albumArtist:String,albumYear:[String,Number],albumArt:String,songList:Array,songTitle:String,songArtist:String,currentTime:String,currentSongIndex:Number},mixins:[u,d,p],data(){const{wmcassets:e}=this.$store.state.assets,t={ViewSongList:0,Loop:1,Repeat:2,Shuffle:3},i={PlayMusic:0,NowPlaying:1,EditNowPlaying:2,SaveAsPlaylist:3};return{Screen:i,options:t,selectingBtn:t.ViewSongList,currScreen:i.PlayMusic,status:0,animTimer:null,animSideTimer:null,isAlbumArtLeft:!1,shouldPlayAnim:!1,showStatusIcon:!1,statusIconTimer:null,currRating:0,gradLeftMenu:Object(r["a"])(e,"music-leftmenu-grad"),gradMeta:Object(r["a"])(e,"music-meta-grad"),iconStatusPause:Object(r["a"])(e,"common-transportfeedback-pause"),iconStatusPlay:Object(r["a"])(e,"common-transportfeedback-play"),iconStatusStop:Object(r["a"])(e,"common-transportfeedback-stop")}},mounted(){this.$root.$on("wmcBack",this.back),this.$root.$on("wmcPause",this.handlePause),this.$root.$on("wmcStop",this.handleStop),this.setAnimTimer(),this.$refs.nowPlaying.focus(),this.getRating()},beforeDestroy(){this.$root.$off("wmcBack",this.back),this.$root.$off("wmcPause",this.handlePause),this.$root.$off("wmcStop",this.handleStop),this.animTimer&&clearTimeout(this.animTimer),this.animSideTimer&&clearTimeout(this.animSideTimer)},watch:{currentSongIndex(){this.getRating()}},computed:{...Object(Y["d"])({isLooped:"wmcIsLooped",isRepeated:"wmcIsRepeated",isShuffled:"wmcIsShuffled",useAnim:"wmcUseAnims",ratings:"wmcRatings",useRatingShortcut:"wmcUseRatingShortcut"}),trackTime(){const e=this.songList[this.currentSongIndex].duration;return Object(Yt["b"])(e)},statusIcon(){return this.status===this.MediaState.Pause?this.iconStatusPause:this.status===this.MediaState.Stop?this.iconStatusStop:this.iconStatusPlay}},methods:{getRating(){var e;const t=this.songList[this.currentSongIndex].path;this.currRating=(null===(e=this.ratings[t])||void 0===e?void 0:e.rating)||0},handleIsLoopedChanged(){this.$store.dispatch(c["a"].WmcLoop,!this.isLooped)},handleIsRepeatedChanged(){this.$store.dispatch(c["a"].WmcRepeat,!this.isRepeated)},handleIsShuffledChanged(){this.$store.dispatch(c["a"].WmcShuffle,!this.isShuffled)},handlePlaySongAtIndex(e){this.$emit("playSongAtIndex",e)},handleUpdateNowPlaying(e){e.length?this.$emit("updateNowPlaying",e):this.$emit("clearList")},async handleKeyDown(e){switch(this.handleRatingShortcut(e,this.songList[this.currentSongIndex].path,"song"),e.key){case"ArrowUp":this.selectingBtn>0&&this.selectingBtn--,this.shouldPlayAnim=!1,this.resetAnimTimer();break;case"ArrowDown":this.selectingBtn<Object.keys(this.options).length-1&&this.selectingBtn++,this.shouldPlayAnim=!1,this.resetAnimTimer();break;case"Backspace":this.back();break;case"Enter":this.selectingBtn===this.options.ViewSongList?this.currScreen=this.Screen.NowPlaying:this.selectingBtn===this.options.Loop?this.handleIsLoopedChanged():this.selectingBtn===this.options.Repeat?this.handleIsRepeatedChanged():this.selectingBtn===this.options.Shuffle&&this.handleIsShuffledChanged(),this.shouldPlayAnim=!1,this.resetAnimTimer();break}},setAnimTimer(){this.animTimer=setTimeout(()=>{this.shouldPlayAnim=!0,this.animSideTimer=setInterval(()=>{this.isAlbumArtLeft=!this.isAlbumArtLeft},3e4)},5e3)},resetAnimTimer(){clearTimeout(this.animTimer),clearTimeout(this.animSideTimer),this.setAnimTimer()},handlePlayAnim(){this.shouldPlayAnim&&(this.shouldPlayAnim=!1,this.isAlbumArtLeft=!1),this.resetAnimTimer()},handlePause(e){this.status=e?this.MediaState.Pause:this.MediaState.Play,clearTimeout(this.statusIconTimer),this.showStatusIcon=!0,e||(this.statusIconTimer=setTimeout(()=>this.showStatusIcon=!1,3e3))},handleStop(){clearTimeout(this.statusIconTimer),this.status=this.MediaState.Stop,this.showStatusIcon=!0},async back(){switch(this.currScreen){case this.Screen.EditNowPlaying:this.currScreen=this.Screen.NowPlaying;break;case this.Screen.NowPlaying:this.currScreen=this.Screen.PlayMusic,this.resetAnimTimer(),await this.$nextTick(),this.$refs.nowPlaying.focus();break;case this.Screen.PlayMusic:this.$emit(V["c"].ChangePage,0)}}}},Va=Ha,Wa=(i("4692"),Object(y["a"])(Va,na,ra,!1,null,"83182ab4",null)),Ga=Wa.exports,Xa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-play-video"}},[i("div",{style:{backgroundImage:"url("+e.bgClock+")"},attrs:{id:"wmc-np-clock"}},[e._v(e._s(e.time))]),i("div",{attrs:{id:"video-progress"}},[i("div",{attrs:{id:"video-seekbar"}},[i("div",{style:{left:e.getShuttlePosition+"%"},attrs:{id:"shuttle"}},[i("div",{attrs:{id:"current-time"}},[e._v(e._s(e.getCurrentTime))]),i("img",{attrs:{id:"state-icon",src:e.isVideoPaused?e.iconPause:e.iconPlay}})]),i("input",{attrs:{id:"seekbar",type:"range",max:e.duration,step:"0.01"},domProps:{value:e.currTime},on:{input:function(t){return e.$emit("seekVideo",t.target.value)}}})]),i("div",{attrs:{id:"total-time"}},[e._v(e._s(e.getDuration))])])])},qa=[],Ya={props:{currTime:Number,duration:Number,isVideoPaused:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{time:this.getTime(),iconPlay:Object(r["a"])(e,"seekbar-play"),iconPause:Object(r["a"])(e,"seekbar-pause"),bgClock:Object(r["a"])(e,"nowplaying-clock-bg")}},computed:{getDuration(){return Object(Yt["b"])(this.duration)},getCurrentTime(){return Object(Yt["b"])(this.currTime)},getShuttlePosition(){const e=0,t=this.duration,i=13.6,s=82.3;return Object(r["k"])(this.currTime,e,t,i,s)}},methods:{getTime(){const e=new Date,t=e.getHours().toString(),i=e.getMinutes().toString().padStart(2,"0");return`${t}:${i}`},updateTime(){setInterval(()=>{this.time=this.getTime()},1e3)},back(){this.$emit(V["c"].ChangePage,4)}},mounted(){this.updateTime(),this.$root.$on("wmcBack",this.back)},beforeDestroy(){this.$root.$off("wmcBack",this.back)}},Ka=Ya,Za=(i("3fa1"),Object(y["a"])(Ka,Xa,qa,!1,null,"ab83cf3c",null)),Qa=Za.exports,Ja=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"powerMenu",class:{animated:e.useAnim},attrs:{id:"wmc-powermenu-wrapper",tabindex:"0"},on:{click:function(t){return e.$emit("back")},keyup:e.handleKeyUp}},[i("div",{style:{borderImageSource:"url("+e.bgFrame+")"},attrs:{id:"wmc-powermenu"},on:{click:function(e){e.stopPropagation()}}},[i("img",{attrs:{id:"wmc-powermenu-bg",src:e.bgPowerMenu}}),i("div",{attrs:{id:"brand"}},[i("img",{attrs:{id:"title",src:e.title}}),i("img",{attrs:{id:"logo",src:e.logo}})]),i("div",{attrs:{id:"power-options"}},e._l(e.buttonList,(function(t,s){return i("button",{key:s,class:["power-option",{selected:e.currIndex===s}],style:t.style,attrs:{id:t.id,tabindex:"-1"},on:{mouseover:function(t){return e.handleMouseOver(s)},click:function(e){return e.stopPropagation(),t.click(e)}}},[i("img",{staticClass:"option-icon",attrs:{src:t.icon}})])})),0),i("div",{attrs:{id:"option-label"}},[e._v(e._s(e.optionLabel))])]),i("trans-sound"),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}})],1)},en=[],tn=i("6bf2"),sn={components:{TransSound:it},data(){const{wmcassets:e}=this.$store.state.assets;return{currIndex:0,title:Object(r["a"])(e,"startmenu-logo-text-small"),logo:Object(r["a"])(e,"startmenu-logo-small"),bgPowerMenu:Object(r["a"])(e,"powermenu-bg"),bgFrame:Object(r["a"])(e,"overlay-outline"),btnNormal:Object(r["a"])(e,"powermenu-button-normal"),btnBlue:Object(r["a"])(e,"powermenu-button-blue-hovered"),btnYellow:Object(r["a"])(e,"powermenu-button-yellow-hovered"),btnRed:Object(r["a"])(e,"powermenu-button-red-hovered"),btnBlueOverlay:Object(r["a"])(e,"powermenu-button-blue-overlay"),btnYellowOverlay:Object(r["a"])(e,"powermenu-button-yellow-overlay"),btnRedOverlay:Object(r["a"])(e,"powermenu-button-red-overlay"),btnPressHighlight:Object(r["a"])(e,"powermenu-button-presshighlight"),iconClose:Object(r["a"])(e,"powermenu-icon-close"),iconLogoff:Object(r["a"])(e,"powermenu-icon-logoff"),iconRestart:Object(r["a"])(e,"powermenu-icon-restart"),iconShutdown:Object(r["a"])(e,"powermenu-icon-shutdown"),soundFocus:F["b"].focus}},mounted(){this.$refs.powerMenu.focus()},computed:{blueBtnStyle(){return{"--btn-blue-normal":`url(${this.btnNormal})`,"--btn-blue-hovered":`url(${this.btnBlue})`,"--btn-blue-overlay":`url(${this.btnBlueOverlay})`,"--btn-blue-presshighlight":`url(${this.btnPressHighlight})`}},redBtnStyle(){return{"--btn-red-normal":`url(${this.btnNormal})`,"--btn-red-hovered":`url(${this.btnRed})`,"--btn-red-overlay":`url(${this.btnRedOverlay})`,"--btn-red-presshighlight":`url(${this.btnPressHighlight})`}},yellowBtnStyle(){return{"--btn-yellow-normal":`url(${this.btnNormal})`,"--btn-yellow-hovered":`url(${this.btnYellow})`,"--btn-yellow-overlay":`url(${this.btnYellowOverlay})`,"--btn-yellow-presshighlight":`url(${this.btnPressHighlight})`}},optionLabel(){const e=["close","logoff","shutdown","restart"];return this.$t(e[this.currIndex])},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50},buttonList(){return[{id:"btn-close",icon:this.iconClose,style:this.redBtnStyle,click:this.close},{id:"btn-logoff",icon:this.iconLogoff,style:this.yellowBtnStyle,click:this.logoff},{id:"btn-shutdown",icon:this.iconShutdown,style:this.redBtnStyle,click:this.shutdown},{id:"btn-restart",icon:this.iconRestart,style:this.blueBtnStyle,click:this.restart}]}},methods:{close(){this.$root.$emit(V["c"].CloseWindow,"mediacenter")},shutdown(){this.$root.$emit(V["c"].ChangeView,V["d"].Shutdown)},restart(){this.$root.$emit(V["c"].ChangeView,V["d"].Restart)},async logoff(){await(this.user?tn["c"].logout():Promise.resolve()),this.$root.$emit(V["c"].ChangeView,V["d"].Switch),this.$store.commit(c["a"].User,null)},playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},handleMouseOver(e){this.currIndex=e,this.playFocusSound()},handleKeyUp(e){switch(e.key){case"ArrowLeft":this.currIndex<=0?this.currIndex=this.buttonList.length-1:this.currIndex--,this.playFocusSound();break;case"ArrowRight":this.currIndex>=this.buttonList.length-1?this.currIndex=0:this.currIndex++,this.playFocusSound();break;case"Enter":this.buttonList[this.currIndex].click();break;case"Backspace":this.$emit("back");break}}}},an=sn,nn=(i("8925c"),Object(y["a"])(an,Ja,en,!1,null,"24ae3dbb",null)),rn=nn.exports,on=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.currScreen===e.Screen["vfx-sfx"]?i("vfx-sfx",{on:{back:e.back}}):e.currScreen===e.Screen["fav-pict"]?i("fav-pict",{on:{back:e.back}}):e.currScreen===e.Screen["fav-music"]?i("fav-music",{on:{back:e.back}}):e.currScreen===e.Screen["now-playing"]?i("now-playing",{on:{back:e.back}}):e.currScreen===e.Screen["slideshow"]?i("slide-shows",{on:{back:e.back}}):e.currScreen===e.Screen["slide-show-screen-saver"]?i("screen-saver",{on:{back:e.back}}):e.currScreen===e.Screen["ratings"]?i("ratings",{on:{back:e.back}}):e.currScreen===e.Screen["media-library"]?i("media-libraries",{on:{back:function(t){e.currScreen=0},findMediaScreen:e.handleFindMediaScreen}}):e.currScreen===e.Screen["excluded-songs"]?i("excluded-songs",{on:{back:e.back}}):e.currScreen===e.Screen["wmc-about"]?i("about",{on:{back:e.back}}):i("div",{staticClass:"wmc-settings",class:{animated:e.$store.state.wmcUseAnims}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}}),i("div",{attrs:{id:"right"}},e._l(e.Screen,(function(t,s,a){return i("button-long",{key:a,class:{selected:e.selectingIndex===a},attrs:{isFocused:e.selectingIndex===a,btnType:"long"},on:{mouseover:function(t){e.selectingIndex=a},click:function(i){e.currScreen=t}}},[e._v(" "+e._s(e.$tc(s,2))+" ")])})),1)])]),i("trans-sound")],1)},cn=[],ln=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wmc-settings",class:{animated:e.$store.state.wmcUseAnims}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$t("wmc-about")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{staticClass:"selected",on:{click:function(t){return e.$emit("back")}}},[e._v(e._s(e.$t("done")))])],1),i("div",{attrs:{id:"right"}},[i("img",{attrs:{id:"logo",src:e.logo}}),e._m(0),i("p",[e._v("This is a replication of the original Windows 7's Windows Media Center for entertainment purposes only.")]),i("p",[e._v("This app and Win7 Simu are in no way affiliated or associated with Microsoft.")])])]),i("trans-sound")],1)},un=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v(" Windows 7"),i("br"),e._v(" with Windows Media Center technologies"),i("br"),e._v(" Copyright  2009 Microsoft Corp. ")])}],dn={components:{ButtonShort:At,TransSound:it},data(){const{wmcassets:e}=this.$store.state.assets;return{selectingIndex:0,logo:Object(r["a"])(e,"logo-medium")}},mounted(){this.$root.$on("wmcBack",this.back)},beforeDestroy(){this.$root.$off("wmcBack",this.back)},methods:{back(){this.$emit(V["c"].ChangePage,0)}}},hn=dn,mn=(i("0159"),Object(y["a"])(hn,ln,un,!1,null,"7939096d",null)),pn=mn.exports,fn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-settings-wrapper"}},[i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-settings"}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$t("excluded-songs")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:function(t){return e.$emit("back")}}},[e._v(e._s(e.$t("cancel")))]),i("button-short",{on:{click:e.handleRestoreAll}},[e._v(e._s(e.$t("restore-all")))])],1),i("div",{attrs:{id:"right"}},[i("div",{staticClass:"section-title"},[e._v(" "+e._s(e.$t("excluded-songs-title"))+" ")]),i("div",{staticClass:"hidden-scrollbar",style:{backgroundImage:"url("+e.boxBorder+")"},attrs:{id:"excluded-song-list"}},e._l(e.excludedSongs_,(function(t,s){return i("div",{key:s,staticClass:"excluded-song"},[i("div",{staticClass:"excluded-song-label"},[e._v(e._s(e.getSongName(t)))]),i("button",{staticClass:"excluded-song-remove",style:e.btnIcons,on:{click:function(t){return e.handleRemoveItem(s)}}})])})),0)])])]),i("trans-sound")],1)},gn=[],bn={components:{ButtonShort:At,TransSound:it},data(){const{wmcassets:e}=this.$store.state.assets;return{iconRemoveNormal:Object(r["a"])(e,"remove-normal"),iconRemoveHovered:Object(r["a"])(e,"remove-hovered"),boxBorder:Object(r["a"])(e,"listmaker-scrollbox"),excludedSongs_:[]}},mounted(){this.useScreenSaver_=this.useScreenSaver,this.screenSaverTimeout_=this.screenSaverTimeout,this.excludedSongs_=[...this.excludedSongs]},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims",excludedSongs:"wmcExcludedSongs"}),btnIcons(){return{"--btn-remove-normal":`url(${this.iconRemoveNormal})`,"--btn-remove-hovered":`url(${this.iconRemoveHovered})`,"--btn-overlay":`url(${this.overlay})`}}},methods:{handleRemoveItem(e){this.excludedSongs_.splice(e,1)},handleRestoreAll(){this.excludedSongs_=[]},getSongName(e){return Object(o["r"])(e).name||""},async save(){this.$store.commit(c["a"].WmcExclude,this.excludedSongs_),await this.$store.dispatch(c["a"].WmcExclude),this.$store.commit(c["a"].ForceUpdate),this.back()},back(){this.$emit("back")}}},vn=bn,yn=(i("1a4dd"),Object(y["a"])(vn,fn,gn,!1,null,"55552e04",null)),wn=yn.exports,Sn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-settings-wrapper"}},[i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-settings"}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$t("fav-music")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:e.back}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{attrs:{id:"right"}},[i("div",{staticClass:"section-title"},[e._v(e._s(e.$t("fav-music-settings-title")))]),i("radio-button",{attrs:{name:"fav-music",id:"user-defined",value:"user-defined",checked:e.useSongs_},on:{change:function(t){e.useSongs_=!e.useSongs_}}},[e._v(e._s(e.$t("fav-music-use-songs"))+" ")]),i("div",{staticClass:"sub-section"},[i("checkbox",{attrs:{checked:e.useRatedSongs_},on:{change:function(t){e.useRatedSongs_=!e.useRatedSongs_}}},[e._v(e._s(e.$t("fav-music-rated-songs")))]),i("checkbox",{attrs:{checked:e.useMostPlayed_},on:{change:function(t){e.useMostPlayed_=!e.useMostPlayed_}}},[e._v(e._s(e.$t("most-played")))])],1)],1)]),i("trans-sound"),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}}),i("audio",{ref:"miniSelectSound",attrs:{src:e.soundMiniSelect}})],1),e.showWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("no-songs-selected")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("no-songs-selected-msg")))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{staticClass:"selected",on:{click:function(t){e.showWarning=!1}}},[e._v(e._s(e.$t("ok")))])]},proxy:!0}],null,!1,1511327567)}):e._e()],1)},kn=[],Tn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim,disabled:e.disabled},attrs:{id:"wmc-checkbox-wrapper"},on:{mouseover:e.handleMouseOver,click:e.handleClick}},[i("div",{attrs:{id:"wmc-checkbox"}},[i("div",{attrs:{id:"checkbox-wrapper"}},[i("div",{staticClass:"checkbox",style:e.wmcCheckbox}),i("div",{staticClass:"checkbox",style:{backgroundImage:"url("+e.checkboxActive+")"},attrs:{id:"checkbox-overlay"}})]),i("label",[e._t("default")],2)]),i("input",{attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:e.checked},on:{input:function(t){return e.$emit("change",t.target.checked)}}}),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}}),i("audio",{ref:"miniSelectSound",attrs:{src:e.soundMiniSelect}})])},_n=[],Cn={props:{checked:Boolean,disabled:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{btnHovered:Object(r["a"])(e,"button-left-hovered"),btnHighlight:Object(r["a"])(e,"button-left-hovered-overlay"),btnActiveHighlight:Object(r["a"])(e,"button-pressedhighlight"),btnActiveLoop:Object(r["a"])(e,"button-pressedafterglow"),checkboxDormant:Object(r["a"])(e,"checkbox-unchecked-dormant"),checkboxNormal:Object(r["a"])(e,"checkbox-unchecked-normal"),checkboxHovered:Object(r["a"])(e,"checkbox-unchecked-hovered"),checkboxCheckedDormant:Object(r["a"])(e,"checkbox-checked-dormant"),checkboxCheckedNormal:Object(r["a"])(e,"checkbox-checked-normal"),checkboxCheckedHovered:Object(r["a"])(e,"checkbox-checked-hovered"),checkboxCheckedDisabled:Object(r["a"])(e,"checkbox-checked-disabled"),checkboxActive:Object(r["a"])(e,"checkbox-active"),soundFocus:F["b"].focus,soundMiniSelect:F["b"].miniSelect}},computed:{wmcCheckbox(){return{"--checkbox-dormant":`url(${this.checked?this.checkboxCheckedDormant:this.checkboxDormant})`,"--checkbox-normal":`url(${this.checked?this.checkboxCheckedNormal:this.checkboxNormal})`,"--checkbox-hovered":`url(${this.checked?this.checkboxCheckedHovered:this.checkboxHovered})`,"--checkbox-disabled":`url(${this.checked?this.checkboxCheckedDisabled:""})`,"--checkbox-active":`url(${this.checkboxActive})`,"--btn-highlight":`url(${this.btnHighlight})`}},useAnim(){return this.$store.state.wmcUseAnims},shouldPlayNavSound(){return this.$store.state.wmcPlayNavSound},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{handleMouseOver(){this.playFocusSound(),this.$emit("mouseover",this.$event)},handleClick(){this.playMiniSelectSound(),this.$emit("click",this.$event)},playFocusSound(){if(!this.disabled){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()}},playMiniSelectSound(){const e=this.$refs.miniSelectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},Pn=Cn,xn=(i("7981"),Object(y["a"])(Pn,Tn,_n,!1,null,"470132dd",null)),An=xn.exports,In={components:{ButtonShort:At,Checkbox:An,Dialogue:H,RadioButton:ni,TransSound:it},data(){const{wmcassets:e}=this.$store.state.assets;return{selectingIndex:0,useSongs_:!0,useRatedSongs_:!0,useMostPlayed_:!0,usePlaylist_:"",showWarning:!1,btnPrevDisabled:Object(r["a"])(e,"spinner-back-disabled"),btnPrevHovered:Object(r["a"])(e,"spinner-back-hovered"),btnPrevNormal:Object(r["a"])(e,"spinner-back-normal"),btnNextDisabled:Object(r["a"])(e,"spinner-next-disabled"),btnNextHovered:Object(r["a"])(e,"spinner-next-hovered"),btnNextNormal:Object(r["a"])(e,"spinner-next-normal"),soundFocus:F["b"].focus,soundMiniSelect:F["b"].miniSelect}},mounted(){this.useSongs_=this.useSongs,this.useRatedSongs_=this.useRatedSongs,this.useMostPlayed_=this.useMostPlayed,this.usePlaylist_=this.usePlaylist},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims",shouldPlayNavSound:"wmcPlayNavSound",useSongs:"wmcFavMusicUseSongs",useRatedSongs:"wmcFavMusicUseRatedSongs",useMostPlayed:"wmcFavMusicUseMostPlayed",usePlaylist:"wmcFavMusicUsePlaylist"}),btnPrevious(){return{"--btn-prev-disabled":`url(${this.btnPrevDisabled})`,"--btn-prev-hovered":`url(${this.btnPrevHovered})`,"--btn-prev-normal":`url(${this.btnPrevNormal})`}},btnNext(){return{"--btn-next-disabled":`url(${this.btnNextDisabled})`,"--btn-next-hovered":`url(${this.btnNextHovered})`,"--btn-next-normal":`url(${this.btnNextNormal})`}},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{back(){this.$emit("back")},async save(){!this.useSongs_||this.useRatedSongs_||this.useMostPlayed_?(await this.$store.dispatch(c["a"].WmcFavMusicUseSongs,this.useSongs_),await this.$store.dispatch(c["a"].WmcFavMusicUseRatedSongs,this.useRatedSongs_),await this.$store.dispatch(c["a"].WmcFavMusicUseMostPlayed,this.useMostPlayed_),await this.$store.dispatch(c["a"].WmcFavMusicUsePlaylist,this.usePlaylist_),this.back()):this.showWarning=!0},playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},playMiniSelectSound(){const e=this.$refs.miniSelectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},On=In,Mn=(i("0b09"),Object(y["a"])(On,Sn,kn,!1,null,"7e586d4f",null)),Ln=Mn.exports,$n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-settings-wrapper"}},[i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-settings"}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$t("fav-music")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:e.back}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{attrs:{id:"right"}},[i("div",{staticClass:"section-title"},[e._v(e._s(e.$t("fav-pict-settings-title")))]),i("radio-button",{attrs:{name:"fav-pict",id:"user-defined",value:"user-defined",checked:"user-defined"===e.favPicts_},on:{change:function(t){e.favPicts_="user-defined"}}},[e._v(" "+e._s(e.$t("fav-pict-use-picts"))+" ")]),i("div",{staticClass:"sub-section"},[i("checkbox",{attrs:{checked:e.useRatedPicts_,disabled:"user-defined"!==e.favPicts_},on:{change:function(t){e.useRatedPicts_=!e.useRatedPicts_}}},[e._v(" "+e._s(e.$t("fav-music-rated-songs"))+" ")]),i("checkbox",{attrs:{checked:e.useUnratedPicts_,disabled:"user-defined"!==e.favPicts_},on:{change:function(t){e.useUnratedPicts_=!e.useUnratedPicts_}}},[e._v(" "+e._s(e.$t("unrated"))+" ")])],1),i("radio-button",{attrs:{name:"fav-pict",id:"all-picts",value:"all-picts",checked:"all-picts"===e.favPicts_},on:{change:function(t){e.favPicts_="all-picts"}}},[e._v(e._s(e.$t("use-all-picts"))+" ")])],1)]),i("trans-sound"),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}}),i("audio",{ref:"miniSelectSound",attrs:{src:e.soundMiniSelect}})],1),e.showWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("no-picts-selected")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("no-picts-selected-msg")))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{staticClass:"selected",on:{click:function(t){e.showWarning=!1}}},[e._v(e._s(e.$t("ok")))])]},proxy:!0}],null,!1,973011695)}):e._e()],1)},En=[],Dn={components:{ButtonShort:At,Checkbox:An,Dialogue:H,RadioButton:ni,TransSound:it},data(){const{wmcassets:e}=this.$store.state.assets;return{selectingIndex:0,favPicts_:"user-defined",useRatedPicts_:!0,useUnratedPicts_:!0,useSlideShow_:"",useFolder_:"",showWarning:!1,btnPrevDisabled:Object(r["a"])(e,"spinner-back-disabled"),btnPrevHovered:Object(r["a"])(e,"spinner-back-hovered"),btnPrevNormal:Object(r["a"])(e,"spinner-back-normal"),btnNextDisabled:Object(r["a"])(e,"spinner-next-disabled"),btnNextHovered:Object(r["a"])(e,"spinner-next-hovered"),btnNextNormal:Object(r["a"])(e,"spinner-next-normal"),soundFocus:F["b"].focus,soundMiniSelect:F["b"].miniSelect}},mounted(){this.favPicts_=this.favPicts,this.useRatedPicts_=this.useRatedPicts,this.useUnratedPicts_=this.useUnratedPicts,this.useSlideShow_=this.useSlideShow,this.useFolder_=this.useFolder},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims",shouldPlayNavSound:"wmcPlayNavSound",favPicts:"wmcFavPicts",useRatedPicts:"wmcFavPictUseRatedPicts",useUnratedPicts:"wmcFavPictUseUnratedPicts",useSlideShow:"wmcFavPictUseSlideShow",useFolder:"wmcFavPictUseFolder"}),btnPrevious(){return{"--btn-prev-disabled":`url(${this.btnPrevDisabled})`,"--btn-prev-hovered":`url(${this.btnPrevHovered})`,"--btn-prev-normal":`url(${this.btnPrevNormal})`}},btnNext(){return{"--btn-next-disabled":`url(${this.btnNextDisabled})`,"--btn-next-hovered":`url(${this.btnNextHovered})`,"--btn-next-normal":`url(${this.btnNextNormal})`}},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{back(){this.$emit("back")},async save(){"user-defined"!==this.favPicts_||this.useRatedPicts_||this.useUnratedPicts_?(await this.$store.dispatch(c["a"].WmcFavPicts,this.favPicts_),await this.$store.dispatch(c["a"].WmcFavPictUseRatedPicts,this.useRatedPicts_),await this.$store.dispatch(c["a"].WmcFavPictUseUnratedPicts,this.useUnratedPicts_),await this.$store.dispatch(c["a"].WmcFavPictUseSlideShow,this.useSlideShow_),await this.$store.dispatch(c["a"].WmcFavPictUseFolder,this.useFolder_),this.back()):this.showWarning=!0},playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},playMiniSelectSound(){const e=this.$refs.miniSelectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},Rn=Dn,Nn=(i("e6b9"),Object(y["a"])(Rn,$n,En,!1,null,"0c46998c",null)),Bn=Nn.exports,Fn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{backgroundImage:"url("+e.bg+")"},attrs:{id:"wmc-media-libraries-wrapper"}},[i("div",{style:{backgroundImage:"url("+e.bgTop+"), url("+e.bgBottom+"), url("+e.spotlight+")"},attrs:{id:"bg"}}),i("div",{attrs:{id:"wmc-media-libraries"}},[i("div",{attrs:{id:"header"}},[i("div",{attrs:{id:"header-title"}},[e._v(e._s(e.$tc("media-library")))]),i("img",{attrs:{id:"logo",src:e.logo}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.SelectLibrary,expression:"currScreen === Screen.SelectLibrary"}],staticClass:"wmc-body",style:{backgroundImage:"url("+e.bigArrow+")"}},[i("div",{staticClass:"page-title"},[e._v(e._s(e.$t("medialib-selectlib-title")))]),i("div",{staticClass:"page-text"},[e._v(" "+e._s(e.$t("medialib-selectlib-desc"))+" ")]),i("div",{staticClass:"options"},[i("radio-button",{attrs:{checked:"music"===e.selectedLib,name:"medialib-option",id:"music",value:"music"},on:{change:e.handleLibSelected}},[e._v(" "+e._s(e.$t("music"))+" ")]),i("radio-button",{attrs:{checked:"picture"===e.selectedLib,name:"medialib-option",id:"picture",value:"picture"},on:{change:e.handleLibSelected}},[e._v(" "+e._s(e.$t("pictures"))+" ")]),i("radio-button",{attrs:{checked:"video"===e.selectedLib,name:"medialib-option",id:"video",value:"video"},on:{change:e.handleLibSelected}},[e._v(" "+e._s(e.$tc("video",2))+" ")])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.SelectAction,expression:"currScreen === Screen.SelectAction"}],staticClass:"wmc-body",style:{backgroundImage:"url("+e.bigArrow+")"}},[i("div",{staticClass:"page-title"},[e._v(e._s(e.$tc(e.selectedLib,2)))]),i("div",{staticClass:"page-text"},[e._v(" "+e._s(e.$t("medialib-selectaction-desc",{path:e.uploadPathMessage}))+" ")]),i("div",{staticClass:"options"},[i("radio-button",{attrs:{checked:"add"===e.selectedAction,name:"action-option",id:"add",value:"add"},on:{change:e.handleActionSelected}},[e._v(" "+e._s(e.$t("add-folders-to-the-library"))+" ")]),i("radio-button",{attrs:{checked:"remove"===e.selectedAction,name:"action-option",id:"remove",value:"remove",disabled:e.isRemoveFoldersDisabled},on:{change:e.handleActionSelected}},[e._v(" "+e._s(e.$t("remove-folders-from-the-library"))+" ")]),i("radio-button",{attrs:{checked:"upload"===e.selectedAction,name:"action-option",id:"upload",value:"upload"},on:{change:e.handleActionSelected}},[e._v(" "+e._s(e.$t("upload-files-from-your-device"))+" ")])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.SelectFolders,expression:"currScreen === Screen.SelectFolders"}],staticClass:"wmc-body",style:{backgroundImage:"url("+e.bigArrow+")"}},[i("div",{staticClass:"page-title"},[e._v(e._s(e.$t("medialib-selectfolders-title",{library:e.$tc(e.selectedLib,2)})))]),i("div",{staticClass:"browse-folders hidden-scrollbar",style:{backgroundImage:"url("+e.boxOutline+")"}},e._l(e.folderList,(function(t,s){return i("div",{key:s,staticClass:"folder-item",style:{backgroundImage:e.currFolder===s?"url("+e.bgItemHovered+")":""}},[i("checkbox",{attrs:{disabled:t.disabled,checked:t.checked},on:{mouseover:function(t){e.currFolder=s},click:function(i){return e.addPath(t)}}}),i("button",{staticClass:"btn-expand",style:Object.assign({},{visibility:t.canExpand?"visible":"hidden",marginLeft:6*t.level+"%"},t.isExpanded?e.btnCollapse:e.btnExpand),on:{click:function(t){return e.expandFolder(s)},mouseover:function(t){e.currFolder=s}}}),i("div",{staticClass:"folder-name"},[e._v(" "+e._s(e.getFolderName(t))+" ")])],1)})),0),i("div",{staticClass:"folder-name mt-5",staticStyle:{color:"#fff"}},[e._v(e._s(e.currFolderFullPath))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.RemoveFolders,expression:"currScreen === Screen.RemoveFolders"}],staticClass:"wmc-body",style:{backgroundImage:"url("+e.bigArrow+")"}},[i("div",{staticClass:"page-title"},[e._v(e._s(e.$t("medialib-removefolders-title",{library:e.$tc(e.selectedLib,2)})))]),i("div",{staticClass:"page-text"},[e._v(" "+e._s(e.$t("medialib-removefolders-desc"))+" ")]),i("div",{staticClass:"browse-folders hidden-scrollbar"},e._l(e.folderToRemoveList,(function(t,s){return i("div",{key:s,staticClass:"folder-item"},[i("checkbox",{attrs:{checked:t.checked},on:{mouseover:function(t){e.currFolder=s},click:function(i){return e.removePath(t)}}}),i("div",{staticClass:"folder-name"},[e._v(" "+e._s(t.fullPath)+" ")])],1)})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.Review,expression:"currScreen === Screen.Review"}],staticClass:"wmc-body",style:{backgroundImage:"url("+e.bigArrow+")"}},[i("div",{staticClass:"page-title"},[e._v(e._s(e.reviewTitle))]),i("div",{staticClass:"page-text"},[e._v(" "+e._s(e.reviewSubtext)+" ")]),i("div",{staticClass:"browse-folders-small hidden-scrollbar"},e._l(e.folderReviewList,(function(t){return i("div",{key:t,staticClass:"folder-item-small"},[e._v(" "+e._s(t)+" ")])})),0),i("div",{staticClass:"page-text"},[e._v(e._s(e.$t("medialib-finish-msg")))]),i("div",{staticClass:"options"},[i("radio-button",{attrs:{checked:"yes"===e.selectedConfirmation,name:"confirm-option",id:"yes",value:"yes"},on:{change:e.handleConfirmationSelected}},[e._v(" "+e._s(e.$t("medialib-finish-yes"))+" ")]),i("radio-button",{attrs:{checked:"no"===e.selectedConfirmation,name:"confirm-option",id:"no",value:"no"},on:{change:e.handleConfirmationSelected}},[e._v(" "+e._s(e.$t("medialib-finish-no"))+" ")])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.Cancel,expression:"currScreen === Screen.Cancel"}],staticClass:"wmc-body",style:{backgroundImage:"url("+e.bigCheckmark+")"}},[i("div",{staticClass:"page-title"},[e._v(e._s(e.$t("setup-canceled")))]),i("div",{staticClass:"page-text"},[e._v(" "+e._s(e.$t("medialib-cancel-desc1"))+" ")]),i("div",{staticClass:"page-text"},[e._v(" "+e._s(e.$t("medialib-cancel-desc2"))+" ")])]),i("div",{attrs:{id:"footer"}},[i("wmc-button",{directives:[{name:"show",rawName:"v-show",value:e.currScreen!==e.Screen.SelectLibrary,expression:"currScreen !== Screen.SelectLibrary"}],attrs:{btnType:"small"},on:{click:e.handleBack}},[e._v(e._s(e.$t("back")))]),i("wmc-button",{directives:[{name:"show",rawName:"v-show",value:e.currScreen!==e.Screen.Review&&e.currScreen!==e.Screen.Cancel,expression:"currScreen !== Screen.Review && currScreen !== Screen.Cancel"}],attrs:{disabled:e.isNextDisabled,btnType:"small"},on:{click:e.handleNext}},[e._v(e._s(e.$t("next"))+" ")]),i("wmc-button",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.Review&&"no"!==e.selectedConfirmation||e.currScreen===e.Screen.Cancel,expression:"(currScreen === Screen.Review && selectedConfirmation !== 'no') || currScreen === Screen.Cancel"}],attrs:{disabled:e.currScreen===e.Screen.Review&&""===e.selectedConfirmation,btnType:"small"},on:{click:e.handleFinish}},[e._v(e._s(e.$t("finish"))+" ")]),i("wmc-button",{directives:[{name:"show",rawName:"v-show",value:e.currScreen===e.Screen.Review&&"no"===e.selectedConfirmation,expression:"currScreen === Screen.Review && selectedConfirmation === 'no'"}],attrs:{btnType:"small"},on:{click:e.handleContinue}},[e._v(e._s(e.$t("continue"))+" ")]),i("wmc-button",{style:{visibility:e.currScreen!==e.Screen.Cancel?"visible":"hidden"},attrs:{btnType:"small"},on:{click:e.handleCancel}},[e._v(e._s(e.$t("cancel"))+" ")])],1)]),i("trans-sound",{ref:"transSound"})],1)},jn=[],Un=i("eb54b"),zn=i("e302"),Hn={components:{Checkbox:An,RadioButton:ni,TransSound:it,WmcButton:At},mixins:[Un["a"]],mounted(){this.$root.$on("wmcBack",this.handleBack),this.$emit("findMediaScreen",!0)},beforeDestroy(){this.$emit("findMediaScreen",!1),this.$root.$off("wmcBack",this.handleBack)},data(){const{wmcassets:e}=this.$store.state.assets,t={SelectLibrary:0,SelectAction:1,SelectFolders:2,RemoveFolders:3,Review:4,Cancel:5};return{Screen:t,selectedLib:"",selectedAction:"",selectedConfirmation:"",folderList:[],folderToRemoveList:[],folderReviewList:[],currScreen:0,prevScreen:0,currFolder:0,foldersToAdd:{music:[],picture:[],video:[]},foldersToRemove:{music:[],picture:[],video:[]},logo:Object(r["a"])(e,"logo-home"),bg:Object(r["a"])(e,"findmedia-background"),bgBottom:Object(r["a"])(e,"findmedia-bg-bottom"),bgTop:Object(r["a"])(e,"findmedia-bg-top"),spotlight:Object(r["a"])(e,"findmedia-bg-spotlight"),bigArrow:Object(r["a"])(e,"findmedia-bg-bigarrow"),bigCheckmark:Object(r["a"])(e,"findmedia-bg-bigcheckmark"),boxOutline:Object(r["a"])(e,"listmaker-scrollbox"),btnExpandNormal:Object(r["a"])(e,"spinner-next-normal"),btnExpandHovered:Object(r["a"])(e,"spinner-next-hovered"),btnCollapseNormal:Object(r["a"])(e,"spinner-back-normal"),btnCollapseHovered:Object(r["a"])(e,"spinner-back-hovered"),bgItemHovered:Object(r["a"])(e,"scrollitem-findmedia")}},computed:{...Object(Y["d"])({user:"user",systemPath:"systemPath",savedSearchFolders:"wmcSearchFolders"}),btnExpand(){return{"--btn-normal":`url(${this.btnExpandNormal})`,"--btn-hovered":`url(${this.btnExpandHovered})`}},btnCollapse(){return{"--btn-normal":`url(${this.btnCollapseNormal})`,"--btn-hovered":`url(${this.btnCollapseHovered})`}},isNextDisabled(){return this.currScreen===this.Screen.SelectLibrary&&""===this.selectedLib||this.currScreen===this.Screen.SelectAction&&""===this.selectedAction},currFolderFullPath(){var e;return(null===(e=this.folderList[this.currFolder])||void 0===e?void 0:e.fullPath)||""},userPath(){return`${this.systemPath}/Users/${this.user?this.user.uid:"Guest"}`},musicSearchPaths(){return[this.userPath+"/Music",...this.savedSearchFolders.music||[]]},pictureSearchPaths(){return[this.userPath+"/Pictures",...this.savedSearchFolders.picture||[]]},videoSearchPaths(){return[this.userPath+"/Videos",...this.savedSearchFolders.video||[]]},isRemoveFoldersDisabled(){return!(this.savedSearchFolders[this.selectedLib]||[]).length},reviewTitle(){return"add"!==this.selectedAction||this.currFoldersToAdd.length?"remove"!==this.selectedAction||this.currFoldersToRemove.length?this.$t("confirm-changes"):this.$t("no-folders-removed"):this.$t("no-folders-added")},reviewSubtext(){return"add"===this.selectedAction&&!this.currFoldersToAdd.length||"remove"===this.selectedAction&&!this.currFoldersToRemove.length?this.$t("no-changes-will-be-made"):this.$t("medialib-review-desc")},currFoldersToAdd(){return this.foldersToAdd[this.selectedLib]||[]},currFoldersToRemove(){return this.foldersToRemove[this.selectedLib]||[]},rootPaths(){return{music:this.userPath+"/Music",picture:this.userPath+"/Pictures",video:this.userPath+"/Videos"}},uploadFilter(){const e={music:"audio/*",picture:"image/*",video:"video/*"};return e[this.selectedLib]||""},uploadPathMessage(){const e=this.rootPaths[this.selectedLib]||"";return e.replace(this.systemPath,"C:").replaceAll("/","\\")}},methods:{handleLibSelected(e){this.selectedLib=e},handleActionSelected(e){this.selectedAction=e},handleConfirmationSelected(e){this.selectedConfirmation=e},handleBack(){switch(this.currScreen){case this.Screen.SelectAction:this.currScreen=this.Screen.SelectLibrary,this.playTransSound();break;case this.Screen.SelectFolders:this.currScreen=this.Screen.SelectAction,this.playTransSound();break;case this.Screen.RemoveFolders:this.currScreen=this.Screen.SelectAction,this.playTransSound();break;case this.Screen.Review:"add"===this.selectedAction?this.currScreen=this.Screen.SelectFolders:"remove"===this.selectedAction?this.currScreen=this.Screen.RemoveFolders:"upload"===this.selectedAction&&(this.currScreen=this.Screen.SelectAction),this.playTransSound();break;case this.Screen.Cancel:this.currScreen=this.prevScreen,this.playTransSound();break;default:this.$emit("back")}},async handleNext(){switch(this.currScreen){case this.Screen.SelectLibrary:this.selectedAction="",this.currScreen=this.Screen.SelectAction,this.playTransSound();break;case this.Screen.SelectAction:"add"===this.selectedAction?(this.showSelectFoldersScreen(),this.playTransSound()):"remove"===this.selectedAction?(this.getPathsToRemove(),this.currScreen=this.Screen.RemoveFolders,this.playTransSound()):"upload"===this.selectedAction&&(await this.upload(),this.getFolderReviewList(),this.selectedConfirmation="",this.currScreen=this.Screen.Review,this.playTransSound());break;case this.Screen.SelectFolders:case this.Screen.RemoveFolders:this.selectedConfirmation="",this.getFolderReviewList(),this.currScreen=this.Screen.Review,this.playTransSound();break}},async handleFinish(){if(this.currScreen===this.Screen.Cancel)return void this.$emit("back");this.folderReviewList=[];let e={...this.foldersToAdd};for(const t of Object.keys(this.foldersToAdd))Array.isArray(e[t])||(e[t]=[]),e[t].push(...this.savedSearchFolders[t]||[]),e[t]=[...new Set(e[t])],e[t]=e[t].filter(e=>!(this.foldersToRemove[t]||[]).includes(e));await this.$store.dispatch(c["a"].WmcSearchFolders,e),this.$store.commit(c["a"].ForceUpdate),this.$emit("back")},handleContinue(){this.selectedLib="",this.currScreen=this.Screen.SelectLibrary,this.playTransSound()},handleCancel(){this.prevScreen=this.currScreen,this.currScreen=this.Screen.Cancel,this.playTransSound()},async expandFolder(e){const t=this.folderList[e];if(t.isExpanded=!t.isExpanded,t.isExpanded){const i=await l["a"].list(t.uri);let s=[];for(const e of i)"directory"===e.type&&s.push({name:e.name,uri:e.uri,fullPath:e.uri.replace(this.systemPath,"C:").replaceAll("/","\\"),isExpanded:!1,canExpand:await this.hasSubFolders(e.uri),level:t.level+1,checked:this.isFolderChecked(e.uri),disabled:this.isFolderDisabled(e.uri)});this.folderList.splice(e+1,0,...s)}else{let i=[];for(let s=e+1;s<this.folderList.length;s++)if(this.folderList[s].level>t.level&&i.push(s),this.folderList[s].level<=t.level)break;this.folderList=this.folderList.filter((e,t)=>!i.includes(t))}},async hasSubFolders(e){const t=await l["a"].list(e);for(const i of t)if("directory"===i.type)return!0;return!1},isFolderChecked(e){if(this.isFolderDisabled(e))return!0;const t=[...this.currFoldersToAdd,...this[this.selectedLib+"SearchPaths"]||[]];return t.some(t=>e.includes(t))},isFolderDisabled(e){const t=this[this.selectedLib+"SearchPaths"]||[];return!this.currFoldersToAdd.includes(e)&&(t.includes(e)||this.currFoldersToAdd.some(t=>e.includes(t))||t.some(t=>e.includes(t)))},addPath(e){this.currFoldersToAdd.includes(e.uri)?this.foldersToAdd[this.selectedLib]=this.currFoldersToAdd.filter(t=>t!==e.uri||!t.includes(e.uri)):(this.foldersToAdd[this.selectedLib]=this.currFoldersToAdd.filter(t=>!t.includes(e.uri)),this.foldersToAdd[this.selectedLib]?this.foldersToAdd[this.selectedLib].push(e.uri):this.foldersToAdd[this.selectedLib]=[e.uri]),this.updateCheckboxes()},removePath(e){this.currFoldersToRemove.includes(e.uri)?(this.foldersToRemove[this.selectedLib]=this.currFoldersToRemove.filter(t=>t!==e.uri),e.checked=!0):(this.foldersToRemove[this.selectedLib]?this.currFoldersToRemove.push(e.uri):this.foldersToRemove[this.selectedLib]=[e.uri],e.checked=!1)},updateCheckboxes(){for(const e of this.folderList)e.checked=this.isFolderChecked(e.uri),e.disabled=this.isFolderDisabled(e.uri)},getFolderName(e){return this.currFoldersToAdd.includes(e.uri)&&e.canExpand?this.$t("n-including-subfolders",{name:e.name}):e.name},getPathsToRemove(){this.folderToRemoveList=[];const e=this.savedSearchFolders[this.selectedLib]||[];for(const t of e)this.folderToRemoveList.push({uri:t,fullPath:t.replace(this.systemPath,"C:").replaceAll("/","\\"),checked:!this.currFoldersToRemove.includes(t)})},getFolderReviewList(){this.folderReviewList=[];let e={...this.foldersToAdd};for(const t of Object.keys(this.foldersToAdd))Array.isArray(e[t])||(e[t]=[]),e[t].push(...this.savedSearchFolders[t]||[]),e[t]=[...new Set(e[t])],e[t]=e[t].filter(e=>!(this.foldersToRemove[t]||[]).includes(e)),e[t].forEach(e=>{const i=e.replace(this.systemPath,"C:").replaceAll("/","\\");this.folderReviewList.push(`[${this.$tc(t,1)}] ${i}`)})},async upload(){const e=this.rootPaths[this.selectedLib],{files:t}=await Object(zn["h"])(!0,this.uploadFilter),i=Array.from(t),s=i.map(e=>e.size).reduce((e,t)=>e+t,0);this.emitProgress({title:"Uploading",header:`Uploading ${i.length} items (${Object(hi["h"])(s)})`,message:"from your device to "+e});const a=i.map(async t=>{const i=await this._getFileNames(e),s=Object(hi["a"])(t.name,i),a=await Object(re["d"])(t),n=`${e}/${s}`,o=Object(r["h"])(a)?l["a"].mkdir(n):l["a"].write(a,n);try{await o}catch(u){this.emitError(u.message||u)}this.$store.commit(c["a"].ForceUpdate)});try{await Promise.all(a)}catch(n){this.emitError(n.message||n)}this.dismissProgress()},async _getFileNames(e){try{return(await l["a"].list(e)).map(e=>({lbl:e.name}))}catch(t){return[]}},playTransSound(){const e=this.$refs.transSound;e.playSelectSound()},async showSelectFoldersScreen(){const e=`${this.systemPath}/Users/${this.user?this.user.uid:"Guest"}/Desktop`,t=e.replace(this.systemPath,"C:").replaceAll("/","\\"),i=`${this.systemPath}/Users/${this.user?this.user.uid:"Guest"}`,s=i.replace(this.systemPath,"C:").replaceAll("/","\\");this.folderList=[{name:this.$t("desktop"),uri:e,fullPath:t,isExpanded:!1,canExpand:await this.hasSubFolders(e),level:0,checked:this.isFolderChecked(e),disabled:this.isFolderDisabled(e)},{name:this.user?this.user.uid:"Guest",uri:i,fullPath:s,isExpanded:!1,canExpand:await this.hasSubFolders(i),level:0,checked:this.isFolderChecked(i),disabled:this.isFolderDisabled(i)},{name:this.$t("local-drive-c"),uri:this.systemPath,fullPath:"C:\\",isExpanded:!1,canExpand:await this.hasSubFolders(this.systemPath),level:0,checked:this.isFolderChecked(this.systemPath),disabled:this.isFolderDisabled(this.systemPath)}],this.currScreen=this.Screen.SelectFolders}}},Vn=Hn,Wn=(i("ee19"),Object(y["a"])(Vn,Fn,jn,!1,null,"641cf8b1",null)),Gn=Wn.exports,Xn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-settings"}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$t("now-playing")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:e.back}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{attrs:{id:"right"}},[i("div",{staticClass:"section-title"},[e._v(e._s(e.$t("now-playing-background")))]),i("radio-button",{attrs:{name:"np-bg",id:"moving",value:"moving",checked:"moving"===e.nowPlayingBg},on:{change:function(t){e.nowPlayingBg="moving"}}},[e._v(e._s(e.$t("np-bg-moving-images")))]),i("radio-button",{attrs:{name:"np-bg",id:"still",value:"still",checked:"still"===e.nowPlayingBg},on:{change:function(t){e.nowPlayingBg="still"}}},[e._v(e._s(e.$t("np-bg-still-images")))]),i("radio-button",{attrs:{name:"np-bg",id:"none",value:"none",checked:"none"===e.nowPlayingBg},on:{change:function(t){e.nowPlayingBg="none"}}},[e._v(e._s(e.$t("none")))])],1)]),i("trans-sound")],1)},qn=[],Yn={components:{ButtonShort:At,RadioButton:ni,TransSound:it},data(){return{selectingIndex:0,nowPlayingBg:"moving"}},mounted(){this.nowPlayingBg=this.npBg},computed:{npBg(){return this.$store.state.wmcNpBg},useAnim(){return this.$store.state.wmcUseAnims}},methods:{back(){this.$emit("back")},async save(){await this.$store.dispatch(c["a"].WmcNpBg,this.nowPlayingBg),this.back()}}},Kn=Yn,Zn=(i("d5fe"),Object(y["a"])(Kn,Xn,qn,!1,null,"cb7eff8c",null)),Qn=Zn.exports,Jn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-settings"}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$t("ratings")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:function(t){return e.$emit("back")}}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{attrs:{id:"right"}},[i("div",{staticClass:"section-title"},[e._v(" "+e._s(e.$t("rating-shortcut-title"))+" ")]),i("checkbox",{attrs:{checked:e.useRatingShortcut_},on:{change:function(t){e.useRatingShortcut_=!e.useRatingShortcut_}}},[e._v(e._s(e.$t("use-rating-shortcut")))])],1)]),i("trans-sound")],1)},er=[],tr={components:{ButtonShort:At,Checkbox:An,TransSound:it},data(){return{selectingIndex:0,useRatingShortcut_:!0}},mounted(){this.useRatingShortcut_=this.useRatingShortcut},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims",useRatingShortcut:"wmcUseRatingShortcut"})},methods:{async save(){await this.$store.dispatch(c["a"].WmcUseRatingShortcut,this.useRatingShortcut_),this.back()},back(){this.$emit("back")}}},ir=tr,sr=(i("10d9"),Object(y["a"])(ir,Jn,er,!1,null,"a8b43aac",null)),ar=sr.exports,nr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wmc-settings-wrapper"}},[i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-settings"}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$t("slide-show-screen-saver")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{attrs:{disabled:!e.isTimeoutValid},on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:function(t){return e.$emit("back")}}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{attrs:{id:"right"}},[i("div",{staticClass:"section-title"},[e._v(" "+e._s(e.$t("slide-show-screen-saver-title"))+" ")]),i("checkbox",{attrs:{checked:e.useScreenSaver_},on:{change:function(t){e.useScreenSaver_=!e.useScreenSaver_}}},[e._v(e._s(e.$t("use-slide-show-screen-saver")))]),i("img",{staticClass:"bottom-line",attrs:{src:e.bottomLine}}),i("div",{staticClass:"section-title",class:{disabled:!e.useScreenSaver_}},[e._v(" "+e._s(e.$t("slide-show-screen-saver-timeout"))+" ")]),i("div",{attrs:{id:"numberbox"}},[i("textbox",{attrs:{disabled:!e.useScreenSaver_,type:"number",value:e.screenSaverTimeout_},on:{change:e.handleNumberboxChanged}}),e._v(" "+e._s(e.$t("minutes"))+" ")],1)],1)])]),e.showInvalidTimeoutWarning?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("invalid-timeout")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("invalid-timeout-msg")))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{staticClass:"selected",on:{click:function(t){e.showInvalidTimeoutWarning=!1}}},[e._v(e._s(e.$t("ok")))])]},proxy:!0}],null,!1,2147532005)}):e._e(),i("trans-sound")],1)},rr=[],or={components:{ButtonShort:At,Checkbox:An,Dialogue:H,Textbox:di,TransSound:it},data(){const{wmcassets:e}=this.$store.state.assets;return{selectingIndex:0,useScreenSaver_:!0,screenSaverTimeout_:1,showInvalidTimeoutWarning:!1,bottomLine:Object(r["a"])(e,"options-bottomline")}},mounted(){this.useScreenSaver_=this.useScreenSaver,this.screenSaverTimeout_=this.screenSaverTimeout},computed:{...Object(Y["d"])({useAnim:"wmcUseAnims",useScreenSaver:"wmcUseScreenSaver",screenSaverTimeout:"wmcScreenSaverTimeout"}),isTimeoutValid(){return""!==this.screenSaverTimeout_&&this.screenSaverTimeout_>=1&&this.screenSaverTimeout_<=9999}},methods:{handleNumberboxChanged(e){this.screenSaverTimeout_=e,""!==e&&(e<1||e>9999)&&(this.showInvalidTimeoutWarning=!0)},async save(){await this.$store.dispatch(c["a"].WmcUseScreenSaver,this.useScreenSaver_),await this.$store.dispatch(c["a"].WmcScreenSaverTimeout,this.screenSaverTimeout_),this.back()},back(){this.$emit("back")}}},cr=or,lr=(i("7b44"),Object(y["a"])(cr,nr,rr,!1,null,"a68e3a22",null)),ur=lr.exports,dr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnim},attrs:{id:"wmc-settings"}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$tc("slideshow",2)))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:e.back}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{attrs:{id:"right"}},[i("checkbox",{attrs:{checked:e.shouldShowRandom},on:{change:function(t){e.shouldShowRandom=!e.shouldShowRandom}}},[e._v(e._s(e.$t("wmc-settings-slideshow-random")))]),i("checkbox",{attrs:{checked:e.shouldShowInfo},on:{change:function(t){e.shouldShowInfo=!e.shouldShowInfo}}},[e._v(e._s(e.$t("wmc-settings-slideshow-pictinfo")))]),i("checkbox",{attrs:{checked:e.shouldShowSongInfo},on:{change:function(t){e.shouldShowSongInfo=!e.shouldShowSongInfo}}},[e._v(e._s(e.$t("wmc-settings-slideshow-songinfo")))]),i("checkbox",{attrs:{checked:e.shouldPanAndZoom},on:{change:function(t){e.shouldPanAndZoom=!e.shouldPanAndZoom}}},[e._v(e._s(e.$t("wmc-settings-slideshow-panzoom")))]),i("img",{staticClass:"bottom-line",attrs:{src:e.bottomLine}}),i("div",{staticClass:"section-title"},[e._v(e._s(e.$t("wmc-settings-slideshow-duration")))]),i("div",{attrs:{id:"numberbox"}},[i("textbox",{attrs:{type:"number",value:e.pictDuration},on:{change:e.handleNumberboxChanged}}),e._v(" "+e._s(e.$t("seconds"))+" ")],1),i("img",{staticClass:"bottom-line",attrs:{src:e.bottomLine}}),i("div",{staticClass:"section-title"},[e._v(e._s(e.$t("wmc-settings-slideshow-bgcolor")))]),i("div",{attrs:{id:"color-selector"}},[i("div",{style:{backgroundColor:e.background},attrs:{id:"color"}},[i("div",{style:{color:"#fff"===e.background?"#000":"#fff"},attrs:{id:"color-name"}},[e._v(e._s(e.$t(e.colorName)))])]),i("button",{style:e.btnPrevious,attrs:{id:"previous-color",disabled:e.isPrevBtnDisabled},on:{click:e.navPrevColor,mouseover:function(t){return e.playFocusSound()}}}),i("button",{style:e.btnNext,attrs:{id:"next-color",disabled:e.isNextBtnDisabled},on:{click:e.navNextColor,mouseover:function(t){return e.playFocusSound()}}})])],1)]),i("trans-sound"),i("audio",{ref:"focusSound",attrs:{src:e.soundFocus}}),i("audio",{ref:"miniSelectSound",attrs:{src:e.soundMiniSelect}})],1)},hr=[],mr={components:{ButtonShort:At,Checkbox:An,Textbox:di,TransSound:it},data(){const{wmcassets:e}=this.$store.state.assets,t={"#fff":"white","#888":"gray","#000":"black"};return{selectingIndex:0,shouldShowRandom:!0,shouldShowInfo:!0,shouldShowSongInfo:!0,shouldPanAndZoom:!0,pictDuration:12,background:"#000",colorOptions:t,btnPrevDisabled:Object(r["a"])(e,"spinner-back-disabled"),btnPrevHovered:Object(r["a"])(e,"spinner-back-hovered"),btnPrevNormal:Object(r["a"])(e,"spinner-back-normal"),btnNextDisabled:Object(r["a"])(e,"spinner-next-disabled"),btnNextHovered:Object(r["a"])(e,"spinner-next-hovered"),btnNextNormal:Object(r["a"])(e,"spinner-next-normal"),bottomLine:Object(r["a"])(e,"options-bottomline"),soundFocus:F["b"].focus,soundMiniSelect:F["b"].miniSelect}},mounted(){this.shouldShowRandom=this.showRandom,this.shouldShowInfo=this.showPictInfo,this.shouldShowSongInfo=this.showSongInfo,this.shouldPanAndZoom=this.usePanAndZoom,this.pictDuration=this.showPictDuration,this.background=this.bgColor},computed:{...Object(Y["d"])({showRandom:"wmcSlideShowRandom",showPictInfo:"wmcSlideShowInfo",showSongInfo:"wmcSlideShowSongInfo",usePanAndZoom:"wmcUsePanAndZoom",showPictDuration:"wmcSlideShowPictDuration",bgColor:"wmcSlideShowBgColor",useAnim:"wmcUseAnims",shouldPlayNavSound:"wmcPlayNavSound"}),btnPrevious(){return{"--btn-prev-disabled":`url(${this.btnPrevDisabled})`,"--btn-prev-hovered":`url(${this.btnPrevHovered})`,"--btn-prev-normal":`url(${this.btnPrevNormal})`}},btnNext(){return{"--btn-next-disabled":`url(${this.btnNextDisabled})`,"--btn-next-hovered":`url(${this.btnNextHovered})`,"--btn-next-normal":`url(${this.btnNextNormal})`}},colorName(){return this.colorOptions[this.background]},isPrevBtnDisabled(){const e=Object.keys(this.colorOptions),t=e.indexOf(this.background);return 0===t},isNextBtnDisabled(){const e=Object.keys(this.colorOptions),t=e.indexOf(this.background);return t===e.length-1},isMuted(){return this.$store.state.wmcIsMuted||!this.shouldPlayNavSound},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},methods:{back(){this.$emit("back")},async save(){await this.$store.dispatch(c["a"].WmcSlideShowRandom,this.shouldShowRandom),await this.$store.dispatch(c["a"].WmcSlideShowInfo,this.shouldShowInfo),await this.$store.dispatch(c["a"].WmcSlideShowSongInfo,this.shouldShowSongInfo),await this.$store.dispatch(c["a"].WmcUsePanAndZoom,this.shouldPanAndZoom),await this.$store.dispatch(c["a"].WmcSlideShowPictDuration,this.pictDuration),await this.$store.dispatch(c["a"].WmcSlideShowBgColor,this.background),this.back()},handleNumberboxChanged(e){this.pictDuration=Math.max(Math.min(e,60),2)},navNextColor(){const e=Object.keys(this.colorOptions),t=e.indexOf(this.background);this.background=e[t+1],this.playMiniSelectSound()},navPrevColor(){const e=Object.keys(this.colorOptions),t=e.indexOf(this.background);this.background=e[t-1],this.playMiniSelectSound()},playFocusSound(){const e=this.$refs.focusSound;e.volume=this.volume,e.currentTime=0,e.play()},playMiniSelectSound(){const e=this.$refs.miniSelectSound;e.volume=this.volume,e.currentTime=0,e.play()}}},pr=mr,fr=(i("cde0"),Object(y["a"])(pr,dr,hr,!1,null,"e4a763bc",null)),gr=fr.exports,br=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{animated:e.useAnims},attrs:{id:"wmc-settings"}},[i("div",{attrs:{id:"settings-title"}},[e._v(e._s(e.$t("settings")))]),i("div",{attrs:{id:"settings-page-title"}},[e._v(e._s(e.$t("vfx-sfx")))]),i("div",{attrs:{id:"settings"}},[i("div",{attrs:{id:"left"}},[i("button-short",{on:{click:e.save}},[e._v(e._s(e.$t("save")))]),i("button-short",{on:{click:e.back}},[e._v(e._s(e.$t("cancel")))])],1),i("div",{attrs:{id:"right"}},[i("checkbox",{attrs:{checked:e.shouldUseAnims},on:{change:function(t){e.shouldUseAnims=!e.shouldUseAnims}}},[e._v(e._s(e.$t("wmc-settings-useanim")))]),i("checkbox",{attrs:{checked:e.shouldPlayNavSound},on:{change:function(t){e.shouldPlayNavSound=!e.shouldPlayNavSound}}},[e._v(e._s(e.$t("wmc-settings-playnavsound")))])],1)]),i("trans-sound")],1)},vr=[],yr={components:{ButtonShort:At,Checkbox:An,TransSound:it},data(){return{selectingIndex:0,shouldUseAnims:!0,shouldPlayNavSound:!0}},mounted(){this.shouldUseAnims=this.useAnims,this.shouldPlayNavSound=this.playNavSound},computed:{useAnims(){return this.$store.state.wmcUseAnims},playNavSound(){return this.$store.state.wmcPlayNavSound}},methods:{back(){this.$emit("back")},async save(){await this.$store.dispatch(c["a"].WmcUseAnims,this.shouldUseAnims),await this.$store.dispatch(c["a"].WmcPlayNavSound,this.shouldPlayNavSound),this.back()}}},wr=yr,Sr=(i("1970"),Object(y["a"])(wr,br,vr,!1,null,"629fd60e",null)),kr=Sr.exports,Tr={components:{ButtonLong:At,About:pn,ExcludedSongs:wn,FavMusic:Ln,FavPict:Bn,MediaLibraries:Gn,NowPlaying:Qn,ScreenSaver:ur,SlideShows:gr,Ratings:ar,TransSound:it,VfxSfx:kr},props:{settingScreen:{Type:String,Default:""}},data(){const e={"vfx-sfx":1,"fav-pict":2,"fav-music":3,"now-playing":4,slideshow:5,"slide-show-screen-saver":6,ratings:7,"media-library":8,"excluded-songs":10,"wmc-about":9};return{Screen:e,selectingIndex:0,currScreen:0}},mounted(){this.$root.$on("wmcBack",this.back),this.currScreen=this.Screen[this.settingScreen]||0},beforeDestroy(){this.$root.$off("wmcBack",this.back)},methods:{back(){this.settingScreen?this.$emit(V["c"].ChangePage,0):this.currScreen!==this.Screen["media-library"]&&(0!==this.currScreen?this.currScreen=0:this.$emit(V["c"].ChangePage,0))},handleFindMediaScreen(e){this.$emit("findMediaScreen",e)}}},_r=Tr,Cr=(i("c536"),Object(y["a"])(_r,on,cn,!1,null,"240d566b",null)),Pr=Cr.exports,xr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",[i("div",{attrs:{id:"wmc-spinner-wrapper"}},[i("div",{attrs:{id:"wmc-spinner"}},[i("img",{attrs:{id:"wmc-busy-back",src:e.iconBusyBack}}),i("img",{attrs:{id:"wmc-busy-front",src:e.iconBusyFront}})])])])},Ar=[],Ir={data(){const{wmcassets:e}=this.$store.state.assets;return{iconBusyBack:Object(r["a"])(e,"busy-back"),iconBusyFront:Object(r["a"])(e,"busy-front")}}},Or=Ir,Mr=(i("2560"),Object(y["a"])(Or,xr,Ar,!1,null,"4ee9cfe0",null)),Lr=Mr.exports,$r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.useAnim&&e.isVisible?i("div",{attrs:{id:"wmc-startup-screen"}},[i("img",{staticClass:"background",attrs:{id:"launch-bg",src:e.bg}}),i("img",{staticClass:"background",attrs:{id:"launch-bg-layer4",src:e.bgLayer4}}),i("img",{staticClass:"background",attrs:{id:"launch-bg-layer5",src:e.bgLayer5}}),i("img",{staticClass:"background",attrs:{id:"launch-bg-layer6",src:e.bgLayer6}}),i("img",{attrs:{id:"launch-shard1",src:e.shard1}}),i("img",{attrs:{id:"launch-shard2",src:e.shard2}}),i("img",{attrs:{id:"launch-sharda11",src:e.shardA1}}),i("img",{attrs:{id:"launch-sharda12",src:e.shardA1}}),i("img",{attrs:{id:"launch-sharda21",src:e.shardA2}}),i("img",{attrs:{id:"launch-sharda22",src:e.shardA2}}),i("img",{attrs:{id:"launch-shardb1",src:e.shardB1}}),i("img",{attrs:{id:"launch-shardb11",src:e.shardB1}}),i("img",{attrs:{id:"launch-shardb12",src:e.shardB1}}),i("img",{attrs:{id:"launch-shardb13",src:e.shardB1}}),i("img",{attrs:{id:"launch-shardb21",src:e.shardB2}}),i("img",{attrs:{id:"launch-shardb22",src:e.shardB2}}),i("img",{attrs:{id:"launch-shardb3",src:e.shardB3}}),i("img",{attrs:{id:"launch-txt-motionblur",src:e.textMotionBlur}}),i("img",{attrs:{id:"launch-txt",src:e.text}}),i("img",{attrs:{id:"launch-flag",src:e.flag}}),i("img",{attrs:{id:"launch-skittle-base",src:e.skittleBase}}),i("img",{attrs:{id:"launch-skittle-base-motionblur",src:e.skittleBaseMotionBlur}}),i("img",{attrs:{id:"launch-skittle-mid",src:e.skittleMiddle}}),i("img",{attrs:{id:"launch-skittle-top",src:e.skittleTop}}),i("img",{attrs:{id:"launch-skittle-mid-gleam",src:e.skittleMiddleGleam}}),i("img",{attrs:{id:"launch-flare",src:e.flare}})]):!e.useAnim&&e.isVisible?i("div",{attrs:{id:"wmc-startup-screen-static"}},[i("img",{staticClass:"background",attrs:{id:"launch-bg",src:e.bg}}),i("img",{attrs:{id:"launch-skittle-base",src:e.skittleBase}})]):e._e()},Er=[],Dr={data(){const{wmcassets:e}=this.$store.state.assets;return{isVisible:!0,textMotionBlur:Object(r["a"])(e,"startmenu-launch-text-media-win7"),text:Object(r["a"])(e,"startmenu-launch-text-windows-win7"),flag:Object(r["a"])(e,"skittle-flag-piece"),skittleBase:Object(r["a"])(e,"skittle-bottom-piece"),skittleTop:Object(r["a"])(e,"skittle-top-piece"),skittleBaseMotionBlur:Object(r["a"])(e,"skittle-subbottom-glow"),skittleMiddle:Object(r["a"])(e,"skittle-middle-piece"),skittleMiddleGleam:Object(r["a"])(e,"skittle-middle-gleam-piece"),flare:Object(r["a"])(e,"startmenu-launch-flare"),bg:Object(r["a"])(e,"background"),bgLayer4:Object(r["a"])(e,"background-layer4"),bgLayer5:Object(r["a"])(e,"background-layer5"),bgLayer6:Object(r["a"])(e,"background-layer6"),shard1:Object(r["a"])(e,"shard-goodshard"),shard2:Object(r["a"])(e,"shard-liteshard"),shardA1:Object(r["a"])(e,"shardA1"),shardA2:Object(r["a"])(e,"shardA2"),shardB1:Object(r["a"])(e,"shardB1"),shardB2:Object(r["a"])(e,"shardB2"),shardB3:Object(r["a"])(e,"shardB3")}},mounted(){setTimeout(()=>{this.isVisible=!1},3e3)},computed:{useAnim(){return this.$store.state.wmcUseAnims}}},Rr=Dr,Nr=(i("b855"),Object(y["a"])(Rr,$r,Er,!1,null,"7fa2127c",null)),Br=Nr.exports,Fr=i("968c"),jr=i("6210"),Ur=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{backgroundImage:"url("+e.bgToolBar+")"},attrs:{id:"wmc-toolbar"}},[i("button",{style:e.iconsGoBack,attrs:{id:"wmc-goback",disabled:e.currScreen<=0},on:{click:e.goBack}}),i("button",{style:e.iconsHome,attrs:{id:"wmc-home",disabled:e.isFindMediaScreen},on:{click:e.goHome}})])},zr=[],Hr={props:{currScreen:Number,isFindMediaScreen:Boolean},data(){const{wmcassets:e}=this.$store.state.assets;return{iconGoBackNormal:Object(r["a"])(e,"control-goback-normal"),iconGoBackHovered:Object(r["a"])(e,"control-goback-hovered"),iconGoBackActive:Object(r["a"])(e,"control-goback-active"),iconGoBackDisabled:Object(r["a"])(e,"control-goback-disabled"),iconHomeNormal:Object(r["a"])(e,"control-home-normal"),iconHomeHovered:Object(r["a"])(e,"control-home-hovered"),iconHomeActive:Object(r["a"])(e,"control-home-active"),iconHomeDisabled:Object(r["a"])(e,"control-home-disabled"),bgToolBar:Object(r["a"])(e,"control-topbar-left")}},computed:{iconsGoBack(){return{"--goback-normal":`url(${this.iconGoBackNormal})`,"--goback-hovered":`url(${this.iconGoBackHovered})`,"--goback-active":`url(${this.iconGoBackActive})`,"--goback-disabled":`url(${this.iconGoBackDisabled})`}},iconsHome(){return{"--home-normal":`url(${this.iconHomeNormal})`,"--home-hovered":`url(${this.iconHomeHovered})`,"--home-active":`url(${this.iconHomeActive})`,"--home-disabled":`url(${this.iconHomeDisabled})`}}},methods:{goHome(){this.$root.$emit("wmcHome")},goBack(){this.$root.$emit("wmcBack")}}},Vr=Hr,Wr=(i("df9f"),Object(y["a"])(Vr,Ur,zr,!1,null,"0ddfbb5a",null)),Gr=Wr.exports,Xr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("browse-gallery",{attrs:{tabList:e.tabList,libraryTitle:e.currPathName,isCtxMenuOpen:e.showCtxMenu,emptyLibMsg:e.$t("wmc-empty-lib",{path:e.libPath}),isLoading:e.isLoading,isFocused:!e.showCtxMenu&&!e.showVideoDetails},scopedSlots:e._u([{key:"commands",fn:function(){return[i("browse-cmd",{attrs:{label:e.$t("play-all")},on:{click:function(t){return e.$emit("missingFeat")}}})]},proxy:!0}])}),e.showCtxMenu?i("context-menu",{attrs:{itemID:e.ctxMenuItemID,itemType:"video",previewType:"4x3",itemPath:e.activeItemPath,canBeRated:!1,offset:e.ctxMenuOffset},on:{openSettings:function(t){return e.$emit("openSettings")},back:e.back,delete:function(t){e.showDeleteConfirm=!0},showVideoDetails:e.handleShowVideoDetails}}):e._e(),e.showVideoDetails?i("video-details",{attrs:{videoPath:e.activeItemPath,videoTitle:e.videoTitle,videoFolder:e.videoFolder},on:{back:e.back,delete:function(t){e.showDeleteConfirm=!0},playVideo:function(t){return e.$emit("playVideo",e.activeItemPath)}}}):e._e(),e.showDeleteConfirm?i("dialogue",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("confirm-delete")))]},proxy:!0},{key:"message",fn:function(){return[e._v(e._s(e.$t("confirm-delete-msg",{name:e.videoTitle})))]},proxy:!0},{key:"footer",fn:function(){return[i("button-short",{class:{selected:e.isDialogLeftBtnActive},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!0},click:e.handleDeleteVideo}},[e._v(e._s(e.$t("yes"))+" ")]),i("button-short",{class:{selected:!e.isDialogLeftBtnActive},attrs:{btnType:"dialog"},on:{mouseover:function(t){e.isDialogLeftBtnActive=!1},click:function(t){e.showDeleteConfirm=!1}}},[e._v(e._s(e.$t("no"))+" ")])]},proxy:!0}],null,!1,4014246214)}):e._e()],1)},qr=[],Yr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("details-dialog",{attrs:{tabList:e.tabList,details:[e.videoTitle,e.videoFolder,e.videoDate],thumbnailURI:e.videoPath,itemURI:e.videoPath,itemType:"video"},on:{back:function(t){return e.$emit("back")}},scopedSlots:e._u([{key:"detailCmds",fn:function(){return[i("details-cmd",{attrs:{label:e.$t("delete"),iconType:"delete"},on:{click:function(t){return e.$emit("delete")}}}),i("details-cmd",{attrs:{label:e.$t("play")},on:{click:function(t){return e.$emit("playVideo")}}})]},proxy:!0}])})},Kr=[],Zr={components:{DetailsCmd:Li,DetailsDialog:Bi},props:{videoPath:String,videoTitle:String,videoFolder:String,videoDate:String,videoDuration:String},computed:{tabList(){return[{label:this.$t("synopsis"),itemType:"",itemList:[]}]}}},Qr=Zr,Jr=Object(y["a"])(Qr,Yr,Kr,!1,null,null,null),eo=Jr.exports,to={components:{BrowseCmd:Gt,BrowseGallery:rt,ButtonShort:At,ContextMenu:is,Dialogue:H,VideoDetails:eo},props:{searchPaths:Array},mixins:[m],data(){return{currPath:"",currPathName:this.$t("vid-lib"),currFiles:[],currFolders:[],selectingIndex:0,detailItemName:"",detailItemDate:"",activeItemPath:"",ctxMenuOffset:null,ctxMenuItemID:"",isLoading:!0,showCtxMenu:!1,showVideoDetails:!1,showDeleteConfirm:!1,isDialogLeftBtnActive:!1}},mounted(){this.openFolder(this.rootPath),this.$root.$on("wmcBack",this.back)},beforeDestroy(){this.$root.$off("wmcBack",this.back)},computed:{...Object(Y["d"])(["user","systemPath","forceUpdate"]),tabList(){return[{label:this.$t("folders"),galleryType:"4x3",folderList:this.currFolders,itemList:this.currFiles}]},userPath(){return`${this.systemPath}/Users/${this.user?this.user.uid:"Guest"}`},useAnim(){return this.$store.state.wmcUseAnims},libPath(){return`C:\\Users\\${this.user?this.user.uid:"Guest"}\\Videos`},rootPath(){return this.userPath+"/Videos"}},watch:{forceUpdate(){this.getAllVideos(this.currPath)}},methods:{async getAllVideos(e){this.$emit("loading",!0),this.isLoading=!0,this.currFiles=[],this.currFolders=[];let t=await l["a"].list(e);for(let i of t)if(Object(o["o"])(i.uri)&&"file"===i.type)this.currFiles.push({name:i.name,uri:i.uri,type:"video",details:[i.name,Object(gi["c"])(i.ctime)],click:()=>this.$emit("playVideo",i.uri),contextmenu:e=>this.handleOpenContextMenu(e,i.uri,i.name)});else if("directory"===i.type){const e=await this.getFolderItemCount(i.uri,"video");this.currFolders.push({name:i.name,uri:i.uri,details:[i.name,`${Object(gi["c"])(i.ctime)}   ${this.$tc("n-item",e)}`],type:"directory",isVideoThumbnail:!0,click:()=>this.openFolder(i.uri)})}if(this.currPath===this.rootPath)for(const i of this.searchPaths){if(i===this.rootPath)continue;const e=await l["a"].stat(i),t=Object(o["r"])(i).name||"",s=await this.getFolderItemCount(i,"video");this.currFolders.push({name:t,uri:i,details:[t,`${Object(gi["c"])(e.ctime)}   ${this.$tc("n-item",s)}`],type:"directory",click:()=>this.openFolder(i)})}this.isLoading=!1,this.$emit("loading",!1)},openFolder(e){this.currPath=e,e===this.rootPath?this.currPathName=this.$t("vid-lib"):this.currPathName=Object(o["c"])(e),this.selectingIndex=0,this.getAllVideos(this.currPath)},back(){if(this.isLoading&&this.$emit("loading",!1),this.showCtxMenu)return void(this.showCtxMenu=!1);if(this.showVideoDetails)return void(this.showVideoDetails=!1);if(this.searchPaths.includes(this.currPath)&&this.currPath!==this.rootPath)return void this.openFolder(this.rootPath);if(this.currPath===this.rootPath)return void this.$emit(V["c"].ChangePage,0);const e=Object(hi["f"])(this.currPath);this.openFolder(e)},handleOpenContextMenu(e,t,i){this.activeItemPath=t,this.videoTitle=i,this.videoFolder=this.currPathName;const s=e.target.parentElement.getBoundingClientRect(),a=(null===s||void 0===s?void 0:s.top)||0,n=(null===s||void 0===s?void 0:s.left)||0;this.ctxMenuOffset={top:a+"px",left:n+"px"},this.showCtxMenu=!0},handleShowVideoDetails(){this.showVideoDetails=!0},async handleDeleteVideo(){await this.$store.dispatch(c["a"].TrashAdd,this.activeItemPath),this.showVideoDetails=!1,this.showDeleteConfirm=!1}}},io=to,so=Object(y["a"])(io,Xr,qr,!1,null,null,null),ao=so.exports,no=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"enter-active-class":e.useAnim?"animated fadeIn":"","leave-active-class":e.useAnim?"animated fadeOut":""}},[e.isVolVisible?i("div",{style:{borderImageSource:"url("+e.frame+")"},attrs:{id:"wmc-volume"}},[i("div",{style:{backgroundImage:"url("+e.bg+")"},attrs:{id:"volume-display"}},[e.isMuted?i("img",{attrs:{id:"volume-mute-icon",src:e.iconMuted}}):i("div",{attrs:{id:"volume-value"}},[e._v(e._s(e.volume))])]),i("div",{attrs:{id:"volume-bar"}},[i("div",{style:{backgroundImage:"url("+e.bgVolumeBar+")"},attrs:{id:"volume-bar-bg"}}),i("div",{style:{backgroundImage:"url("+e.volumeBar+")",width:e.volumeFillWidth},attrs:{id:"volume-bar-fill"}})])]):e._e()])},ro=[],oo={data(){const{wmcassets:e}=this.$store.state.assets;return{volVisibilityTimerId:null,isVolVisible:!1,frame:Object(r["a"])(e,"overlay-outline"),bg:Object(r["a"])(e,"overlay-bg-dark"),bgVolumeBar:Object(r["a"])(e,"overlay-volume-bar-off"),volumeBar:Object(r["a"])(e,"overlay-volume-bar-on"),iconMuted:Object(r["a"])(e,"overlay-volume-mute")}},watch:{"$store.state.wmcIsMuted":function(){this.$store.state.wmcVol&&this.handleVolVisibility()},"$store.state.wmcVol":function(){this.handleVolVisibility()}},computed:{...Object(Y["d"])({isMuted:"wmcIsMuted",volume:"wmcVol",useAnim:"wmcUseAnims"}),volumeFillWidth(){return Object(r["k"])(this.volume,0,50,0,100)+"%"}},methods:{setVolVisibilityTimer(){this.volVisibilityTimerId=setTimeout(()=>{this.isVolVisible=!1},5e3)},resetVolVisibilityTimer(){clearTimeout(this.volVisibilityTimerId),this.setVolVisibilityTimer()},handleVolVisibility(){this.isVolVisible||(this.isVolVisible=!0),this.resetVolVisibilityTimer()}}},co=oo,lo=(i("0974"),Object(y["a"])(co,no,ro,!1,null,"265cb46a",null)),uo=lo.exports,ho=i("d98f"),mo=i("10dc"),po={mixins:[u,h],components:{Controls:R["a"],TitleBar:jr["a"],Window:mo["a"],Background:S,BackgroundMosaic:x,WmcButton:At,Clock:D,ExtrasLibrary:pt,FirstRun:Lt,Home:Bt,Dialogue:H,ListMaker:Si,MouseCursor:ki["default"],MusicLibrary:As,PictureLibrary:js,PictureViewer:Gs,PlayControl:Qs,PlayFavPicts:aa,PlayMusic:Ga,PlayVideo:Qa,PowerMenu:rn,Toolbar:Gr,Settings:Pr,Spinner:Lr,StartupScreen:Br,VideoLibrary:ao,Volume:uo,WatchAd:ho["a"]},data(){const{wmcassets:e}=this.$store.state.assets;return{showWatchAd:!1,isLoading:!1,musicState:0,videoState:0,isSlideShowPlaying:!1,showFavMusicWarning:!1,currScreen:-1,showShutdownDialog:!1,showMissingFeatDialog:!1,settingScreen:"",showFavPictWarning:!1,isFavMusicDialogCloseBtnSelected:!0,isFavPictDialogCloseBtnSelected:!0,showMediaOnlyConfirm:!1,isMediaOnlyDialogCloseBtnSelected:!1,isMediaOnlyActive:!1,isScreenSaverPlaying:!1,showSearchScreen:!1,openingGameID:"",showListMaker:!1,editPlaylistURI:"",showPictViewer:!1,listMakerType:"playlist",showFirstRunScreen:!1,isStartingUp:!0,npSongs:[],npSongIndex:0,npSongURL:null,npSongURI:"",npSongTime:"",npSongTitle:"",npSongArtist:"",npAlbumName:"",npAlbumArtist:"",npAlbumYear:"",npAlbumArt:null,npVideoTime:0,npVideoDuration:0,npVideoName:"",isCtrlsVisible:!1,ctrlVisibilityTimer:null,isFindMediaScreen:!1,startMaskOverlay:Object(r["a"])(e,"startmask-overlay"),audioPlayerSrc:F["b"].startupMusic,videoPlayerSrc:null,screenSaverTimer:null,pictureSearchPaths:[],musicSearchPaths:[],videoSearchPaths:[],albumList:{},songList:{},artistList:{},genreList:{},composerList:{},yearList:{},albumArtistList:{},pictureList:[],currentPicture:0,pictureViewMode:"normal",favPictList:[],allPicts:[]}},computed:{...Object(Y["d"])({user:"user",systemPath:"systemPath",isMuted:"wmcIsMuted",isLooped:"wmcIsLooped",isRepeated:"wmcIsRepeated",isShuffled:"wmcIsShuffled",useAnim:"wmcUseAnims",useSongs:"wmcFavMusicUseSongs",useRatedSongs:"wmcFavMusicUseRatedSongs",useMostPlayed:"wmcFavMusicUseMostPlayed",favPicts:"wmcFavPicts",useRatedPicts:"wmcFavPictUseRatedPicts",useUnratedPicts:"wmcFavPictUseUnratedPicts",useSlideShow:"wmcFavPictUseSlideShow",usePictFolder:"wmcFavPictUseFolder",ratings:"wmcRatings",useScreenSaver:"wmcUseScreenSaver",screenSaverTimeout:"wmcScreenSaverTimeout",excludedSongs:"wmcExcludedSongs",forceUpdate:"forceUpdate",savedSearchFolders:"wmcSearchFolders"}),userPath(){return`${this.systemPath}/Users/${this.user?this.user.uid:"Guest"}`},getCurrentSongTitle(){var e;if(!this.npSongs.length)return;const t=this.npSongs[this.npSongIndex];return(null===(e=this.songList[t])||void 0===e?void 0:e.title)||""},getNpSongsInfo(){if(!this.npSongs.length)return[];let e=[];for(let t of this.npSongs){const i=this.songList[t];i&&e.push({path:t,...i})}return e},volume(){return this.isMuted?0:this.$store.state.wmcVol/50}},mounted(){this.playSound(),this.$root.$on("wmcHome",this.home),M.a.on("change",()=>{!M.a.active&&this.isMediaOnlyActive&&(this.isMediaOnlyActive=!1)}),this.isCtrlsVisible&&this.setCtrlVisibilityTimer(),setTimeout(()=>{this.currScreen=this.Screen.HomeScreen,this.isStartingUp=!1},3e3),this.$root.$on("wmcPause",this.handlePause),this.$root.$on("wmcStop",this.handleStop),this.$root.$on("wmcPrevious",this.playPreviousSong),this.$root.$on("wmcNext",this.playNextSong),this.$root.$on("wmcFirstrun",this.handleFirstRun)},async created(){await this.initConfig(),this.initSearchPaths();for(const e of this.musicSearchPaths)this.getAllMusic(e);this.cleanUpRatings()},watch:{"$store.state.wmcIsMuted":function(){this.updateVolume()},"$store.state.wmcVol":function(){this.updateVolume()},forceUpdate(){this.updateMusicLib()}},methods:{async initConfig(){const e=await Fr["a"].local.get("wmc",this.user),t=await Fr["a"].local.get("wmcRatings",this.user);this.$store.commit(c["a"].WmcRating,t||{});const i=(t,i)=>e&&void 0!==e[t]?e[t]:i;this.$store.commit(c["a"].WmcVol,i("volume",50)),this.$store.commit(c["a"].WmcMute,i("isMuted",!1)),this.$store.commit(c["a"].WmcLoop,i("isLooped",!1)),this.$store.commit(c["a"].WmcRepeat,i("isRepeated",!1)),this.$store.commit(c["a"].WmcShuffle,i("isShuffled",!1)),this.$store.commit(c["a"].WmcUseAnims,i("useAnims",!0)),this.$store.commit(c["a"].WmcPlayNavSound,i("playNavSound",!0)),this.$store.commit(c["a"].WmcNpBg,i("npBg","moving")),this.$store.commit(c["a"].WmcSlideShowRandom,i("isSlideShowRandom",!0)),this.$store.commit(c["a"].WmcSlideShowInfo,i("slideShowInfo",!0)),this.$store.commit(c["a"].WmcSlideShowSongInfo,i("slideShowSongInfo",!0)),this.$store.commit(c["a"].WmcUsePanAndZoom,i("usePanAndZoom",!0)),this.$store.commit(c["a"].WmcSlideShowPictDuration,i("slideShowPictDuration",12)),this.$store.commit(c["a"].WmcSlideShowBgColor,i("slideShowBgColor","#000")),this.$store.commit(c["a"].WmcUseScreenSaver,i("useScreenSaver",!0)),this.$store.commit(c["a"].WmcScreenSaverTimeout,i("screenSaverTimeout",10)),this.$store.commit(c["a"].WmcUseRatingShortcut,i("useRatingShortcut",!1)),this.$store.commit(c["a"].WmcFavMusicUseSongs,i("useSongs",!0)),this.$store.commit(c["a"].WmcFavMusicUseRatedSongs,i("useRatedSongs",!0)),this.$store.commit(c["a"].WmcFavMusicUseMostPlayed,i("useMostPlayed",!0)),this.$store.commit(c["a"].WmcFavMusicUsePlaylist,i("usePlaylist","")),this.$store.commit(c["a"].WmcFavPicts,i("favPicts","user-defined")),this.$store.commit(c["a"].WmcFavPictUseRatedPicts,i("useRatedPicts",!0)),this.$store.commit(c["a"].WmcFavPictUseUnratedPicts,i("useUnratedPicts",!0)),this.$store.commit(c["a"].WmcFavPictUseSlideShow,i("useSlideShow","")),this.$store.commit(c["a"].WmcFavPictUseFolder,i("useFolder","")),this.$store.commit(c["a"].WmcExclude,i("exclude",[])),this.$store.commit(c["a"].WmcSearchFolders,i("searchFolders",{}))},playSound(e,t=!1){const i=this.$refs.audioPlayer;i.pause(),e&&(this.audioPlayerSrc=e),i.load(),i.loop=t,i.volume=this.volume,i.currentTime=0},seekVideo(e){const t=this.$refs.videoPlayer;t.currentTime=e},updateCurrentSongTime(){if(this.musicState===this.MediaState.Play){const e=this.$refs.audioPlayer;e&&(this.npSongTime=Object(Yt["b"])(e.currentTime))}},updateCurrentVideoTime(){if(this.videoState===this.MediaState.Play){const e=this.$refs.videoPlayer;e&&(this.npVideoTime=e.currentTime,this.npVideoDuration=e.duration)}},updateVolume(){const e=this.$refs.audioPlayer,t=this.$refs.videoPlayer;e.volume=this.volume,t.volume=this.volume},updateMusicLib(){this.albumList={},this.songList={},this.artistList={},this.genreList={},this.composerList={},this.yearList={},this.albumArtistList={},this.revokeAlbumArtURLs();for(const e of this.musicSearchPaths)this.getAllMusic(e)},setScreenSaverTimer(){this.screenSaverTimer&&clearTimeout(this.screenSaverTimer),this.screenSaverTimer=setTimeout(()=>{this.isMediaOnlyActive&&this.currScreen!==this.Screen.PictPlayFav&&this.currScreen!==this.Screen.MusicPlayer&&this.musicState!==this.MediaState.Play&&this.videoState!==this.MediaState.Play&&this.slideShowState!==this.MediaState.Play&&!this.isScreenSaverPlaying&&(this.isScreenSaverPlaying=!0,this.handlePlayFavPicts(!0))},6e4*this.screenSaverTimeout)},setCtrlVisibilityTimer(){this.ctrlVisibilityTimer&&clearTimeout(this.ctrlVisibilityTimer),this.ctrlVisibilityTimer=setTimeout(()=>{this.isCtrlsVisible=!1},5e3)},handleContainerOnMouseMove(){this.isCtrlsVisible=!0,this.setCtrlVisibilityTimer(),this.isScreenSaverPlaying&&(this.currScreen=this.Screen.HomeScreen),this.isScreenSaverPlaying=!1,this.setScreenSaverTimer()},handleFindMediaScreen(e){this.isFindMediaScreen=e},handlePause(e){if(e){if(this.musicState===this.MediaState.Play){const e=this.$refs.audioPlayer;return e.pause(),void(this.musicState=this.MediaState.Pause)}if(this.videoState===this.MediaState.Play){const e=this.$refs.videoPlayer;return e.pause(),void(this.videoState=this.MediaState.Pause)}}if(this.musicState!==this.MediaState.Stop||this.currScreen!==this.Screen.MusicPlayer){if(this.musicState===this.MediaState.Pause){const e=this.$refs.audioPlayer;return e.play(),void(this.musicState=this.MediaState.Play)}if(this.videoState===this.MediaState.Pause){const e=this.$refs.videoPlayer;return e.play(),void(this.videoState=this.MediaState.Play)}}else this.playCurrentSong()},handleStop(){if(this.musicState!==this.MediaState.Stop){const e=this.$refs.audioPlayer;return e.pause(),e.currentTime=0,void(this.musicState=this.MediaState.Stop)}if(this.videoState!==this.MediaState.Stop){const e=this.$refs.videoPlayer;return e.pause(),e.currentTime=0,this.videoState=this.MediaState.Stop,this.videoPlayerSrc&&l["a"].revoke(this.videoPlayerSrc),void(this.currScreen===this.Screen.VideoPlayer&&this.changeScreen(this.Screen.VidLib))}},handleAdWatched(){this.showWatchAd=!1,this.isStartingUp||(this.currScreen=this.Screen.TaskSettings)},changeScreen(e){e===this.Screen.TaskSettings?this.showWatchAd=!0:this.currScreen=e,this.isLoading=!1},async playCurrentSong(){var e,t,i,s,a,n;const r=this.npSongs[this.npSongIndex],o=this.songList[r].album,c=await l["a"].read(r,!1,"blob");if(this.npSongURL&&l["a"].revoke(this.npSongURL),this.npSongURL=Object(re["e"])(c),this.playSound(this.npSongURL,this.isLooped),this.musicState=this.MediaState.Play,this.npAlbumArt=(null===(e=this.albumList[o])||void 0===e?void 0:e.art)||null,this.npSongTitle=(null===(t=this.songList[r])||void 0===t?void 0:t.title)||"",this.npSongArtist=(null===(i=this.songList[r])||void 0===i?void 0:i.artist)||"",this.npAlbumName=(null===(s=this.songList[r])||void 0===s?void 0:s.album)||"",this.npAlbumArtist=(null===(a=this.albumList[this.npAlbumName])||void 0===a?void 0:a.artist)||"",this.npAlbumYear=(null===(n=this.albumList[this.npAlbumName])||void 0===n?void 0:n.year)||"",this.npSongURI=r,this.countOpenTimes(r,"song"),this.$root.$emit("wmcTrackPlayed"),this.videoState===this.MediaState.Play){const e=this.$refs.videoPlayer;e.pause(),e.currentTime=0,this.videoState=this.MediaState.Stop}},playNextSong(){this.$refs.audioPlayer.pause();let e=(this.npSongIndex+1)%this.npSongs.length;this.isShuffled&&(e=Object(r["q"])(1,this.npSongs.length)),this.npSongIndex=e,this.playCurrentSong()},playPreviousSong(){this.$refs.audioPlayer.pause();let e=(this.npSongIndex-1+this.npSongs.length)%this.npSongs.length;this.isShuffled&&(e=Object(r["q"])(1,this.npSongs.length)),this.npSongIndex=e,this.playCurrentSong()},initSearchPaths(){this.pictureSearchPaths=[this.userPath+"/Pictures",...this.savedSearchFolders.picture||[]],this.musicSearchPaths=[this.userPath+"/Music",...this.savedSearchFolders.music||[]],this.videoSearchPaths=[this.userPath+"/Videos",...this.savedSearchFolders.video||[]]},handleIsLoading(e){this.isLoading=e},handlePlaySlideShow({mode:e="normal",pictures:t=[],pictureIndex:i=0,tracks:s=[],trackIndex:a=0}){this.pictureList=t,this.currentPicture=i,s.length&&(this.npSongs=s,this.npSongIndex=a,this.playCurrentSong(),this.musicState=this.MediaState.Play),this.pictureViewMode=e,this.isSlideShowPlaying="slideshow"===e,this.showPictViewer=!0},async handlePlaySongs(e){e.length&&(this.musicState=this.MediaState.Play,this.currScreen=this.Screen.MusicPlayer,this.npSongs=e,this.npSongIndex=0,this.playCurrentSong())},handleAddSongs(e){this.npSongs=[...this.npSongs,...e],this.musicState!==this.MediaState.Play&&(this.npSongIndex=0,this.playCurrentSong())},handleSongEnded(){this.musicState===this.MediaState.Play&&(this.isLooped||(this.isRepeated||this.npSongIndex!==this.npSongs.length-1?this.playNextSong():this.handlePause(!0)))},handlePlaySongAtIndex(e){this.npSongIndex=e,this.playCurrentSong()},handleUpdateNowPlaying(e){const t=this.npSongs[this.npSongIndex];this.npSongs=e;const i=this.npSongs.indexOf(t);this.npSongIndex=-1!==i?i:0,-1===i?(this.npSongIndex=0,this.playCurrentSong()):this.npSongIndex=i},async handlePlayVideo(e){var t;const i=await l["a"].read(e,!1,"blob");this.videoPlayerSrc&&l["a"].revoke(this.videoPlayerSrc),this.videoPlayerSrc=Object(re["e"])(i),this.videoState=this.MediaState.Play,this.currScreen=this.Screen.VideoPlayer,this.npVideoName=(null===(t=Object(o["r"])(e))||void 0===t?void 0:t.name)||e;const s=this.$refs.videoPlayer;if(s.volume=this.volume,this.musicState===this.MediaState.Play){const e=this.$refs.audioPlayer;e.pause(),e.currentTime=0,this.musicState=this.MediaState.Stop}},handleViewNowPlaying(){this.musicState===this.MediaState.Play?this.changeScreen(this.Screen.MusicPlayer):this.videoState===this.MediaState.Play&&this.changeScreen(this.Screen.VideoPlayer)},async handlePlayFavMusic(){this.isLoading=!0;let e=[];if(this.useSongs){if(this.useRatedSongs){const t=Object.keys(this.ratings).filter(e=>{const t=this.ratings[e];return"song"===t.type&&t.rating>=.8});e.push(...t)}if(this.useMostPlayed){const t=Object.keys(this.ratings).filter(e=>{const t=this.ratings[e];return"song"===t.type&&t["open-times"]>1});e.push(...t)}}e=[...new Set(e)],e.length?(this.handlePlaySongs(e),this.isLoading=!1):this.showFavMusicWarning=!0},handleCloseFavMusicDialog(){this.isLoading=!1,this.showFavMusicWarning=!1},handleActionFavMusicDialog(){this.handleCloseFavMusicDialog(),this.openSettings("fav-music")},async handlePlayFavPicts(e=!1){switch(this.isLoading=!0,this.favPictList=[],this.favPicts){case"user-defined":if(this.useRatedPicts){const e=Object.keys(this.ratings).filter(e=>{const t=this.ratings[e];return"picture"===t.type&&t.rating>=.8});this.favPictList.push(...e)}if(this.useUnratedPicts){this.allPicts=[];for(let e of this.pictureSearchPaths)await this.getAllPicts(e);for(let e of this.allPicts){var t;const i=(null===(t=this.ratings[e])||void 0===t?void 0:t.rating)||0;0===i&&this.favPictList.push(e)}}break;case"all-picts":this.allPicts=[];for(let e of this.pictureSearchPaths)await this.getAllPicts(e);this.favPictList=[...this.allPicts];break}e?(this.favPictList.length&&(this.currScreen=this.Screen.PictPlayFav),this.isLoading=!1):(this.currScreen=this.Screen.PictPlayFav,this.favPictList.length?this.isLoading=!1:this.showFavPictWarning=!0)},handleCloseFavPictDialog(){this.isLoading=!1,this.showFavPictWarning=!1,this.changeScreen(this.Screen.HomeScreen)},handleActionFavPictDialog(){this.handleCloseFavPictDialog(),this.openSettings("fav-pict")},handleMediaOnly(){M.a.active&&this.isMediaOnlyActive?(M.a.exit(),this.isMediaOnlyActive=!1):this.showMediaOnlyConfirm=!0},handleHomeItemClicked(e){switch(e){case"showExtrasLib":this.changeScreen(this.Screen.ExtrasLib);break;case"showPictLib":this.changeScreen(this.Screen.PictLib);break;case"playFavPicts":this.handlePlayFavPicts();break;case"showVidLib":this.changeScreen(this.Screen.VidLib);break;case"showMusicLib":this.showSearchScreen=!1,this.changeScreen(this.Screen.MusicLib);break;case"playFavMusic":this.handlePlayFavMusic();break;case"showSearch":this.showSearchScreen=!0,this.changeScreen(this.Screen.MusicLib);break;case"showNowPlaying":this.handleViewNowPlaying();break;case"showShutdown":this.showShutdownDialog=!0;break;case"showSettings":this.openSettings();break;case"mediaOnly":this.handleMediaOnly();break}},handleOnGameOpened(e){this.$store.commit(c["a"].WindowUpdate,{id:"mediacenter",minimized:!0}),this.openingGameID=e,this.$root.$on(V["c"].CloseWindow,this.handleOnGameClosed),this.isMediaOnlyActive&&M.a.request(this.$root.$el)},handleOnGameClosed(e){this.openingGameID===e&&(this.openingGameID="",this.$store.commit(c["a"].WindowUpdate,{id:"mediacenter",minimized:!1}),this.$root.$off(V["c"].CloseWindow,this.handleOnGameClosed),this.isMediaOnlyActive&&M.a.request(this.$refs.mainContainer))},handleShowListMaker(e,t){this.listMakerType=e,this.editPlaylistURI=t,this.showListMaker=!0},handlePictureViewerBack(){this.showPictViewer=!1,this.isSlideShowPlaying=!1},handleResize(e,t){this.$root.$emit("wmcWindowResize",e,t)},handleFirstRun(){this.showFirstRunScreen=!0},handleFirstRunContinue(){this.showFirstRunScreen=!1},async getAllPicts(e){let t=await l["a"].list(e);for(let i of t)Object(o["j"])(i.uri)&&"file"===i.type?this.allPicts.push(i.uri):"directory"===i.type&&this.getAllPicts(i.uri)},async getAllMusic(e){let t=[];try{t=await l["a"].list(e)}catch(i){return}for(let s of t){const e=this.excludedSongs.includes(s.uri);Object(o["e"])(s.uri)&&"file"===s.type&&!e?this.readMetadata(s.uri):"directory"===s.type&&this.getAllMusic(s.uri)}},async readMetadata(e){let t=null;try{const i=await l["a"].read(e,!1,"blob");t=await n["parseBlob"](i)}catch(p){return}const i=t.common.picture?URL.createObjectURL(new Blob([t.common.picture[0].data])):null,s=t.common.album||this.$t("unknown-album"),a=t.common.albumartist||this.$t("unknown-album-artist"),r=t.common.year||this.$t("unknown-year"),c=t.common.title||Object(o["r"])(e).name,u=t.format.duration||0,d=t.common.artist||this.$t("anonymous"),h=t.common.genre||[this.$t("unknown-genre")],m=t.common.composer||[this.$t("unknown-composer")];if(s in this.albumList){const a=this.albumList[s].tracks.some(t=>t.path===e);a||(this.albumList[s].tracks.push({path:e,track:t.common.track.no||0}),this.albumList[s].tracks.sort((e,t)=>e.track-t.track)),this.albumList[s].art||(this.albumList[s].art=i)}else{const n={art:i,artist:a,year:r,tracks:[{path:e,track:t.common.track.no||0}]};this.$set(this.albumList,s,n)}if(!(e in this.songList)){const t={title:c,duration:u,artist:d,album:s};this.$set(this.songList,e,t)}d in this.artistList?(this.artistList[d].songs.push(e),this.artistList[d].totalDuration+=u,this.artistList[d].albums.includes(s)||this.artistList[d].albums.push(s)):this.$set(this.artistList,d,{songs:[e],albums:[s],totalDuration:u});for(let n of h)n in this.genreList?(this.genreList[n].songs.push(e),this.genreList[n].totalDuration+=u,this.genreList[n].albums.includes(s)||this.genreList[n].albums.push(s)):this.$set(this.genreList,n,{songs:[e],albums:[s],totalDuration:u});for(let n of m)n in this.composerList?(this.composerList[n].songs.push(e),this.composerList[n].totalDuration+=u,this.composerList[n].albums.includes(s)||this.composerList[n].albums.push(s)):this.$set(this.composerList,n,{songs:[e],albums:[s],totalDuration:u});r in this.yearList?(this.yearList[r].songs.push(e),this.yearList[r].totalDuration+=u,this.yearList[r].albums.includes(s)||this.yearList[r].albums.push(s)):this.$set(this.yearList,r,{songs:[e],albums:[s],totalDuration:u}),a in this.albumArtistList?this.albumArtistList[a].includes(s)||this.albumArtistList[a].push(s):this.$set(this.albumArtistList,a,[s])},revokeAlbumArtURLs(){for(const{art:e}of Object.values(this.albumList))e&&l["a"].revoke(e)},clearNpList(){this.handleStop(),this.currScreen=this.Screen.HomeScreen,this.npSongs=[],this.npSongIndex=0},cleanUpRatings(){},openSettings(e){this.settingScreen=e||"",this.changeScreen(this.Screen.TaskSettings)},enterMediaOnlyMode(){M.a.active||this.isMediaOnlyActive||(M.a.request(this.$refs.mainContainer),this.isMediaOnlyActive=!0,this.showMediaOnlyConfirm=!1)},home(){this.changeScreen(this.Screen.HomeScreen),this.showPictViewer=!1}},beforeDestroy(){const e=this.$refs.audioPlayer;e&&e.pause(),this.revokeAlbumArtURLs(),this.cleanUpRatings(),this.npSongURL&&l["a"].revoke(this.npSongURL),this.videoPlayerSrc&&l["a"].revoke(this.videoPlayerSrc),this.ctrlVisibilityTimer&&clearTimeout(this.ctrlVisibilityTimer),this.screenSaverTimer&&clearTimeout(this.screenSaverTimer),M.a.off("change"),this.$root.$off(V["c"].CloseWindow,this.handleOnGameClosed),this.$root.$off("wmcHome",this.home),this.$root.$off("wmcPause",this.handlePause),this.$root.$off("wmcStop",this.handleStop),this.$root.$off("wmcPrevious",this.playPreviousSong),this.$root.$off("wmcNext",this.playNextSong),this.$root.$off("wmcFirstrun",this.handleFirstRun)}},fo=po,go=(i("7e97"),Object(y["a"])(fo,s,a,!1,null,"0dae177b",null));t["default"]=go.exports},9:function(e,t){},9131:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});class i{static fromBin(e,t=0){return new i(this.decode(e,t))}static decode(e,t=0){const i=e.readUInt32LE(t).toString(16)+"-"+e.readUInt16LE(t+4).toString(16)+"-"+e.readUInt16LE(t+6).toString(16)+"-"+e.readUInt16BE(t+8).toString(16)+"-"+e.slice(t+10,t+16).toString("hex");return i.toUpperCase()}static decodeMediaType(e){switch(e.str){case i.AudioMedia.str:return"audio";case i.VideoMedia.str:return"video";case i.CommandMedia.str:return"command";case i.Degradable_JPEG_Media.str:return"degradable-jpeg";case i.FileTransferMedia.str:return"file-transfer";case i.BinaryMedia.str:return"binary"}}static encode(t){const i=e.alloc(16);return i.writeUInt32LE(parseInt(t.slice(0,8),16),0),i.writeUInt16LE(parseInt(t.slice(9,13),16),4),i.writeUInt16LE(parseInt(t.slice(14,18),16),6),e.from(t.slice(19,23),"hex").copy(i,8),e.from(t.slice(24),"hex").copy(i,10),i}constructor(e){this.str=e}equals(e){return this.str===e.str}toBin(){return i.encode(this.str)}}i.HeaderObject=new i("75B22630-668E-11CF-A6D9-00AA0062CE6C"),i.DataObject=new i("75B22636-668E-11CF-A6D9-00AA0062CE6C"),i.SimpleIndexObject=new i("33000890-E5B1-11CF-89F4-00A0C90349CB"),i.IndexObject=new i("D6E229D3-35DA-11D1-9034-00A0C90349BE"),i.MediaObjectIndexObject=new i("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C"),i.TimecodeIndexObject=new i("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C"),i.FilePropertiesObject=new i("8CABDCA1-A947-11CF-8EE4-00C00C205365"),i.StreamPropertiesObject=new i("B7DC0791-A9B7-11CF-8EE6-00C00C205365"),i.HeaderExtensionObject=new i("5FBF03B5-A92E-11CF-8EE3-00C00C205365"),i.CodecListObject=new i("86D15240-311D-11D0-A3A4-00A0C90348F6"),i.ScriptCommandObject=new i("1EFB1A30-0B62-11D0-A39B-00A0C90348F6"),i.MarkerObject=new i("F487CD01-A951-11CF-8EE6-00C00C205365"),i.BitrateMutualExclusionObject=new i("D6E229DC-35DA-11D1-9034-00A0C90349BE"),i.ErrorCorrectionObject=new i("75B22635-668E-11CF-A6D9-00AA0062CE6C"),i.ContentDescriptionObject=new i("75B22633-668E-11CF-A6D9-00AA0062CE6C"),i.ExtendedContentDescriptionObject=new i("D2D0A440-E307-11D2-97F0-00A0C95EA850"),i.ContentBrandingObject=new i("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E"),i.StreamBitratePropertiesObject=new i("7BF875CE-468D-11D1-8D82-006097C9A2B2"),i.ContentEncryptionObject=new i("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E"),i.ExtendedContentEncryptionObject=new i("298AE614-2622-4C17-B935-DAE07EE9289C"),i.DigitalSignatureObject=new i("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E"),i.PaddingObject=new i("1806D474-CADF-4509-A4BA-9AABCB96AAE8"),i.ExtendedStreamPropertiesObject=new i("14E6A5CB-C672-4332-8399-A96952065B5A"),i.AdvancedMutualExclusionObject=new i("A08649CF-4775-4670-8A16-6E35357566CD"),i.GroupMutualExclusionObject=new i("D1465A40-5A79-4338-B71B-E36B8FD6C249"),i.StreamPrioritizationObject=new i("D4FED15B-88D3-454F-81F0-ED5C45999E24"),i.BandwidthSharingObject=new i("A69609E6-517B-11D2-B6AF-00C04FD908E9"),i.LanguageListObject=new i("7C4346A9-EFE0-4BFC-B229-393EDE415C85"),i.MetadataObject=new i("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA"),i.MetadataLibraryObject=new i("44231C94-9498-49D1-A141-1D134E457054"),i.IndexParametersObject=new i("D6E229DF-35DA-11D1-9034-00A0C90349BE"),i.MediaObjectIndexParametersObject=new i("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7"),i.TimecodeIndexParametersObject=new i("F55E496D-9797-4B5D-8C8B-604DFE9BFB24"),i.CompatibilityObject=new i("26F18B5D-4584-47EC-9F5F-0E651F0452C9"),i.AdvancedContentEncryptionObject=new i("43058533-6981-49E6-9B74-AD12CB86D58C"),i.AudioMedia=new i("F8699E40-5B4D-11CF-A8FD-00805F5C442B"),i.VideoMedia=new i("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B"),i.CommandMedia=new i("59DACFC0-59E6-11D0-A3AC-00A0C90348F6"),i.JFIF_Media=new i("B61BE100-5B4E-11CF-A8FD-00805F5C442B"),i.Degradable_JPEG_Media=new i("35907DE0-E415-11CF-A917-00805F5C442B"),i.FileTransferMedia=new i("91BD222C-F21C-497A-8B6D-5AA86BFC0185"),i.BinaryMedia=new i("3AFB65E2-47EF-40F2-AC2C-70A90D71D343"),i.ASF_Index_Placeholder_Object=new i("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2"),t.default=i}).call(this,i("1c35").Buffer)},9363:function(e,t){var i=1e3,s=60*i,a=60*s,n=24*a,r=7*n,o=365.25*n;function c(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]),l=(t[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*r;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*a;case"minutes":case"minute":case"mins":case"min":case"m":return c*s;case"seconds":case"second":case"secs":case"sec":case"s":return c*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function l(e){var t=Math.abs(e);return t>=n?Math.round(e/n)+"d":t>=a?Math.round(e/a)+"h":t>=s?Math.round(e/s)+"m":t>=i?Math.round(e/i)+"s":e+"ms"}function u(e){var t=Math.abs(e);return t>=n?d(e,t,n,"day"):t>=a?d(e,t,a,"hour"):t>=s?d(e,t,s,"minute"):t>=i?d(e,t,i,"second"):e+" ms"}function d(e,t,i,s){var a=t>=1.5*i;return Math.round(e/i)+" "+s+(a?"s":"")}e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&e.length>0)return c(e);if("number"===i&&isFinite(e))return t.long?u(e):l(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"945c":function(e,t,i){},"956f":function(e,t,i){},"95c9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicParser=void 0;class s{init(e,t,i){return this.metadata=e,this.tokenizer=t,this.options=i,this}}t.BasicParser=s},9611:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.APEv2Parser=void 0;const s=i("34eb"),a=i("21c2"),n=i("6f58a"),r=i("d3ab"),o=i("95c9"),c=i("1d55"),l=(0,s.default)("music-metadata:parser:APEv2"),u="APEv2",d="APETAGEX";class h extends o.BasicParser{constructor(){super(...arguments),this.ape={}}static tryParseApeHeader(e,t,i){const s=new h;return s.init(e,t,i),s.tryParseApeHeader()}static calculateDuration(e){let t=e.totalFrames>1?e.blocksPerFrame*(e.totalFrames-1):0;return t+=e.finalFrameBlocks,t/e.sampleRate}static async findApeFooterOffset(t,i){const s=e.alloc(c.TagFooter.len);await t.randomRead(s,0,c.TagFooter.len,i-c.TagFooter.len);const a=c.TagFooter.get(s,0);if("APETAGEX"===a.ID)return l("APE footer header at offset="+i),{footer:a,offset:i-a.size}}static parseTagFooter(e,t,i){const s=c.TagFooter.get(t,t.length-c.TagFooter.len);if(s.ID!==d)throw new Error("Unexpected APEv2 Footer ID preamble value.");a.fromBuffer(t);const n=new h;return n.init(e,a.fromBuffer(t),i),n.parseTags(s)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<c.TagFooter.len)return void l("No APEv2 header found, end-of-file reached");const t=await this.tokenizer.peekToken(c.TagFooter);if(t.ID===d)return await this.tokenizer.ignore(c.TagFooter.len),this.parseTags(t);if(l("APEv2 header not found at offset="+this.tokenizer.position),this.tokenizer.fileInfo.size){const t=this.tokenizer.fileInfo.size-this.tokenizer.position,i=e.alloc(t);return await this.tokenizer.readBuffer(i),h.parseTagFooter(this.metadata,i,this.options)}}async parse(){const e=await this.tokenizer.readToken(c.DescriptorParser);if("MAC "!==e.ID)throw new Error("Unexpected descriptor ID");this.ape.descriptor=e;const t=e.descriptorBytes-c.DescriptorParser.len,i=await(t>0?this.parseDescriptorExpansion(t):this.parseHeader());return await this.tokenizer.ignore(i.forwardBytes),this.tryParseApeHeader()}async parseTags(t){const i=e.alloc(256);let s=t.size-c.TagFooter.len;l(`Parse APE tags at offset=${this.tokenizer.position}, size=${s}`);for(let a=0;a<t.fields;a++){if(s<c.TagItemHeader.len){this.metadata.addWarning(`APEv2 Tag-header: ${t.fields-a} items remaining, but no more tag data to read.`);break}const o=await this.tokenizer.readToken(c.TagItemHeader);s-=c.TagItemHeader.len+o.size,await this.tokenizer.peekBuffer(i,{length:Math.min(i.length,s)});let d=r.findZero(i,0,i.length);const h=await this.tokenizer.readToken(new n.StringType(d,"ascii"));switch(await this.tokenizer.ignore(1),s-=h.length+1,o.flags.dataType){case c.DataType.text_utf8:{const e=await this.tokenizer.readToken(new n.StringType(o.size,"utf8")),t=e.split(/\x00/g);for(const i of t)this.metadata.addTag(u,h,i);break}case c.DataType.binary:if(this.options.skipCovers)await this.tokenizer.ignore(o.size);else{const t=e.alloc(o.size);await this.tokenizer.readBuffer(t),d=r.findZero(t,0,t.length);const i=t.toString("utf8",0,d),s=e.from(t.slice(d+1));this.metadata.addTag(u,h,{description:i,data:s})}break;case c.DataType.external_info:l("Ignore external info "+h),await this.tokenizer.ignore(o.size);break;case c.DataType.reserved:l("Ignore external info "+h),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${h}"`),await this.tokenizer.ignore(o.size);break}}}async parseDescriptorExpansion(e){return await this.tokenizer.ignore(e),this.parseHeader()}async parseHeader(){const e=await this.tokenizer.readToken(c.Header);return this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",e.bitsPerSample),this.metadata.setFormat("sampleRate",e.sampleRate),this.metadata.setFormat("numberOfChannels",e.channel),this.metadata.setFormat("duration",h.calculateDuration(e)),{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}}t.APEv2Parser=h}).call(this,i("1c35").Buffer)},9761:function(e,t,i){},"98a7":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.FourCcToken=void 0;const s=i("d3ab"),a=/^[\x21-\x7e][\x20-\x7e\x00()]{3}/;t.FourCcToken={len:4,get:(e,i)=>{const n=e.toString("binary",i,i+t.FourCcToken.len);if(!n.match(a))throw new Error(`FourCC contains invalid characters: ${s.a2hex(n)} "${n}"`);return n},put:(t,i,s)=>{const a=e.from(s,"binary");if(4!==a.length)throw new Error("Invalid length");return a.copy(t,i)}}}).call(this,i("1c35").Buffer)},"9a69":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedLameHeader=void 0;const s=i("6f58a"),a=i("d3ab"),n=i("289b");t.ExtendedLameHeader={len:27,get:(e,t)=>{const i=s.UINT32_BE.get(e,t+2);return{revision:a.getBitAllignedNumber(e,t,0,4),vbr_method:a.getBitAllignedNumber(e,t,4,4),lowpass_filter:100*s.UINT8.get(e,t+1),track_peak:0===i?void 0:i/Math.pow(2,23),track_gain:n.ReplayGain.get(e,6),album_gain:n.ReplayGain.get(e,8),music_length:s.UINT32_BE.get(e,t+20),music_crc:s.UINT8.get(e,t+24),header_crc:s.UINT16_BE.get(e,t+24)}}}},"9cbc":function(e,t,i){"use strict";i("b31f")},"9cf8":function(e,t,i){},"9d49":function(e,t,i){"use strict";i("81d5b")},"9de9":function(e,t,i){},"9eef":function(e,t,i){"use strict";i("5128")},a046:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTokenizer=void 0;const s=i("20f8");class a{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(t,i=this.position){const a=e.alloc(t.len),n=await this.readBuffer(a,{position:i});if(n<t.len)throw new s.EndOfStreamError;return t.get(a,0)}async peekToken(t,i=this.position){const a=e.alloc(t.len),n=await this.peekBuffer(a,{position:i});if(n<t.len)throw new s.EndOfStreamError;return t.get(a,0)}async readNumber(e){const t=await this.readBuffer(this.numBuffer,{length:e.len});if(t<e.len)throw new s.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){const t=await this.peekBuffer(this.numBuffer,{length:e.len});if(t<e.len)throw new s.EndOfStreamError;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}t.AbstractTokenizer=a}).call(this,i("1c35").Buffer)},a062:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlacParser=void 0;const s=i("6f58a"),a=i("34eb"),n=i("d3ab"),r=i("7230"),o=i("4f83"),c=i("98a7"),l=i("bda5c"),u=i("599d"),d=(0,a.default)("music-metadata:parser:FLAC");var h;(function(e){e[e["STREAMINFO"]=0]="STREAMINFO",e[e["PADDING"]=1]="PADDING",e[e["APPLICATION"]=2]="APPLICATION",e[e["SEEKTABLE"]=3]="SEEKTABLE",e[e["VORBIS_COMMENT"]=4]="VORBIS_COMMENT",e[e["CUESHEET"]=5]="CUESHEET",e[e["PICTURE"]=6]="PICTURE"})(h||(h={}));class m extends o.AbstractID3Parser{constructor(){super(...arguments),this.padding=0}init(e,t,i){return super.init(e,t,i),this.vorbisParser=new l.VorbisParser(e,i),this}async postId3v2Parse(){const e=await this.tokenizer.readToken(c.FourCcToken);if("fLaC"!==e.toString())throw new Error("Invalid FLAC preamble");let t;do{t=await this.tokenizer.readToken(p.BlockHeader),await this.parseDataBlock(t)}while(!t.lastBlock);if(this.tokenizer.fileInfo.size&&this.metadata.format.duration){const e=this.tokenizer.fileInfo.size-this.tokenizer.position;this.metadata.setFormat("bitrate",8*e/this.metadata.format.duration)}}parseDataBlock(e){switch(d(`blockHeader type=${e.type}, length=${e.length}`),e.type){case h.STREAMINFO:return this.parseBlockStreamInfo(e.length);case h.PADDING:this.padding+=e.length;break;case h.APPLICATION:break;case h.SEEKTABLE:break;case h.VORBIS_COMMENT:return this.parseComment(e.length);case h.CUESHEET:break;case h.PICTURE:return this.parsePicture(e.length).then();default:this.metadata.addWarning("Unknown block type: "+e.type)}return this.tokenizer.ignore(e.length).then()}async parseBlockStreamInfo(e){if(e!==p.BlockStreamInfo.len)throw new Error("Unexpected block-stream-info length");const t=await this.tokenizer.readToken(p.BlockStreamInfo);this.metadata.setFormat("container","FLAC"),this.metadata.setFormat("codec","FLAC"),this.metadata.setFormat("lossless",!0),this.metadata.setFormat("numberOfChannels",t.channels),this.metadata.setFormat("bitsPerSample",t.bitsPerSample),this.metadata.setFormat("sampleRate",t.sampleRate),t.totalSamples>0&&this.metadata.setFormat("duration",t.totalSamples/t.sampleRate)}async parseComment(e){const t=await this.tokenizer.readToken(new s.Uint8ArrayType(e)),i=new u.VorbisDecoder(t,0);i.readStringUtf8();const a=i.readInt32();for(let s=0;s<a;s++){const e=i.parseUserComment();this.vorbisParser.addTag(e.key,e.value)}}async parsePicture(e){if(this.options.skipCovers)return this.tokenizer.ignore(e);{const t=await this.tokenizer.readToken(new r.VorbisPictureToken(e));this.vorbisParser.addTag("METADATA_BLOCK_PICTURE",t)}}}t.FlacParser=m;class p{}p.BlockHeader={len:4,get:(e,t)=>({lastBlock:n.getBit(e,t,7),type:n.getBitAllignedNumber(e,t,1,7),length:s.UINT24_BE.get(e,t+1)})},p.BlockStreamInfo={len:34,get:(e,t)=>({minimumBlockSize:s.UINT16_BE.get(e,t),maximumBlockSize:s.UINT16_BE.get(e,t+2)/1e3,minimumFrameSize:s.UINT24_BE.get(e,t+4),maximumFrameSize:s.UINT24_BE.get(e,t+7),sampleRate:s.UINT24_BE.get(e,t+10)>>4,channels:n.getBitAllignedNumber(e,t+12,4,3)+1,bitsPerSample:n.getBitAllignedNumber(e,t+12,7,5)+1,totalSamples:n.getBitAllignedNumber(e,t+13,4,36),fileMD5:new s.Uint8ArrayType(16).get(e,t+18)})}},a3bc:function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},a4e1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("34eb"),a=i("6f58a"),n=i("4f83"),r=i("53a89"),o=i("b85b"),c=(0,s.default)("music-metadata:parser:musepack");class l extends n.AbstractID3Parser{async postId3v2Parse(){const e=await this.tokenizer.peekToken(new a.StringType(3,"binary"));let t;switch(e){case"MP+":c("Musepack stream-version 7"),t=new o.MpcSv7Parser;break;case"MPC":c("Musepack stream-version 8"),t=new r.MpcSv8Parser;break;default:throw new Error("Invalid Musepack signature prefix")}return t.init(this.metadata,this.tokenizer,this.options),t.parse()}}t.default=l},a688:function(e,t,i){"use strict";function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function c(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}var l=i("1c35"),u=l.Buffer,d=i(9),h=d.inspect,m=h&&h.custom||"inspect";function p(e,t,i){u.prototype.copy.call(e,t,i)}e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return c(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";var t=this.head,i=""+t.data;while(t=t.next)i+=e+t.data;return i}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);var t=u.allocUnsafe(e>>>0),i=this.head,s=0;while(i)p(i.data,t,s),s+=i.data.length,i=i.next;return t}},{key:"consume",value:function(e,t){var i;return e<this.head.data.length?(i=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):i=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,i=1,s=t.data;e-=s.length;while(t=t.next){var a=t.data,n=e>a.length?a.length:e;if(n===a.length?s+=a:s+=a.slice(0,e),e-=n,0===e){n===a.length?(++i,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=a.slice(n));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),i=this.head,s=1;i.data.copy(t),e-=i.data.length;while(i=i.next){var a=i.data,n=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,n),e-=n,0===e){n===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(n));break}++s}return this.length-=s,t}},{key:m,value:function(e,t){return h(this,a({},t,{depth:0,customInspect:!1}))}}]),e}()},a6ed:function(e,t,i){"use strict";t["a"]=[{id:"minesweeper",name:"Minesweeper"},{id:"purbleplace",name:"Purble Place"},{id:"solitaire",name:"Solitaire"},{id:"tetris",name:"Classic Tetris",creator:"Albert Lobo"}]},a813:function(e,t,i){"use strict";i("ff51")},a869:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CombinedTagMapper=void 0;const s=i("37d4"),a=i("fa6f"),n=i("de36"),r=i("e035"),o=i("15bf"),c=i("feb6"),l=i("8f14"),u=i("46d9"),d=i("7e1e"),h=i("e1a9");class m{constructor(){this.tagMappers={},[new s.ID3v1TagMapper,new r.ID3v22TagMapper,new a.ID3v24TagMapper,new c.MP4TagMapper,new c.MP4TagMapper,new l.VorbisTagMapper,new o.APEv2TagMapper,new n.AsfTagMapper,new u.RiffInfoTagMapper,new d.MatroskaTagMapper,new h.AiffTagMapper].forEach(e=>{this.registerTagMapper(e)})}mapTag(e,t,i){const s=this.tagMappers[e];if(s)return this.tagMappers[e].mapGenericTag(t,i);throw new Error("No generic tag mapper defined for tag-format: "+e)}registerTagMapper(e){for(const t of e.tagTypes)this.tagMappers[t]=e}}t.CombinedTagMapper=m},aad3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdHeader=void 0;const s=i("6f58a");class a{constructor(e){if(this.len=e,e<19)throw new Error("ID-header-page 0 should be at least 19 bytes long")}get(e,t){return{magicSignature:new s.StringType(8,"ascii").get(e,t+0),version:e.readUInt8(t+8),channelCount:e.readUInt8(t+9),preSkip:e.readInt16LE(t+10),inputSampleRate:e.readInt32LE(t+12),outputGain:e.readInt16LE(t+16),channelMapping:e.readUInt8(t+18)}}}t.IdHeader=a},aae9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitReader=void 0;const s=i("6f58a");class a{constructor(e){this.tokenizer=e,this.pos=0,this.dword=void 0}async read(e){while(void 0===this.dword)this.dword=await this.tokenizer.readToken(s.UINT32_LE);let t=this.dword;return this.pos+=e,this.pos<32?(t>>>=32-this.pos,t&(1<<e)-1):(this.pos-=32,0===this.pos?(this.dword=void 0,t&(1<<e)-1):(this.dword=await this.tokenizer.readToken(s.UINT32_LE),this.pos&&(t<<=this.pos,t|=this.dword>>>32-this.pos),t&(1<<e)-1))}async ignore(e){if(this.pos>0){const t=32-this.pos;this.dword=void 0,e-=t,this.pos=0}const t=e%32,i=(e-t)/32;return await this.tokenizer.ignore(4*i),this.read(t)}}t.BitReader=a},ad3a:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.readXingHeader=t.XingHeaderFlags=t.LameEncoderVersion=t.InfoTagHeaderTag=void 0;const s=i("6f58a"),a=i("d3ab"),n=i("9a69");async function r(i){const a=await i.readToken(t.XingHeaderFlags),r={};a.frames&&(r.numFrames=await i.readToken(s.UINT32_BE)),a.bytes&&(r.streamSize=await i.readToken(s.UINT32_BE)),a.toc&&(r.toc=e.alloc(100),await i.readBuffer(r.toc)),a.vbrScale&&(r.vbrScale=await i.readToken(s.UINT32_BE));const o=await i.peekToken(new s.StringType(4,"ascii"));if("LAME"===o){await i.ignore(4),r.lame={version:await i.readToken(new s.StringType(5,"ascii"))};const e=r.lame.version.match(/\d+.\d+/g);if(e){const e=r.lame.version.match(/\d+.\d+/g)[0],t=e.split(".").map(e=>parseInt(e,10));t[0]>=3&&t[1]>=90&&(r.lame.extended=await i.readToken(n.ExtendedLameHeader))}}return r}t.InfoTagHeaderTag=new s.StringType(4,"ascii"),t.LameEncoderVersion=new s.StringType(6,"ascii"),t.XingHeaderFlags={len:4,get:(e,t)=>({frames:a.isBitSet(e,t,31),bytes:a.isBitSet(e,t,30),toc:a.isBitSet(e,t,29),vbrScale:a.isBitSet(e,t,28)})},t.readXingHeader=r}).call(this,i("1c35").Buffer)},aff6:function(e,t,i){},b120:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elements=void 0;const s=i("31de");t.elements={440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:s.DataType.uint},17143:{name:"ebmlReadVersion",value:s.DataType.uint},17138:{name:"ebmlMaxIDWidth",value:s.DataType.uint},17139:{name:"ebmlMaxSizeWidth",value:s.DataType.uint},17026:{name:"docType",value:s.DataType.string},17031:{name:"docTypeVersion",value:s.DataType.uint},17029:{name:"docTypeReadVersion",value:s.DataType.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",container:{21419:{name:"seekId",value:s.DataType.binary},21420:{name:"seekPosition",value:s.DataType.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:s.DataType.uid},29572:{name:"filename",value:s.DataType.string},3979555:{name:"prevUID",value:s.DataType.uid},3965867:{name:"prevFilename",value:s.DataType.string},4110627:{name:"nextUID",value:s.DataType.uid},4096955:{name:"nextFilename",value:s.DataType.string},2807729:{name:"timecodeScale",value:s.DataType.uint},17545:{name:"duration",value:s.DataType.float},17505:{name:"dateUTC",value:s.DataType.uint},31657:{name:"title",value:s.DataType.string},19840:{name:"muxingApp",value:s.DataType.string},22337:{name:"writingApp",value:s.DataType.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:s.DataType.uid},163:{name:"unknown",value:s.DataType.binary},167:{name:"position",value:s.DataType.uid},171:{name:"prevSize",value:s.DataType.uid}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:s.DataType.uint},29637:{name:"uid",value:s.DataType.uid},131:{name:"trackType",value:s.DataType.uint},185:{name:"flagEnabled",value:s.DataType.bool},136:{name:"flagDefault",value:s.DataType.bool},21930:{name:"flagForced",value:s.DataType.bool},156:{name:"flagLacing",value:s.DataType.bool},28135:{name:"minCache",value:s.DataType.uint},28136:{name:"maxCache",value:s.DataType.uint},2352003:{name:"defaultDuration",value:s.DataType.uint},2306383:{name:"timecodeScale",value:s.DataType.float},21358:{name:"name",value:s.DataType.string},2274716:{name:"language",value:s.DataType.string},134:{name:"codecID",value:s.DataType.string},25506:{name:"codecPrivate",value:s.DataType.binary},2459272:{name:"codecName",value:s.DataType.string},3839639:{name:"codecSettings",value:s.DataType.string},3883072:{name:"codecInfoUrl",value:s.DataType.string},2536e3:{name:"codecDownloadUrl",value:s.DataType.string},170:{name:"codecDecodeAll",value:s.DataType.bool},28587:{name:"trackOverlay",value:s.DataType.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:s.DataType.bool},21432:{name:"stereoMode",value:s.DataType.uint},176:{name:"pixelWidth",value:s.DataType.uint},186:{name:"pixelHeight",value:s.DataType.uint},21680:{name:"displayWidth",value:s.DataType.uint},21690:{name:"displayHeight",value:s.DataType.uint},21683:{name:"aspectRatioType",value:s.DataType.uint},3061028:{name:"colourSpace",value:s.DataType.uint},3126563:{name:"gammaValue",value:s.DataType.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:s.DataType.float},30901:{name:"outputSamplingFrequency",value:s.DataType.float},159:{name:"channels",value:s.DataType.uint},148:{name:"channels",value:s.DataType.uint},32123:{name:"channelPositions",value:s.DataType.binary},25188:{name:"bitDepth",value:s.DataType.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:s.DataType.uint},20530:{name:"scope",value:s.DataType.bool},20531:{name:"type",value:s.DataType.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:s.DataType.uint},16981:{name:"contentCompSettings",value:s.DataType.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:s.DataType.uint},18402:{name:"contentEncKeyID",value:s.DataType.binary},18403:{name:"contentSignature ",value:s.DataType.binary},18404:{name:"ContentSigKeyID  ",value:s.DataType.binary},18405:{name:"contentSigAlgo ",value:s.DataType.uint},18406:{name:"contentSigHashAlgo ",value:s.DataType.uint}}},25188:{name:"bitDepth",value:s.DataType.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:s.DataType.uid},183:{name:"positions",container:{247:{name:"track",value:s.DataType.uint},241:{name:"clusterPosition",value:s.DataType.uint},21368:{name:"blockNumber",value:s.DataType.uint},234:{name:"codecState",value:s.DataType.uint},219:{name:"reference",container:{150:{name:"time",value:s.DataType.uint},151:{name:"cluster",value:s.DataType.uint},21343:{name:"number",value:s.DataType.uint},235:{name:"codecState",value:s.DataType.uint}}},240:{name:"relativePosition",value:s.DataType.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:s.DataType.string},18030:{name:"name",value:s.DataType.string},18016:{name:"mimeType",value:s.DataType.string},18012:{name:"data",value:s.DataType.binary},18094:{name:"uid",value:s.DataType.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:s.DataType.uid},145:{name:"timeStart",value:s.DataType.uint},146:{name:"timeEnd",value:s.DataType.uid},152:{name:"hidden",value:s.DataType.bool},17816:{name:"enabled",value:s.DataType.uid},143:{name:"track",container:{137:{name:"trackNumber",value:s.DataType.uid},128:{name:"display",container:{133:{name:"string",value:s.DataType.string},17276:{name:"language ",value:s.DataType.string},17278:{name:"country ",value:s.DataType.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:s.DataType.uid},25540:{name:"tagChapterUID",value:s.DataType.uint},25542:{name:"tagAttachmentUID",value:s.DataType.uid},25546:{name:"targetType",value:s.DataType.string},26826:{name:"targetTypeValue",value:s.DataType.uint},25545:{name:"tagEditionUID",value:s.DataType.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:s.DataType.string},17543:{name:"string",value:s.DataType.string},17541:{name:"binary",value:s.DataType.binary},17530:{name:"language",value:s.DataType.string},17531:{name:"languageIETF",value:s.DataType.string},17540:{name:"default",value:s.DataType.bool}}}}}}}}}}},b31f:function(e,t,i){},b7d1:function(e,t,i){(function(t){function i(e,t){if(s("noDeprecation"))return e;var i=!1;function a(){if(!i){if(s("throwDeprecation"))throw new Error(t);s("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}return a}function s(e){try{if(!t.localStorage)return!1}catch(s){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i}).call(this,i("c8ba"))},b84d:function(e,t,i){"use strict";(function(t,s){function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}var n;e.exports=A,A.WritableState=x;var r={deprecate:i("b7d1")},o=i("5184"),c=i("1c35").Buffer,l=t.Uint8Array||function(){};function u(e){return c.from(e)}function d(e){return c.isBuffer(e)||e instanceof l}var h,m=i("789d"),p=i("e113"),f=p.getHighWaterMark,g=i("1b08").codes,b=g.ERR_INVALID_ARG_TYPE,v=g.ERR_METHOD_NOT_IMPLEMENTED,y=g.ERR_MULTIPLE_CALLBACK,w=g.ERR_STREAM_CANNOT_PIPE,S=g.ERR_STREAM_DESTROYED,k=g.ERR_STREAM_NULL_VALUES,T=g.ERR_STREAM_WRITE_AFTER_END,_=g.ERR_UNKNOWN_ENCODING,C=m.errorOrDestroy;function P(){}function x(e,t,s){n=n||i("845f"),e=e||{},"boolean"!==typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=!1===e.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){R(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function A(e){n=n||i("845f");var t=this instanceof n;if(!t&&!h.call(A,this))return new A(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),o.call(this)}function I(e,t){var i=new T;C(e,i),s.nextTick(t,i)}function O(e,t,i,a){var n;return null===i?n=new k:"string"===typeof i||t.objectMode||(n=new b("chunk",["string","Buffer"],i)),!n||(C(e,n),s.nextTick(a,n),!1)}function M(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,i)),t}function L(e,t,i,s,a,n){if(!i){var r=M(t,s,a);s!==r&&(i=!0,a="buffer",s=r)}var o=t.objectMode?1:s.length;t.length+=o;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:s,encoding:a,isBuf:i,callback:n,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else $(e,t,!1,o,s,a,n);return c}function $(e,t,i,s,a,n,r){t.writelen=s,t.writecb=r,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new S("write")):i?e._writev(a,t.onwrite):e._write(a,n,t.onwrite),t.sync=!1}function E(e,t,i,a,n){--t.pendingcb,i?(s.nextTick(n,a),s.nextTick(H,e,t),e._writableState.errorEmitted=!0,C(e,a)):(n(a),e._writableState.errorEmitted=!0,C(e,a),H(e,t))}function D(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function R(e,t){var i=e._writableState,a=i.sync,n=i.writecb;if("function"!==typeof n)throw new y;if(D(i),t)E(e,i,a,t,n);else{var r=j(i)||e.destroyed;r||i.corked||i.bufferProcessing||!i.bufferedRequest||F(e,i),a?s.nextTick(N,e,i,r,n):N(e,i,r,n)}}function N(e,t,i,s){i||B(e,t),t.pendingcb--,s(),H(e,t)}function B(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function F(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var s=t.bufferedRequestCount,n=new Array(s),r=t.corkedRequestsFree;r.entry=i;var o=0,c=!0;while(i)n[o]=i,i.isBuf||(c=!1),i=i.next,o+=1;n.allBuffers=c,$(e,t,!0,t.length,n,"",r.finish),t.pendingcb++,t.lastBufferedRequest=null,r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{while(i){var l=i.chunk,u=i.encoding,d=i.callback,h=t.objectMode?1:l.length;if($(e,t,!1,h,l,u,d),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function U(e,t){e._final((function(i){t.pendingcb--,i&&C(e,i),t.prefinished=!0,e.emit("prefinish"),H(e,t)}))}function z(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,s.nextTick(U,e,t)))}function H(e,t){var i=j(t);if(i&&(z(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var s=e._readableState;(!s||s.autoDestroy&&s.endEmitted)&&e.destroy()}return i}function V(e,t,i){t.ending=!0,H(e,t),i&&(t.finished?s.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}function W(e,t,i){var s=e.entry;e.entry=null;while(s){var a=s.callback;t.pendingcb--,a(i),s=s.next}t.corkedRequestsFree.next=e}i("3fb5")(A,o),x.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===A&&(e&&e._writableState instanceof x)}})):h=function(e){return e instanceof this},A.prototype.pipe=function(){C(this,new w)},A.prototype.write=function(e,t,i){var s=this._writableState,a=!1,n=!s.objectMode&&d(e);return n&&!c.isBuffer(e)&&(e=u(e)),"function"===typeof t&&(i=t,t=null),n?t="buffer":t||(t=s.defaultEncoding),"function"!==typeof i&&(i=P),s.ending?I(this,i):(n||O(this,s,e,i))&&(s.pendingcb++,a=L(this,s,n,e,t,i)),a},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||F(this,e))},A.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(e,t,i){i(new v("_write()"))},A.prototype._writev=null,A.prototype.end=function(e,t,i){var s=this._writableState;return"function"===typeof e?(i=e,e=null,t=null):"function"===typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||V(this,s,i),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),A.prototype.destroy=m.destroy,A.prototype._undestroy=m.undestroy,A.prototype._destroy=function(e,t){t(e)}}).call(this,i("c8ba"),i("4362"))},b855:function(e,t,i){"use strict";i("8115")},b85b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MpcSv7Parser=void 0;const s=i("34eb"),a=i("95c9"),n=i("9611"),r=i("aae9"),o=i("7eca"),c=(0,s.default)("music-metadata:parser:musepack");class l extends a.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){const e=await this.tokenizer.readToken(o.Header);if("MP+"!==e.signature)throw new Error("Unexpected magic number");c(`stream-version=${e.streamMajorVersion}.${e.streamMinorVersion}`),this.metadata.setFormat("container","Musepack, SV7"),this.metadata.setFormat("sampleRate",e.sampleFrequency);const t=1152*(e.frameCount-1)+e.lastFrameLength;this.metadata.setFormat("numberOfSamples",t),this.duration=t/e.sampleFrequency,this.metadata.setFormat("duration",this.duration),this.bitreader=new r.BitReader(this.tokenizer),this.metadata.setFormat("numberOfChannels",e.midSideStereo||e.intensityStereo?2:1);const i=await this.bitreader.read(8);return this.metadata.setFormat("codec",(i/100).toFixed(2)),await this.skipAudioData(e.frameCount),c("End of audio stream, switching to APEv2, offset="+this.tokenizer.position),n.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async skipAudioData(e){while(e-- >0){const e=await this.bitreader.read(20);this.audioLength+=20+e,await this.bitreader.ignore(e)}const t=await this.bitreader.read(11);this.audioLength+=t,this.metadata.setFormat("bitrate",this.audioLength/this.duration)}}t.MpcSv7Parser=l},b85c:function(e,t,i){"use strict";i("caee")},b932:function(e,t,i){},ba85:function(e,t,i){"use strict";i("3da4")},bd7a:function(e,t,i){"use strict";(function(t,s){var a;e.exports=I,I.ReadableState=A;i("faa1").EventEmitter;var n=function(e,t){return e.listeners(t).length},r=i("5184"),o=i("1c35").Buffer,c=t.Uint8Array||function(){};function l(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof c}var d,h=i(8);d=h&&h.debuglog?h.debuglog("stream"):function(){};var m,p,f,g=i("a688"),b=i("789d"),v=i("e113"),y=v.getHighWaterMark,w=i("1b08").codes,S=w.ERR_INVALID_ARG_TYPE,k=w.ERR_STREAM_PUSH_AFTER_EOF,T=w.ERR_METHOD_NOT_IMPLEMENTED,_=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("3fb5")(I,r);var C=b.errorOrDestroy,P=["error","close","destroy","pause","resume"];function x(e,t,i){if("function"===typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}function A(e,t,s){a=a||i("845f"),e=e||{},"boolean"!==typeof s&&(s=t instanceof a),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",s),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(m||(m=i("7d72").StringDecoder),this.decoder=new m(e.encoding),this.encoding=e.encoding)}function I(e){if(a=a||i("845f"),!(this instanceof I))return new I(e);var t=this instanceof a;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),r.call(this)}function O(e,t,i,s,a){d("readableAddChunk",t);var n,r=e._readableState;if(null===t)r.reading=!1,R(e,r);else if(a||(n=L(r,t)),n)C(e,n);else if(r.objectMode||t&&t.length>0)if("string"===typeof t||r.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=l(t)),s)r.endEmitted?C(e,new _):M(e,r,t,!0);else if(r.ended)C(e,new k);else{if(r.destroyed)return!1;r.reading=!1,r.decoder&&!i?(t=r.decoder.write(t),r.objectMode||0!==t.length?M(e,r,t,!1):F(e,r)):M(e,r,t,!1)}else s||(r.reading=!1,F(e,r));return!r.ended&&(r.length<r.highWaterMark||0===r.length)}function M(e,t,i,s){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,s?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&N(e)),F(e,t)}function L(e,t){var i;return u(t)||"string"===typeof t||void 0===t||e.objectMode||(i=new S("chunk",["string","Buffer","Uint8Array"],t)),i}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),I.prototype.destroy=b.destroy,I.prototype._undestroy=b.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype.push=function(e,t){var i,s=this._readableState;return s.objectMode?i=!0:"string"===typeof e&&(t=t||s.defaultEncoding,t!==s.encoding&&(e=o.from(e,t),t=""),i=!0),O(this,e,t,!1,i)},I.prototype.unshift=function(e){return O(this,e,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(e){m||(m=i("7d72").StringDecoder);var t=new m(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;var s=this._readableState.buffer.head,a="";while(null!==s)a+=t.write(s.data),s=s.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};var $=1073741824;function E(e){return e>=$?e=$:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e,t){if(d("onEofChunk"),!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?N(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,B(e)))}}function N(e){var t=e._readableState;d("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,s.nextTick(B,e))}function B(e){var t=e._readableState;d("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,G(e)}function F(e,t){t.readingMore||(t.readingMore=!0,s.nextTick(j,e,t))}function j(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length)){var i=t.length;if(d("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}function U(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,G(e))}}function z(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){d("readable nexttick read 0"),e.read(0)}function V(e,t){t.resumeScheduled||(t.resumeScheduled=!0,s.nextTick(W,e,t))}function W(e,t){d("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),G(e),t.flowing&&!t.reading&&e.read(0)}function G(e){var t=e._readableState;d("flow",t.flowing);while(t.flowing&&null!==e.read());}function X(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i);var i}function q(e){var t=e._readableState;d("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,s.nextTick(Y,t,e))}function Y(e,t){if(d("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var i=t._writableState;(!i||i.autoDestroy&&i.finished)&&t.destroy()}}function K(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1}I.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?q(this):N(this),null;if(e=D(e,t),0===e&&t.ended)return 0===t.length&&q(this),null;var s,a=t.needReadable;return d("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&(a=!0,d("length less than watermark",a)),t.ended||t.reading?(a=!1,d("reading or ended",a)):a&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(i,t))),s=e>0?X(e,t):null,null===s?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&q(this)),null!==s&&this.emit("data",s),s},I.prototype._read=function(e){C(this,new T("_read()"))},I.prototype.pipe=function(e,t){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e);break}a.pipesCount+=1,d("pipe count=%d opts=%j",a.pipesCount,t);var r=(!t||!1!==t.end)&&e!==s.stdout&&e!==s.stderr,o=r?l:v;function c(e,t){d("onunpipe"),e===i&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,m())}function l(){d("onend"),e.end()}a.endEmitted?s.nextTick(o):i.once("end",o),e.on("unpipe",c);var u=U(i);e.on("drain",u);var h=!1;function m(){d("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",c),i.removeListener("end",l),i.removeListener("end",v),i.removeListener("data",p),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}function p(t){d("ondata");var s=e.write(t);d("dest.write",s),!1===s&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==K(a.pipes,e))&&!h&&(d("false write response, pause",a.awaitDrain),a.awaitDrain++),i.pause())}function f(t){d("onerror",t),v(),e.removeListener("error",f),0===n(e,"error")&&C(e,t)}function g(){e.removeListener("finish",b),v()}function b(){d("onfinish"),e.removeListener("close",g),v()}function v(){d("unpipe"),i.unpipe(e)}return i.on("data",p),x(e,"error",f),e.once("close",g),e.once("finish",b),e.emit("pipe",i),a.flowing||(d("pipe resume"),i.resume()),e},I.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var s=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var n=0;n<a;n++)s[n].emit("unpipe",this,{hasUnpiped:!1});return this}var r=K(t.pipes,e);return-1===r||(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},I.prototype.on=function(e,t){var i=r.prototype.on.call(this,e,t),a=this._readableState;return"data"===e?(a.readableListening=this.listenerCount("readable")>0,!1!==a.flowing&&this.resume()):"readable"===e&&(a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,d("on readable",a.length,a.reading),a.length?N(this):a.reading||s.nextTick(H,this))),i},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(e,t){var i=r.prototype.removeListener.call(this,e,t);return"readable"===e&&s.nextTick(z,this),i},I.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||s.nextTick(z,this),t},I.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!e.readableListening,V(this,e)),e.paused=!1,this},I.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(e){var t=this,i=this._readableState,s=!1;for(var a in e.on("end",(function(){if(d("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){if(d("wrapped data"),i.decoder&&(a=i.decoder.write(a)),(!i.objectMode||null!==a&&void 0!==a)&&(i.objectMode||a&&a.length)){var n=t.push(a);n||(s=!0,e.pause())}})),e)void 0===this[a]&&"function"===typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var n=0;n<P.length;n++)e.on(P[n],this.emit.bind(this,P[n]));return this._read=function(t){d("wrapped _read",t),s&&(s=!1,e.resume())},this},"function"===typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=i("82de")),p(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),I._fromList=X,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(I.from=function(e,t){return void 0===f&&(f=i("a3bc")),f(I,e,t)})}).call(this,i("c8ba"),i("4362"))},bda5c:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.VorbisParser=void 0;const s=i("6f58a"),a=i("34eb"),n=i("599d"),r=i("7230"),o=(0,a.default)("music-metadata:parser:ogg:vorbis1");class c{constructor(e,t){this.metadata=e,this.options=t,this.pageSegments=[]}parsePage(t,i){if(t.headerType.firstPage)this.parseFirstPage(t,i);else{if(t.headerType.continued){if(0===this.pageSegments.length)throw new Error("Cannot continue on previous page");this.pageSegments.push(i)}if(t.headerType.lastPage||!t.headerType.continued){if(this.pageSegments.length>0){const t=e.concat(this.pageSegments);this.parseFullPage(t)}this.pageSegments=t.headerType.lastPage?[]:[i]}}t.headerType.lastPage&&this.calculateDuration(t)}flush(){this.parseFullPage(e.concat(this.pageSegments))}parseUserComment(e,t){const i=new n.VorbisDecoder(e,t),s=i.parseUserComment();return this.addTag(s.key,s.value),s.len}addTag(e,t){if("METADATA_BLOCK_PICTURE"===e&&"string"===typeof t){if(this.options.skipCovers)return void o("Ignore picture");t=r.VorbisPictureToken.fromBase64(t),o(`Push picture: id=${e}, format=${t.format}`)}else o(`Push tag: id=${e}, value=${t}`);this.metadata.addTag("vorbis",e,t)}calculateDuration(e){this.metadata.format.sampleRate&&e.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",e.absoluteGranulePosition),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate))}parseFirstPage(e,t){this.metadata.setFormat("codec","Vorbis I"),o("Parse first page");const i=r.CommonHeader.get(t,0);if("vorbis"!==i.vorbis)throw new Error("Metadata does not look like Vorbis");if(1!==i.packetType)throw new Error("First Ogg page should be type 1: the identification header");{const e=r.IdentificationHeader.get(t,r.CommonHeader.len);this.metadata.setFormat("sampleRate",e.sampleRate),this.metadata.setFormat("bitrate",e.bitrateNominal),this.metadata.setFormat("numberOfChannels",e.channelMode),o("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",e.sampleRate,e.bitrateNominal,e.channelMode)}}parseFullPage(e){const t=r.CommonHeader.get(e,0);switch(o("Parse full page: type=%s, byteLength=%s",t.packetType,e.byteLength),t.packetType){case 3:return this.parseUserCommentList(e,r.CommonHeader.len);case 1:case 5:break}}parseUserCommentList(e,t){const i=s.UINT32_LE.get(e,t);t+=4,t+=i;let a=s.UINT32_LE.get(e,t);t+=4;while(a-- >0)t+=this.parseUserComment(e,t)}}t.VorbisParser=c}).call(this,i("1c35").Buffer)},be1b:function(e,t,i){"use strict";i("e448")},bef3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Atom=void 0;const s=i("34eb"),a=i("150c"),n=(0,s.default)("music-metadata:parser:MP4:Atom");class r{static async readAtom(e,t,i,s){const o=e.position,c=await e.readToken(a.Header),l=c.length===BigInt(1);l&&(c.length=await e.readToken(a.ExtendedSize));const u=new r(c,c.length===BigInt(1),i),d=u.getPayloadLength(s);return n(`parse atom name=${u.atomPath}, extended=${u.extended}, offset=${o}, len=${u.header.length}`),await u.readData(e,t,d),u}constructor(e,t,i){this.header=e,this.extended=t,this.parent=i,this.children=[],this.atomPath=(this.parent?this.parent.atomPath+".":"")+this.header.name}getHeaderLength(){return this.extended?16:8}getPayloadLength(e){return(this.header.length===BigInt(0)?e:Number(this.header.length))-this.getHeaderLength()}async readAtoms(e,t,i){while(i>0){const s=await r.readAtom(e,t,this,i);this.children.push(s),i-=s.header.length===BigInt(0)?i:Number(s.header.length)}}async readData(e,t,i){switch(this.header.name){case"moov":case"udta":case"trak":case"mdia":case"minf":case"stbl":case"<id>":case"ilst":case"tref":return this.readAtoms(e,t,this.getPayloadLength(i));case"meta":const s=await e.peekToken(a.Header),n="hdlr"===s.name?0:4;return await e.ignore(n),this.readAtoms(e,t,this.getPayloadLength(i)-n);case"mdhd":case"mvhd":case"tkhd":case"stsz":case"mdat":default:return t(this,i)}}}t.Atom=r},c25d:function(e,t,i){"use strict";i("fe07")},c28a:function(e,t,i){},c317:function(e,t,i){"use strict";i("d58b")},c347:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BroadcastAudioExtensionChunk=void 0;const s=i("6f58a"),a=i("d3ab");t.BroadcastAudioExtensionChunk={len:420,get:(e,t)=>({description:(0,a.stripNulls)(new s.StringType(256,"ascii").get(e,t)).trim(),originator:(0,a.stripNulls)(new s.StringType(32,"ascii").get(e,t+256)).trim(),originatorReference:(0,a.stripNulls)(new s.StringType(32,"ascii").get(e,t+288)).trim(),originationDate:(0,a.stripNulls)(new s.StringType(10,"ascii").get(e,t+320)).trim(),originationTime:(0,a.stripNulls)(new s.StringType(8,"ascii").get(e,t+330)).trim(),timeReferenceLow:s.UINT32_LE.get(e,t+338),timeReferenceHigh:s.UINT32_LE.get(e,t+342),version:s.UINT16_LE.get(e,t+346),umid:new s.Uint8ArrayType(64).get(e,t+348),loudnessValue:s.UINT16_LE.get(e,t+412),maxTruePeakLevel:s.UINT16_LE.get(e,t+414),maxMomentaryLoudness:s.UINT16_LE.get(e,t+416),maxShortTermLoudness:s.UINT16_LE.get(e,t+418)})}},c4dc:function(e,t,i){"use strict";var s=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,a=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,n=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function r(e){if(!e||"object"!==typeof e)throw new TypeError("argument obj is required");var t=e.subtype,i=e.suffix,n=e.type;if(!n||!a.test(n))throw new TypeError("invalid type");if(!t||!s.test(t))throw new TypeError("invalid subtype");var r=n+"/"+t;if(i){if(!a.test(i))throw new TypeError("invalid suffix");r+="+"+i}return r}function o(e){if(!e)throw new TypeError("argument string is required");if("string"!==typeof e)throw new TypeError("argument string is required to be a string");return n.test(e.toLowerCase())}function c(e){if(!e)throw new TypeError("argument string is required");if("string"!==typeof e)throw new TypeError("argument string is required to be a string");var t=n.exec(e.toLowerCase());if(!t)throw new TypeError("invalid media type");var i,s=t[1],a=t[2],r=a.lastIndexOf("+");return-1!==r&&(i=a.substr(r+1),a=a.substr(0,r)),new l(s,a,i)}function l(e,t,i){this.type=e,this.subtype=t,this.suffix=i}t.format=r,t.parse=c,t.test=o},c536:function(e,t,i){"use strict";i("3f71")},c6d6:function(e,t,i){"use strict";e.exports=a;var s=i("8a58");function a(e){if(!(this instanceof a))return new a(e);s.call(this,e)}i("3fb5")(a,s),a.prototype._transform=function(e,t,i){i(null,e)}},c73e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpusParser=void 0;const s=i("6f58a"),a=i("bda5c"),n=i("aad3");class r extends a.VorbisParser{constructor(e,t,i){super(e,t),this.tokenizer=i,this.lastPos=-1}parseFirstPage(e,t){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new n.IdHeader(t.length).get(t,0),"OpusHead"!==this.idHeader.magicSignature)throw new Error("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount)}parseFullPage(e){const t=new s.StringType(8,"ascii").get(e,0);switch(t){case"OpusTags":this.parseUserCommentList(e,8),this.lastPos=this.tokenizer.position-e.length;break;default:break}}calculateDuration(e){if(this.metadata.format.sampleRate&&e.absoluteGranulePosition>=0){const t=e.absoluteGranulePosition-this.idHeader.preSkip;if(this.metadata.setFormat("numberOfSamples",t),this.metadata.setFormat("duration",t/48e3),-1!==this.lastPos&&this.tokenizer.fileInfo.size&&this.metadata.format.duration){const e=this.tokenizer.fileInfo.size-this.lastPos;this.metadata.setFormat("bitrate",8*e/this.metadata.format.duration)}}}}t.OpusParser=r},cadb:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o}));const s="06:30",a="18:30";function n(e){const[t,i]=e.split(":").map(Number);return 60*t+i}function r(e){let t,i;if(e)t=e.split(":")[0],i=n(e);else{const e=new Date;t=e.getHours(),i=n(t+":"+e.getMinutes())}return t<=23&&i>=n(a)||t>=0&&i<=n(s)}function o(e){let t=Math.floor(e/3600);e=Math.floor(e%3600);let i=Math.floor(e/60),s=Math.floor(e%60);return s=s.toString().padStart(2,"0"),t?(i=i.toString().padStart(2,"0"),`${t}:${i}:${s}`):`${i}:${s}`}},caee:function(e,t,i){},cb4f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WavPack=void 0;const s=i("6f58a"),a=i("98a7"),n=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1];class r{static isBitSet(e,t){return 1===r.getBitAllignedNumber(e,t,1)}static getBitAllignedNumber(e,t,i){return e>>>t&4294967295>>>32-i}}r.BlockHeaderToken={len:32,get:(e,t)=>{const i=s.UINT32_LE.get(e,t+24),o={BlockID:a.FourCcToken.get(e,t),blockSize:s.UINT32_LE.get(e,t+4),version:s.UINT16_LE.get(e,t+8),totalSamples:s.UINT32_LE.get(e,t+12),blockIndex:s.UINT32_LE.get(e,t+16),blockSamples:s.UINT32_LE.get(e,t+20),flags:{bitsPerSample:8*(1+r.getBitAllignedNumber(i,0,2)),isMono:r.isBitSet(i,2),isHybrid:r.isBitSet(i,3),isJointStereo:r.isBitSet(i,4),crossChannel:r.isBitSet(i,5),hybridNoiseShaping:r.isBitSet(i,6),floatingPoint:r.isBitSet(i,7),samplingRate:n[r.getBitAllignedNumber(i,23,4)],isDSD:r.isBitSet(i,31)},crc:new s.Uint8ArrayType(4).get(e,t+28)};return o.flags.isDSD&&(o.totalSamples*=8),o}},r.MetadataIdToken={len:1,get:(e,t)=>({functionId:r.getBitAllignedNumber(e[t],0,6),isOptional:r.isBitSet(e[t],5),isOddSize:r.isBitSet(e[t],6),largeBlock:r.isBitSet(e[t],7)})},t.WavPack=r},cb96:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFromUrl=t.parseBlob=t.parseReadableStream=t.parseNodeStream=t.selectCover=t.ratingToStars=t.orderTags=t.parseFromTokenizer=t.parseBuffer=void 0;const s=i("34eb"),a=i("e375"),n=i("5cf0"),r=s("music-metadata-browser:main");var o=i("e375");async function c(e,i,s){const a=new n.ReadableWebToNodeStream(e),r=await(0,t.parseNodeStream)(a,"string"===typeof i?{mimeType:i}:i,s);return await a.close(),r}async function l(e,t){const i={mimeType:e.type,size:e.size};e instanceof File&&(i.path=e.name);const s=e.stream?e.stream():u(e);return c(s,{mimeType:e.type,size:e.size},t)}function u(e){const t=new FileReader;return new ReadableStream({start(i){t.onloadend=e=>{let t=e.target.result;t instanceof ArrayBuffer&&(t=new Uint8Array(t)),i.enqueue(t),i.close()},t.onerror=e=>{i.close()},t.onabort=e=>{i.close()},t.readAsArrayBuffer(e)}})}async function d(e,t){const i=await fetch(e),s={size:parseInt(i.headers.get("Content-Length"),10),mimeType:i.headers.get("Content-Type")};if(i.ok){if(i.body){const e=await c(i.body,s,t);return r("Closing HTTP-readable-stream..."),i.body.locked||await i.body.cancel(),r("HTTP-readable-stream closed."),e}return l(await i.blob(),t)}throw new Error(`HTTP error status=${i.status}: ${i.statusText}`)}Object.defineProperty(t,"parseBuffer",{enumerable:!0,get:function(){return o.parseBuffer}}),Object.defineProperty(t,"parseFromTokenizer",{enumerable:!0,get:function(){return o.parseFromTokenizer}}),Object.defineProperty(t,"orderTags",{enumerable:!0,get:function(){return o.orderTags}}),Object.defineProperty(t,"ratingToStars",{enumerable:!0,get:function(){return o.ratingToStars}}),Object.defineProperty(t,"selectCover",{enumerable:!0,get:function(){return o.selectCover}}),t.parseNodeStream=a.parseStream,t.parseReadableStream=c,t.parseBlob=l,t.fetchFromUrl=d},cc04:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkHeader64=void 0;const s=i("6f58a"),a=i("98a7");t.ChunkHeader64={len:12,get:(e,t)=>({chunkID:a.FourCcToken.get(e,t),chunkSize:s.INT64_BE.get(e,t+4)})}},ccdd:function(e,t,i){},cde0:function(e,t,i){"use strict";i("dfe8")},cec2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackType=void 0;var s=i("31de");Object.defineProperty(t,"TrackType",{enumerable:!0,get:function(){return s.TrackType}})},cf6a:function(e,t,i){"use strict";i("ebf2")},d02e:function(e,t,i){"use strict";i("ccdd")},d0dc:function(e,t,i){"use strict";i("e585")},d2c7:function(e,t,i){"use strict";i("730a")},d2f0:function(e,t,i){},d3ab:function(e,t,i){"use strict";(function(e){function i(e,t,i){return 0!==(e[t]&1<<i)}function s(e,t,i,s){let a=t;if("utf16le"===s){while(0!==e[a]||0!==e[a+1]){if(a>=i)return i;a+=2}return a}while(0!==e[a]){if(a>=i)return i;a++}return a}function a(e){const t=e.indexOf("\0");return-1===t?e:e.substr(0,t)}function n(e){const t=e.length;if(0!==(1&t))throw new Error("Buffer length must be even");for(let i=0;i<t;i+=2){const t=e[i];e[i]=e[i+1],e[i+1]=t}return e}function r(t,i){if(255===t[0]&&254===t[1])return r(t.subarray(2),i);if("utf16le"===i&&254===t[0]&&255===t[1]){if(0!==(1&t.length))throw new Error("Expected even number of octets for 16-bit unicode string");return r(n(t),i)}return e.from(t).toString(i)}function o(e){return e=e.replace(/^\x00+/g,""),e=e.replace(/\x00+$/g,""),e}function c(e,t,i,s){const a=t+~~(i/8),n=i%8;let r=e[a];r&=255>>n;const o=8-n,l=s-o;return l<0?r>>=8-n-s:l>0&&(r<<=l,r|=c(e,t,i+o,l)),r}function l(e,t,i){return 1===c(e,t,i,1)}function u(e){const t=[];for(let i=0,s=e.length;i<s;i++){const s=Number(e.charCodeAt(i)).toString(16);t.push(1===s.length?"0"+s:s)}return t.join(" ")}function d(e){return 10*Math.log10(e)}function h(e){return Math.pow(10,e/10)}function m(e){const t=e.split(" ").map(e=>e.trim().toLowerCase());if(t.length>=1){const e=parseFloat(t[0]);return 2===t.length&&"db"===t[1]?{dB:e,ratio:h(e)}:{dB:d(e),ratio:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.toRatio=t.dbToRatio=t.ratioToDb=t.a2hex=t.isBitSet=t.getBitAllignedNumber=t.stripNulls=t.decodeString=t.trimRightNull=t.findZero=t.getBit=void 0,t.getBit=i,t.findZero=s,t.trimRightNull=a,t.decodeString=r,t.stripNulls=o,t.getBitAllignedNumber=c,t.isBitSet=l,t.a2hex=u,t.ratioToDb=d,t.dbToRatio=h,t.toRatio=m}).call(this,i("1c35").Buffer)},d4cf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WaveParser=void 0;const s=i("21c2"),a=i("6f58a"),n=i("34eb"),r=i("8f5f"),o=i("8737"),c=i("64a4"),l=i("d3ab"),u=i("98a7"),d=i("95c9"),h=i("c347"),m=(0,n.default)("music-metadata:parser:RIFF");class p extends d.BasicParser{async parse(){const e=await this.tokenizer.readToken(r.Header);if(m(`pos=${this.tokenizer.position}, parse: chunkID=${e.chunkID}`),"RIFF"===e.chunkID)return this.parseRiffChunk(e.chunkSize).catch(e=>{if(!(e instanceof s.EndOfStreamError))throw e})}async parseRiffChunk(e){const t=await this.tokenizer.readToken(u.FourCcToken);switch(this.metadata.setFormat("container",t),t){case"WAVE":return this.readWaveChunk(e-u.FourCcToken.len);default:throw new Error("Unsupported RIFF format: RIFF/"+t)}}async readWaveChunk(e){while(e>=r.Header.len){const t=await this.tokenizer.readToken(r.Header);switch(e-=r.Header.len+t.chunkSize,t.chunkSize>e&&this.metadata.addWarning("Data chunk size exceeds file size"),this.header=t,m(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${t.chunkID}`),t.chunkID){case"LIST":await this.parseListTag(t);break;case"fact":this.metadata.setFormat("lossless",!1),this.fact=await this.tokenizer.readToken(new o.FactChunk(t));break;case"fmt ":const e=await this.tokenizer.readToken(new o.Format(t));let i=o.WaveFormat[e.wFormatTag];i||(m("WAVE/non-PCM format="+e.wFormatTag),i="non-PCM ("+e.wFormatTag+")"),this.metadata.setFormat("codec",i),this.metadata.setFormat("bitsPerSample",e.wBitsPerSample),this.metadata.setFormat("sampleRate",e.nSamplesPerSec),this.metadata.setFormat("numberOfChannels",e.nChannels),this.metadata.setFormat("bitrate",e.nBlockAlign*e.nSamplesPerSec*8),this.blockAlign=e.nBlockAlign;break;case"id3 ":case"ID3 ":const n=await this.tokenizer.readToken(new a.Uint8ArrayType(t.chunkSize)),r=s.fromBuffer(n);await(new c.ID3v2Parser).parse(this.metadata,r,this.options);break;case"data":!1!==this.metadata.format.lossless&&this.metadata.setFormat("lossless",!0);let l=t.chunkSize;if(this.tokenizer.fileInfo.size){const e=this.tokenizer.fileInfo.size-this.tokenizer.position;e<l&&(this.metadata.addWarning("data chunk length exceeding file length"),l=e)}const u=this.fact?this.fact.dwSampleLength:4294967295===l?void 0:l/this.blockAlign;u&&(this.metadata.setFormat("numberOfSamples",u),this.metadata.setFormat("duration",u/this.metadata.format.sampleRate)),"ADPCM"===this.metadata.format.codec?this.metadata.setFormat("bitrate",352e3):this.metadata.setFormat("bitrate",this.blockAlign*this.metadata.format.sampleRate*8),await this.tokenizer.ignore(t.chunkSize);break;case"bext":const d=await this.tokenizer.readToken(h.BroadcastAudioExtensionChunk);Object.keys(d).forEach(e=>{this.metadata.addTag("exif","bext."+e,d[e])});const p=t.chunkSize-h.BroadcastAudioExtensionChunk.len;await this.tokenizer.ignore(p);break;case"\0\0\0\0":m(`Ignore padding chunk: RIFF/${t.chunkID} of ${t.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+t.chunkID),await this.tokenizer.ignore(t.chunkSize);break;default:m(`Ignore chunk: RIFF/${t.chunkID} of ${t.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+t.chunkID),await this.tokenizer.ignore(t.chunkSize)}this.header.chunkSize%2===1&&(m("Read odd padding byte"),await this.tokenizer.ignore(1))}}async parseListTag(e){const t=await this.tokenizer.readToken(new a.StringType(4,"binary"));switch(m("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",this.tokenizer.position,t),t){case"INFO":return this.parseRiffInfoTags(e.chunkSize-4);case"adtl":default:return this.metadata.addWarning("Ignore chunk: RIFF/WAVE/LIST/"+t),m("Ignoring chunkID=RIFF/WAVE/LIST/"+t),this.tokenizer.ignore(e.chunkSize-4).then()}}async parseRiffInfoTags(e){while(e>=8){const t=await this.tokenizer.readToken(r.Header),i=new r.ListInfoTagValue(t),s=await this.tokenizer.readToken(i);this.addTag(t.chunkID,l.stripNulls(s)),e-=8+i.len}if(0!==e)throw Error("Illegal remaining size: "+e)}addTag(e,t){this.metadata.addTag("exif",e,t)}}t.WaveParser=p},d58b:function(e,t,i){},d5fe:function(e,t,i){"use strict";i("6e46")},d628:function(e,t,i){"use strict";i("55e9")},d66d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AIFFParser=void 0;const s=i("6f58a"),a=i("34eb"),n=i("21c2"),r=i("64a4"),o=i("98a7"),c=i("95c9"),l=i("da6a"),u=i("6a01"),d=(0,a.default)("music-metadata:parser:aiff"),h={NONE:"not compressed\tPCM\tApple Computer",sowt:"PCM (byte swapped)",fl32:"32-bit floating point IEEE 32-bit float",fl64:"64-bit floating point IEEE 64-bit float\tApple Computer",alaw:"ALaw 2:1\t8-bit ITU-T G.711 A-law",ulaw:"Law 2:1\t8-bit ITU-T G.711 -law\tApple Computer",ULAW:"CCITT G.711 u-law 8-bit ITU-T G.711 -law",ALAW:"CCITT G.711 A-law 8-bit ITU-T G.711 A-law",FL32:"Float 32\tIEEE 32-bit float "};class m extends c.BasicParser{async parse(){const e=await this.tokenizer.readToken(u.Header);if("FORM"!==e.chunkID)throw new Error("Invalid Chunk-ID, expected 'FORM'");const t=await this.tokenizer.readToken(o.FourCcToken);switch(t){case"AIFF":this.metadata.setFormat("container",t),this.isCompressed=!1;break;case"AIFC":this.metadata.setFormat("container","AIFF-C"),this.isCompressed=!0;break;default:throw Error("Unsupported AIFF type: "+t)}this.metadata.setFormat("lossless",!this.isCompressed);try{while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=u.Header.len){d("Reading AIFF chunk at offset="+this.tokenizer.position);const e=await this.tokenizer.readToken(u.Header),t=2*Math.round(e.chunkSize/2),i=await this.readData(e);await this.tokenizer.ignore(t-i)}}catch(i){if(!(i instanceof n.EndOfStreamError))throw i;d("End-of-stream")}}async readData(e){var t;switch(e.chunkID){case"COMM":const i=await this.tokenizer.readToken(new l.Common(e,this.isCompressed));return this.metadata.setFormat("bitsPerSample",i.sampleSize),this.metadata.setFormat("sampleRate",i.sampleRate),this.metadata.setFormat("numberOfChannels",i.numChannels),this.metadata.setFormat("numberOfSamples",i.numSampleFrames),this.metadata.setFormat("duration",i.numSampleFrames/i.sampleRate),this.metadata.setFormat("codec",null!==(t=i.compressionName)&&void 0!==t?t:h[i.compressionType]),e.chunkSize;case"ID3 ":const a=await this.tokenizer.readToken(new s.Uint8ArrayType(e.chunkSize)),o=n.fromBuffer(a);return await(new r.ID3v2Parser).parse(this.metadata,o,this.options),e.chunkSize;case"SSND":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*e.chunkSize/this.metadata.format.duration),0;case"NAME":case"AUTH":case"(c) ":case"ANNO":return this.readTextChunk(e);default:return d(`Ignore chunk id=${e.chunkID}, size=${e.chunkSize}`),0}}async readTextChunk(e){const t=await this.tokenizer.readToken(new s.StringType(e.chunkSize,"ascii"));return t.split("\0").map(e=>e.trim()).filter(e=>e&&e.length>0).forEach(t=>{this.metadata.addTag("AIFF",e.chunkID,t.trim())}),e.chunkSize}}t.AIFFParser=m},d6e4:function(e,t,i){},d78f:function(e,t,i){"use strict";i("2620")},d88a:function(e,t,i){"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},d98f:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("core-message",{attrs:{noPreTag:"","data-test-popup":"watch-ad"},on:{close:e.cancel},scopedSlots:e._u([{key:"footer",fn:function(){return[i("winui-button",{staticClass:"default",attrs:{"data-test-action":"remove-ads"},on:{click:e.showPricing}},[e._v(" "+e._s(e.$t("remove-ads"))+" ")]),i("winui-button",{attrs:{"data-test-action":"watch-ads"},on:{click:e.watchAd}},[e._v(" "+e._s(e.$t("watch-ad"))+" ")]),i("winui-button",{attrs:{"data-test-action":"cancel"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])]},proxy:!0}])},[i("div",{staticClass:"title-1 mb-6"},[e._v(" "+e._s(e.$t("confirm-watch-ad"))+" ")])])},a=[],n=i("e302"),r=i("3f55"),o=i("6792"),c=i("01b4"),l=i("f708"),u=i("2f62"),d={components:{CoreMessage:r["a"]},props:{target:String,isRewarded:Boolean},computed:Object(u["d"])(["showAds"]),watch:{showAds:{immediate:!0,handler(){this.showAds&&Object(n["e"])()&&!Object(l["d"])()||this.close()}}},methods:{watchAd(){this.isRewarded?Object(n["k"])():Object(n["j"])(),this.close()},showPricing(){this.$root.$emit(c["a"].Pricing,!0)},cancel(){const{target:e}=this;e&&e.startsWith("window")&&this.$root.$emit(o["c"].CloseWindow,e.split("-")[1]),this.$emit("cancel")},close(){this.$emit("close")}}},h=d,m=i("2877"),p=Object(m["a"])(h,s,a,!1,null,"448a67cf",null);t["a"]=p.exports},da6a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Common=void 0;const s=i("6f58a"),a=i("98a7");class n{constructor(e,t){this.isAifc=t;const i=t?22:18;if(e.chunkSize<i)throw new Error("COMMON CHUNK size should always be at least "+i);this.len=e.chunkSize}get(e,t){const i=e.readUInt16BE(t+8)-16398,n=e.readUInt16BE(t+8+2),r={numChannels:e.readUInt16BE(t),numSampleFrames:e.readUInt32BE(t+2),sampleSize:e.readUInt16BE(t+6),sampleRate:i<0?n>>Math.abs(i):n<<i};if(this.isAifc){if(r.compressionType=a.FourCcToken.get(e,t+18),this.len>22){const i=e.readInt8(t+22);if(i>0){const a=(i+1)%2;if(23+i+a!==this.len)throw new Error("Illegal pstring length");r.compressionName=new s.StringType(i,"binary").get(e,t+23)}else r.compressionName=void 0}}else r.compressionName="PCM";return r}}t.Common=n},db9d:function(e,t,i){},dbbe:function(module,exports,__webpack_require__){"use strict";(function(Buffer){const Token=__webpack_require__("6f58a"),strtok3=__webpack_require__("21c2"),{stringToBytes:stringToBytes,tarHeaderChecksumMatches:tarHeaderChecksumMatches,uint32SyncSafeToken:uint32SyncSafeToken}=__webpack_require__("5b7a"),supported=__webpack_require__("d88a"),minimumBytes=4100;async function fromStream(e){const t=await strtok3.fromStream(e);try{return await fromTokenizer(t)}finally{await t.close()}}async function fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Buffer?e:Buffer.from(e);if(!(t&&t.length>1))return;const i=strtok3.fromBuffer(t);return fromTokenizer(i)}function _check(e,t,i){i={offset:0,...i};for(const[s,a]of t.entries())if(i.mask){if(a!==(i.mask[s]&e[s+i.offset]))return!1}else if(a!==e[s+i.offset])return!1;return!0}async function fromTokenizer(e){try{return _fromTokenizer(e)}catch(t){if(!(t instanceof strtok3.EndOfStreamError))throw t}}async function _fromTokenizer(e){let t=Buffer.alloc(minimumBytes);const i=12,s=(e,i)=>_check(t,e,i),a=(e,t)=>s(stringToBytes(e),t);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),await e.peekBuffer(t,{length:i,mayBeLess:!0}),s([66,77]))return{ext:"bmp",mime:"image/bmp"};if(s([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(s([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(s([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(s([37,33]))return await e.peekBuffer(t,{length:24,mayBeLess:!0}),a("PS-Adobe-",{offset:2})&&a(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(s([31,160])||s([31,157]))return{ext:"Z",mime:"application/x-compress"};if(s([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(s([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(s([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(s([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(a("ID3")){await e.ignore(6);const t=await e.readToken(uint32SyncSafeToken);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),fromTokenizer(e))}if(a("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===t[0]||70===t[0])&&s([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(s([71,73,70]))return{ext:"gif",mime:"image/gif"};if(a("FLIF"))return{ext:"flif",mime:"image/flif"};if(a("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(a("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(a("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(a("FORM"))return{ext:"aif",mime:"audio/aiff"};if(a("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(s([80,75,3,4])){try{while(e.position+30<e.fileInfo.size){await e.readBuffer(t,{length:30});const i={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(i.filename=await e.readToken(new Token.StringType(i.filenameLength,"utf-8")),await e.ignore(i.extraFieldLength),"META-INF/mozilla.rsa"===i.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(i.filename.endsWith(".rels")||i.filename.endsWith(".xml")){const e=i.filename.split("/")[0];switch(e){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}}if(i.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(i.filename.startsWith("3D/")&&i.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===i.filename&&i.compressedSize===i.uncompressedSize){const t=await e.readToken(new Token.StringType(i.compressedSize,"utf-8"));switch(t){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}}if(0===i.compressedSize){let i=-1;while(i<0&&e.position<e.fileInfo.size)await e.peekBuffer(t,{mayBeLess:!0}),i=t.indexOf("504B0304",0,"hex"),await e.ignore(i>=0?i:t.length)}else await e.ignore(i.compressedSize)}}catch(u){if(!(u instanceof strtok3.EndOfStreamError))throw u}return{ext:"zip",mime:"application/zip"}}if(a("OggS")){await e.ignore(28);const t=Buffer.alloc(8);return await e.readBuffer(t),_check(t,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(s([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(a("ftyp",{offset:4})&&0!==(96&t[8])){const e=t.toString("binary",8,12).replace("\0"," ").trim();switch(e){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(a("MThd"))return{ext:"mid",mime:"audio/midi"};if(a("wOFF")&&(s([0,1,0,0],{offset:4})||a("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(a("wOF2")&&(s([0,1,0,0],{offset:4})||a("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(s([212,195,178,161])||s([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(a("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(a("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(a("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(s([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(a("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(a("%PDF")){await e.ignore(1350);const t=10485760,i=Buffer.alloc(Math.min(t,e.fileInfo.size));return await e.readBuffer(i,{mayBeLess:!0}),i.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(s([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(s([73,73,42,0]))return a("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:s([28,0,254,0],{offset:8})||s([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:s([8,0,0,0],{offset:4})&&(s([45,0,254,0],{offset:8})||s([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=Buffer.alloc(24),await e.peekBuffer(t),(s([16,251,134,1],{offset:4})||s([8,0,0,0],{offset:4}))&&s([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(s([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(a("MAC "))return{ext:"ape",mime:"audio/ape"};if(s([26,69,223,163])){async function n(){const t=await e.peekNumber(Token.UINT8);let i=128,s=0;while(0===(t&i)&&0!==i)++s,i>>=1;const a=Buffer.alloc(s+1);return await e.readBuffer(a),a}async function r(){const e=await n(),t=await n();t[0]^=128>>t.length-1;const i=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-i,i)}}async function o(t,i){while(i>0){const t=await r();if(17026===t.id)return e.readToken(new Token.StringType(t.len,"utf-8"));await e.ignore(t.len),--i}}const t=await r(),i=await o(1,t.len);switch(i){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(s([82,73,70,70])){if(s([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(s([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(s([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(a("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(s([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(a("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(a("MSCF")||a("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(s([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(s([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(s([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(s([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(a("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(a("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(s([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(a("IMPM"))return{ext:"it",mime:"audio/x-it"};if(a("-lh0-",{offset:2})||a("-lh1-",{offset:2})||a("-lh2-",{offset:2})||a("-lh3-",{offset:2})||a("-lh4-",{offset:2})||a("-lh5-",{offset:2})||a("-lh6-",{offset:2})||a("-lh7-",{offset:2})||a("-lzs-",{offset:2})||a("-lz4-",{offset:2})||a("-lz5-",{offset:2})||a("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(s([0,0,1,186])){if(s([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(s([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(a("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(s([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(a("<?xml "))return{ext:"xml",mime:"application/xml"};if(s([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(s([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(a("solid "))return{ext:"stl",mime:"model/stl"};if(a("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(a("!<arch>")){await e.ignore(8);const t=await e.readToken(new Token.StringType(13,"ascii"));return"debian-binary"===t?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"}}if(s([137,80,78,71,13,10,26,10])){async function c(){return{length:await e.readToken(Token.INT32_BE),type:await e.readToken(new Token.StringType(4,"binary"))}}await e.ignore(8);do{const t=await c();if(t.length<0)return;switch(t.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(t.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(s([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(s([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(s([102,114,101,101],{offset:4})||s([109,100,97,116],{offset:4})||s([109,111,111,118],{offset:4})||s([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(s([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(a("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(s([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(s([48,38,178,117,142,102,207,17,166,217])){async function l(){const t=Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Token.UINT64_LE))}}await e.ignore(30);while(e.position+24<e.fileInfo.size){const t=await l();let i=t.size-24;if(_check(t.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const t=Buffer.alloc(16);if(i-=await e.readBuffer(t),_check(t,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(t,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(i)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(s([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((s([126,16,4])||s([126,24,4]))&&s([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(s([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(s([0,0,0,12,106,80,32,32,13,10,135,10])){await e.ignore(20);const t=await e.readToken(new Token.StringType(4,"ascii"));switch(t){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}}if(s([255,10])||s([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(s([0,0,1,186])||s([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(s([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(s([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(s([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(s([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),a("BEGIN:")){if(a("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(a("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(a("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(a("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(a("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(s([4,0,0,0])&&t.length>=16){const e=t.readUInt32LE(12);if(e>12&&t.length>=e+16)try{const i=t.slice(16,e+16).toString(),s=JSON.parse(i);if(s.files)return{ext:"asar",mime:"application/x-asar"}}catch(d){}}if(s([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(a("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(s([71],{offset:4})&&(s([71],{offset:192})||s([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(s([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(s([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(s([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(s([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(s([76,80],{offset:34})&&(s([0,0,1],{offset:8})||s([1,0,2],{offset:8})||s([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(s([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(s([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(a("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&s([255,224],{offset:0,mask:[255,224]})){if(s([16],{offset:1,mask:[22]}))return s([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(s([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(s([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(s([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const e=new stream.PassThrough;let t;t=stream.pipeline?stream.pipeline(readableStream,e,()=>{}):readableStream.pipe(e);const i=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const t=await fromBuffer(i);e.fileType=t}catch(s){reject(s)}resolve(t)})}),fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType}).call(this,__webpack_require__("1c35").Buffer)},dc90:function(e,t,i){function s(e){function t(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return s.colors[Math.abs(t)%s.colors.length]}function s(e){let t,i,n,r=null;function o(...e){if(!o.enabled)return;const i=o,a=Number(new Date),n=a-(t||a);i.diff=n,i.prev=t,i.curr=a,t=a,e[0]=s.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let r=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,a)=>{if("%%"===t)return"%";r++;const n=s.formatters[a];if("function"===typeof n){const s=e[r];t=n.call(i,s),e.splice(r,1),r--}return t}),s.formatArgs.call(i,e);const c=i.log||s.log;c.apply(i,e)}return o.namespace=e,o.useColors=s.useColors(),o.color=s.selectColor(e),o.extend=a,o.destroy=s.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==r?r:(i!==s.namespaces&&(i=s.namespaces,n=s.enabled(e)),n),set:e=>{r=e}}),"function"===typeof s.init&&s.init(o),o}function a(e,t){const i=s(this.namespace+("undefined"===typeof t?":":t)+e);return i.log=this.log,i}function n(e){let t;s.save(e),s.namespaces=e,s.names=[],s.skips=[];const i=("string"===typeof e?e:"").split(/[\s,]+/),a=i.length;for(t=0;t<a;t++)i[t]&&(e=i[t].replace(/\*/g,".*?"),"-"===e[0]?s.skips.push(new RegExp("^"+e.slice(1)+"$")):s.names.push(new RegExp("^"+e+"$")))}function r(){const e=[...s.names.map(c),...s.skips.map(c).map(e=>"-"+e)].join(",");return s.enable(""),e}function o(e){if("*"===e[e.length-1])return!0;let t,i;for(t=0,i=s.skips.length;t<i;t++)if(s.skips[t].test(e))return!1;for(t=0,i=s.names.length;t<i;t++)if(s.names[t].test(e))return!0;return!1}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function l(e){return e instanceof Error?e.stack||e.message:e}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.debug=s,s.default=s,s.coerce=l,s.disable=r,s.enable=n,s.enabled=o,s.humanize=i("9363"),s.destroy=u,Object.keys(e).forEach(t=>{s[t]=e[t]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=t,s.enable(s.load()),s}e.exports=s},dcb5:function(e,t,i){},de36:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsfTagMapper=void 0;const s=i("fc97"),a={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"};class n extends s.CommonTagMapper{static toRating(e){return{rating:parseFloat(e+1)/5}}constructor(){super(["asf"],a)}postMap(e){switch(e.id){case"WM/SharedUserRating":const t=e.id.split(":");e.value=n.toRating(e.value),e.id=t[0];break}}}t.AsfTagMapper=n},dee4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DsdiffParser=void 0;const s=i("6f58a"),a=i("34eb"),n=i("21c2"),r=i("98a7"),o=i("95c9"),c=i("64a4"),l=i("cc04"),u=(0,a.default)("music-metadata:parser:aiff");class d extends o.BasicParser{async parse(){const e=await this.tokenizer.readToken(l.ChunkHeader64);if("FRM8"!==e.chunkID)throw new Error("Unexpected chunk-ID");const t=(await this.tokenizer.readToken(r.FourCcToken)).trim();switch(t){case"DSD":return this.metadata.setFormat("container","DSDIFF/"+t),this.metadata.setFormat("lossless",!0),this.readFmt8Chunks(e.chunkSize-BigInt(r.FourCcToken.len));default:throw Error("Unsupported DSDIFF type: "+t)}}async readFmt8Chunks(e){while(e>=l.ChunkHeader64.len){const t=await this.tokenizer.readToken(l.ChunkHeader64);u("Chunk id="+t.chunkID),await this.readData(t),e-=BigInt(l.ChunkHeader64.len)+t.chunkSize}}async readData(e){u(`Reading data of chunk[ID=${e.chunkID}, size=${e.chunkSize}]`);const t=this.tokenizer.position;switch(e.chunkID.trim()){case"FVER":const t=await this.tokenizer.readToken(s.UINT32_LE);u("DSDIFF version="+t);break;case"PROP":const i=await this.tokenizer.readToken(r.FourCcToken);if("SND "!==i)throw new Error("Unexpected PROP-chunk ID");await this.handleSoundPropertyChunks(e.chunkSize-BigInt(r.FourCcToken.len));break;case"ID3":const a=await this.tokenizer.readToken(new s.Uint8ArrayType(Number(e.chunkSize))),o=n.fromBuffer(a);await(new c.ID3v2Parser).parse(this.metadata,o,this.options);break;default:u(`Ignore chunk[ID=${e.chunkID}, size=${e.chunkSize}]`);break;case"DSD":this.metadata.setFormat("numberOfSamples",Number(e.chunkSize*BigInt(8)/BigInt(this.metadata.format.numberOfChannels))),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate);break}const i=e.chunkSize-BigInt(this.tokenizer.position-t);i>0&&(u(`After Parsing chunk, remaining ${i} bytes`),await this.tokenizer.ignore(Number(i)))}async handleSoundPropertyChunks(e){u("Parsing sound-property-chunks, remainingSize="+e);while(e>0){const t=await this.tokenizer.readToken(l.ChunkHeader64);u(`Sound-property-chunk[ID=${t.chunkID}, size=${t.chunkSize}]`);const i=this.tokenizer.position;switch(t.chunkID.trim()){case"FS":const e=await this.tokenizer.readToken(s.UINT32_BE);this.metadata.setFormat("sampleRate",e);break;case"CHNL":const i=await this.tokenizer.readToken(s.UINT16_BE);this.metadata.setFormat("numberOfChannels",i),await this.handleChannelChunks(t.chunkSize-BigInt(s.UINT16_BE.len));break;case"CMPR":const a=(await this.tokenizer.readToken(r.FourCcToken)).trim(),n=await this.tokenizer.readToken(s.UINT8),o=await this.tokenizer.readToken(new s.StringType(n,"ascii"));"DSD"===a&&(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("bitsPerSample",1)),this.metadata.setFormat("codec",`${a} (${o})`);break;case"ABSS":const c=await this.tokenizer.readToken(s.UINT16_BE),l=await this.tokenizer.readToken(s.UINT8),d=await this.tokenizer.readToken(s.UINT8),h=await this.tokenizer.readToken(s.UINT32_BE);u(`ABSS ${c}:${l}:${d}.${h}`);break;case"LSCO":const m=await this.tokenizer.readToken(s.UINT16_BE);u("LSCO lsConfig="+m);break;case"COMT":default:u(`Unknown sound-property-chunk[ID=${t.chunkID}, size=${t.chunkSize}]`),await this.tokenizer.ignore(Number(t.chunkSize))}const a=t.chunkSize-BigInt(this.tokenizer.position-i);a>0&&(u(`After Parsing sound-property-chunk ${t.chunkSize}, remaining ${a} bytes`),await this.tokenizer.ignore(Number(a))),e-=BigInt(l.ChunkHeader64.len)+t.chunkSize,u("Parsing sound-property-chunks, remainingSize="+e)}if(this.metadata.format.lossless&&this.metadata.format.sampleRate&&this.metadata.format.numberOfChannels&&this.metadata.format.bitsPerSample){const e=this.metadata.format.sampleRate*this.metadata.format.numberOfChannels*this.metadata.format.bitsPerSample;this.metadata.setFormat("bitrate",e)}}async handleChannelChunks(e){u("Parsing channel-chunks, remainingSize="+e);const t=[];while(e>=r.FourCcToken.len){const i=await this.tokenizer.readToken(r.FourCcToken);u(`Channel[ID=${i}]`),t.push(i),e-=BigInt(r.FourCcToken.len)}return u("Channels: "+t.join(", ")),t}}t.DsdiffParser=d},df9f:function(e,t,i){"use strict";i("3341")},dfe8:function(e,t,i){},e035:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v22TagMapper=t.id3v22TagMap=void 0;const s=i("53d6");t.id3v22TagMap={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website","COM:iTunPGAP":"gapless",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"};class a extends s.CaseInsensitiveTagMap{constructor(){super(["ID3v2.2"],t.id3v22TagMap)}}t.ID3v22TagMapper=a},e061:function(e,t,i){"use strict";i("6441")},e113:function(e,t,i){"use strict";var s=i("1b08").codes.ERR_INVALID_OPT_VALUE;function a(e,t,i){return null!=e.highWaterMark?e.highWaterMark:t?e[i]:null}function n(e,t,i,n){var r=a(t,n,i);if(null!=r){if(!isFinite(r)||Math.floor(r)!==r||r<0){var o=n?i:"highWaterMark";throw new s(o,r)}return Math.floor(r)}return e.objectMode?16:16384}e.exports={getHighWaterMark:n}},e1a9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AiffTagMapper=void 0;const s=i("fc97"),a={NAME:"title",AUTH:"artist","(c) ":"copyright",ANNO:"comment"};class n extends s.CommonTagMapper{constructor(){super(["AIFF"],a)}}t.AiffTagMapper=n},e23f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormatChunk=t.ChannelType=t.DsdChunk=t.ChunkHeader=void 0;const s=i("6f58a"),a=i("98a7");t.ChunkHeader={len:12,get:(e,t)=>({id:a.FourCcToken.get(e,t),size:s.UINT64_LE.get(e,t+4)})},t.DsdChunk={len:16,get:(e,t)=>({fileSize:s.INT64_LE.get(e,t),metadataPointer:s.INT64_LE.get(e,t+8)})},function(e){e[e["mono"]=1]="mono",e[e["stereo"]=2]="stereo",e[e["channels"]=3]="channels",e[e["quad"]=4]="quad",e[e["4 channels"]=5]="4 channels",e[e["5 channels"]=6]="5 channels",e[e["5.1 channels"]=7]="5.1 channels"}(t.ChannelType||(t.ChannelType={})),t.FormatChunk={len:40,get:(e,t)=>({formatVersion:s.INT32_LE.get(e,t),formatID:s.INT32_LE.get(e,t+4),channelType:s.INT32_LE.get(e,t+8),channelNum:s.INT32_LE.get(e,t+12),samplingFrequency:s.INT32_LE.get(e,t+16),bitsPerSample:s.INT32_LE.get(e,t+20),sampleCount:s.INT64_LE.get(e,t+24),blockSizePerChannel:s.INT32_LE.get(e,t+32)})}},e375:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanAppendingHeaders=t.selectCover=t.ratingToStars=t.orderTags=t.parseFromTokenizer=t.parseBuffer=t.parseStream=void 0;const s=i("21c2"),a=i("2d78"),n=i("2a57"),r=i("9611"),o=i("1e78"),c=i("5a49");function l(e,t,i={}){return d(s.fromStream(e,"string"===typeof t?{mimeType:t}:t),i)}async function u(e,t,i={}){const a=new n.RandomUint8ArrayReader(e);await f(a,i);const r=s.fromBuffer(e,"string"===typeof t?{mimeType:t}:t);return d(r,i)}function d(e,t){return a.ParserFactory.parseOnContentType(e,t)}function h(e){const t={};for(const i of e)(t[i.id]=t[i.id]||[]).push(i.value);return t}function m(e){return void 0===e?0:1+Math.round(4*e)}function p(e){return e?e.reduce((e,t)=>t.name&&t.name.toLowerCase()in["front","cover","cover (front)"]?t:e):null}async function f(e,t={}){let i=e.fileSize;if(await(0,o.hasID3v1Header)(e)){i-=128;const t=await(0,c.getLyricsHeaderLength)(e);i-=t}t.apeHeader=await r.APEv2Parser.findApeFooterOffset(e,i)}t.parseStream=l,t.parseBuffer=u,t.parseFromTokenizer=d,t.orderTags=h,t.ratingToStars=m,t.selectCover=p,t.scanAppendingHeaders=f},e448:function(e,t,i){},e585:function(e,t,i){},e5bf:function(e,t,i){"use strict";i("ef81")},e6b9:function(e,t,i){"use strict";i("aff6")},e86d:function(e,t,i){"use strict";i("4264")},e88f:function(e,t,i){"use strict";i("fcd6")},e907:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.WavPackParser=void 0;const s=i("6f58a"),a=i("9611"),n=i("98a7"),r=i("95c9"),o=i("cb4f"),c=i("34eb"),l=(0,c.default)("music-metadata:parser:WavPack");class u extends r.BasicParser{async parse(){return this.audioDataSize=0,await this.parseWavPackBlocks(),a.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async parseWavPackBlocks(){do{const e=await this.tokenizer.peekToken(n.FourCcToken);if("wvpk"!==e)break;const t=await this.tokenizer.readToken(o.WavPack.BlockHeaderToken);if("wvpk"!==t.BlockID)throw new Error("Invalid WavPack Block-ID");l(`WavPack header blockIndex=${t.blockIndex}, len=${o.WavPack.BlockHeaderToken.len}`),0!==t.blockIndex||this.metadata.format.container||(this.metadata.setFormat("container","WavPack"),this.metadata.setFormat("lossless",!t.flags.isHybrid),this.metadata.setFormat("bitsPerSample",t.flags.bitsPerSample),t.flags.isDSD||(this.metadata.setFormat("sampleRate",t.flags.samplingRate),this.metadata.setFormat("duration",t.totalSamples/t.flags.samplingRate)),this.metadata.setFormat("numberOfChannels",t.flags.isMono?1:2),this.metadata.setFormat("numberOfSamples",t.totalSamples),this.metadata.setFormat("codec",t.flags.isDSD?"DSD":"PCM"));const i=t.blockSize-(o.WavPack.BlockHeaderToken.len-8);await(0===t.blockIndex?this.parseMetadataSubBlock(t,i):this.tokenizer.ignore(i)),t.blockSamples>0&&(this.audioDataSize+=t.blockSize)}while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=o.WavPack.BlockHeaderToken.len);this.metadata.setFormat("bitrate",8*this.audioDataSize/this.metadata.format.duration)}async parseMetadataSubBlock(t,i){while(i>o.WavPack.MetadataIdToken.len){const a=await this.tokenizer.readToken(o.WavPack.MetadataIdToken),n=await this.tokenizer.readNumber(a.largeBlock?s.UINT24_LE:s.UINT8),r=e.alloc(2*n-(a.isOddSize?1:0));switch(await this.tokenizer.readBuffer(r),l(`Metadata Sub-Blocks functionId=0x${a.functionId.toString(16)}, id.largeBlock=${a.largeBlock},data-size=${r.length}`),a.functionId){case 0:break;case 14:l("ID_DSD_BLOCK");const e=1<<r.readUInt8(0),i=t.flags.samplingRate*e*8;if(!t.flags.isDSD)throw new Error("Only expect DSD block if DSD-flag is set");this.metadata.setFormat("sampleRate",i),this.metadata.setFormat("duration",t.totalSamples/i);break;case 36:l("ID_ALT_TRAILER: trailer for non-wav files");break;case 38:this.metadata.setFormat("audioMD5",r);break;case 47:l("ID_BLOCK_CHECKSUM: checksum="+r.toString("hex"));break;default:l("Ignore unsupported meta-sub-block-id functionId=0x"+a.functionId.toString(16));break}i-=o.WavPack.MetadataIdToken.len+(a.largeBlock?s.UINT24_LE.len:s.UINT8.len)+2*n,l("remainingLength="+i),a.isOddSize&&this.tokenizer.ignore(1)}if(0!==i)throw new Error("metadata-sub-block should fit it remaining length")}}t.WavPackParser=u}).call(this,i("1c35").Buffer)},eae4:function(e,t,i){},ebf2:function(e,t,i){},ee19:function(e,t,i){"use strict";i("945c")},ee6b:function(e,t,i){"use strict";i("02f0")},ef81:function(e,t,i){},f06d:function(e,t,i){},f0ed:function(e,t,i){},f35d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndOfStreamError=t.defaultMessages=void 0,t.defaultMessages="End-Of-Stream";class s extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=s},f3aa:function(e,t,i){"use strict";i("2543")},f3f02:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdentificationHeader=void 0;const s=i("6f58a");t.IdentificationHeader={len:42,get:(e,t)=>({id:new s.StringType(7,"ascii").get(e,t),vmaj:e.readUInt8(t+7),vmin:e.readUInt8(t+8),vrev:e.readUInt8(t+9),vmbw:e.readUInt16BE(t+10),vmbh:e.readUInt16BE(t+17),nombr:s.UINT24_BE.get(e,t+37),nqual:e.readUInt8(t+40)})}},f55ab:function(e,t,i){},f73a:function(e,t,i){"use strict";i("3e9b")},fa6f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3v24TagMapper=void 0;const s=i("fc97"),a=i("53d6"),n=i("d3ab"),r={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer","USLT:description":"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"date",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl"};class o extends a.CaseInsensitiveTagMap{static toRating(e){return{source:e.email,rating:e.rating>0?(e.rating-1)/254*s.CommonTagMapper.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],r)}postMap(e,t){switch(e.id){case"UFID":"http://musicbrainz.org"===e.value.owner_identifier&&(e.id+=":"+e.value.owner_identifier,e.value=n.decodeString(e.value.identifier,"latin1"));break;case"PRIV":switch(e.value.owner_identifier){case"AverageLevel":case"PeakValue":e.id+=":"+e.value.owner_identifier,e.value=4===e.value.data.length?e.value.data.readUInt32LE(0):null,null===e.value&&t.addWarning("Failed to parse PRIV:PeakValue");break;default:t.addWarning("Unknown PRIV owner-identifier: "+e.value.owner_identifier)}break;case"COMM":e.value=e.value?e.value.text:null;break;case"POPM":e.value=o.toRating(e.value);break;default:break}}}t.ID3v24TagMapper=o},fa86:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.WmPictureToken=t.MetadataLibraryObjectState=t.MetadataObjectState=t.ExtendedStreamPropertiesObjectState=t.ExtendedContentDescriptionObjectState=t.ContentDescriptionObjectState=t.readCodecEntries=t.HeaderExtensionObject=t.StreamPropertiesObject=t.FilePropertiesObject=t.IgnoreObjectState=t.State=t.HeaderObjectToken=t.TopLevelHeaderObjectToken=t.DataType=void 0;const s=i("d3ab"),a=i("6f58a"),n=i("9131"),r=i("4cc3"),o=i("0662");(function(e){e[e["UnicodeString"]=0]="UnicodeString",e[e["ByteArray"]=1]="ByteArray",e[e["Bool"]=2]="Bool",e[e["DWord"]=3]="DWord",e[e["QWord"]=4]="QWord",e[e["Word"]=5]="Word"})(t.DataType||(t.DataType={})),t.TopLevelHeaderObjectToken={len:30,get:(e,t)=>({objectId:n.default.fromBin(new a.BufferType(16).get(e,t)),objectSize:Number(a.UINT64_LE.get(e,t+16)),numberOfHeaderObjects:a.UINT32_LE.get(e,t+24)})},t.HeaderObjectToken={len:24,get:(e,t)=>({objectId:n.default.fromBin(new a.BufferType(16).get(e,t)),objectSize:Number(a.UINT64_LE.get(e,t+16))})};class c{constructor(e){this.len=Number(e.objectSize)-t.HeaderObjectToken.len}postProcessTag(e,t,i,s){if("WM/Picture"===t)e.push({id:t,value:T.fromBuffer(s)});else{const a=r.AsfUtil.getParserForAttr(i);if(!a)throw new Error("unexpected value headerType: "+i);e.push({id:t,value:a(s)})}}}t.State=c;class l extends c{constructor(e){super(e)}get(e,t){return null}}t.IgnoreObjectState=l;class u extends c{constructor(e){super(e)}get(e,t){return{fileId:n.default.fromBin(e,t),fileSize:a.UINT64_LE.get(e,t+16),creationDate:a.UINT64_LE.get(e,t+24),dataPacketsCount:a.UINT64_LE.get(e,t+32),playDuration:a.UINT64_LE.get(e,t+40),sendDuration:a.UINT64_LE.get(e,t+48),preroll:a.UINT64_LE.get(e,t+56),flags:{broadcast:s.getBit(e,t+64,24),seekable:s.getBit(e,t+64,25)},minimumDataPacketSize:a.UINT32_LE.get(e,t+68),maximumDataPacketSize:a.UINT32_LE.get(e,t+72),maximumBitrate:a.UINT32_LE.get(e,t+76)}}}u.guid=n.default.FilePropertiesObject,t.FilePropertiesObject=u;class d extends c{constructor(e){super(e)}get(e,t){return{streamType:n.default.decodeMediaType(n.default.fromBin(e,t)),errorCorrectionType:n.default.fromBin(e,t+8)}}}d.guid=n.default.StreamPropertiesObject,t.StreamPropertiesObject=d;class h{constructor(){this.len=22}get(e,t){return{reserved1:n.default.fromBin(e,t),reserved2:e.readUInt16LE(t+16),extensionDataSize:e.readUInt32LE(t+18)}}}h.guid=n.default.HeaderExtensionObject,t.HeaderExtensionObject=h;const m={len:20,get:(e,t)=>({entryCount:e.readUInt16LE(t+16)})};async function p(e){const t=await e.readNumber(a.UINT16_LE);return(await e.readToken(new a.StringType(2*t,"utf16le"))).replace("\0","")}async function f(e){const t=await e.readToken(m),i=[];for(let s=0;s<t.entryCount;++s)i.push(await b(e));return i}async function g(t){const i=await t.readNumber(a.UINT16_LE),s=e.alloc(i);return await t.readBuffer(s),s}async function b(e){const t=await e.readNumber(a.UINT16_LE);return{type:{videoCodec:1===(1&t),audioCodec:2===(2&t)},codecName:await p(e),description:await p(e),information:await g(e)}}t.readCodecEntries=f;class v extends c{constructor(e){super(e)}get(e,t){const i=[];let s=t+10;for(let a=0;a<v.contentDescTags.length;++a){const n=e.readUInt16LE(t+2*a);if(n>0){const t=v.contentDescTags[a],o=s+n;i.push({id:t,value:r.AsfUtil.parseUnicodeAttr(e.slice(s,o))}),s=o}}return i}}v.guid=n.default.ContentDescriptionObject,v.contentDescTags=["Title","Author","Copyright","Description","Rating"],t.ContentDescriptionObjectState=v;class y extends c{constructor(e){super(e)}get(e,t){const i=[],s=e.readUInt16LE(t);let a=t+2;for(let n=0;n<s;n+=1){const t=e.readUInt16LE(a);a+=2;const s=r.AsfUtil.parseUnicodeAttr(e.slice(a,a+t));a+=t;const n=e.readUInt16LE(a);a+=2;const o=e.readUInt16LE(a);a+=2;const c=e.slice(a,a+o);a+=o,this.postProcessTag(i,s,n,c)}return i}}y.guid=n.default.ExtendedContentDescriptionObject,t.ExtendedContentDescriptionObjectState=y;class w extends c{constructor(e){super(e)}get(e,t){return{startTime:a.UINT64_LE.get(e,t),endTime:a.UINT64_LE.get(e,t+8),dataBitrate:e.readInt32LE(t+12),bufferSize:e.readInt32LE(t+16),initialBufferFullness:e.readInt32LE(t+20),alternateDataBitrate:e.readInt32LE(t+24),alternateBufferSize:e.readInt32LE(t+28),alternateInitialBufferFullness:e.readInt32LE(t+32),maximumObjectSize:e.readInt32LE(t+36),flags:{reliableFlag:s.getBit(e,t+40,0),seekableFlag:s.getBit(e,t+40,1),resendLiveCleanpointsFlag:s.getBit(e,t+40,2)},streamNumber:e.readInt16LE(t+42),streamLanguageId:e.readInt16LE(t+44),averageTimePerFrame:e.readInt32LE(t+52),streamNameCount:e.readInt32LE(t+54),payloadExtensionSystems:e.readInt32LE(t+56),streamNames:[],streamPropertiesObject:null}}}w.guid=n.default.ExtendedStreamPropertiesObject,t.ExtendedStreamPropertiesObjectState=w;class S extends c{constructor(e){super(e)}get(t,i){const s=[],a=e.from(t),n=a.readUInt16LE(i);let o=i+2;for(let e=0;e<n;e+=1){o+=4;const e=a.readUInt16LE(o);o+=2;const t=a.readUInt16LE(o);o+=2;const i=a.readUInt32LE(o);o+=4;const n=r.AsfUtil.parseUnicodeAttr(a.slice(o,o+e));o+=e;const c=a.slice(o,o+i);o+=i,this.postProcessTag(s,n,t,c)}return s}}S.guid=n.default.MetadataObject,t.MetadataObjectState=S;class k extends S{constructor(e){super(e)}}k.guid=n.default.MetadataLibraryObject,t.MetadataLibraryObjectState=k;class T{static fromBase64(t){return this.fromBuffer(e.from(t,"base64"))}static fromBuffer(e){const t=new T(e.length);return t.get(e,0)}constructor(e){this.len=e}get(e,t){const i=e.readUInt8(t++),s=e.readInt32LE(t);let a=5;while(0!==e.readUInt16BE(a))a+=2;const n=e.slice(5,a).toString("utf16le");while(0!==e.readUInt16BE(a))a+=2;const r=e.slice(5,a).toString("utf16le");return{type:o.AttachedPictureType[i],format:n,description:r,size:s,data:e.slice(a+4)}}}t.WmPictureToken=T}).call(this,i("1c35").Buffer)},faa1:function(e,t,i){"use strict";var s,a="object"===typeof Reflect?Reflect:null,n=a&&"function"===typeof a.apply?a.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};function r(e){console&&console.warn&&console.warn(e)}s=a&&"function"===typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function c(){c.init.call(this)}e.exports=c,e.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function h(e,t,i,s){var a,n,o;if(u(i),n=e._events,void 0===n?(n=e._events=Object.create(null),e._eventsCount=0):(void 0!==n.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),n=e._events),o=n[t]),void 0===o)o=n[t]=i,++e._eventsCount;else if("function"===typeof o?o=n[t]=s?[i,o]:[o,i]:s?o.unshift(i):o.push(i),a=d(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,r(c)}return e}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,i){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},a=m.bind(s);return a.listener=i,s.wrapFn=a,a}function f(e,t,i){var s=e._events;if(void 0===s)return[];var a=s[t];return void 0===a?[]:"function"===typeof a?i?[a.listener||a]:[a]:i?y(a):b(a,a.length)}function g(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function b(e,t){for(var i=new Array(t),s=0;s<t;++s)i[s]=e[s];return i}function v(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function w(e,t){return new Promise((function(i,s){function a(i){e.removeListener(t,n),s(i)}function n(){"function"===typeof e.removeListener&&e.removeListener("error",a),i([].slice.call(arguments))}k(e,t,n,{once:!0}),"error"!==t&&S(e,a,{once:!0})}))}function S(e,t,i){"function"===typeof e.on&&k(e,"error",t,i)}function k(e,t,i,s){if("function"===typeof e.on)s.once?e.once(t,i):e.on(t,i);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(n){s.once&&e.removeEventListener(t,a),i(n)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return d(this)},c.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var s="error"===e,a=this._events;if(void 0!==a)s=s&&void 0===a.error;else if(!s)return!1;if(s){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var o=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw o.context=r,o}var c=a[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var l=c.length,u=b(c,l);for(i=0;i<l;++i)n(u[i],this,t)}return!0},c.prototype.addListener=function(e,t){return h(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return h(this,e,t,!0)},c.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var i,s,a,n,r;if(u(t),s=this._events,void 0===s)return this;if(i=s[e],void 0===i)return this;if(i===t||i.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!==typeof i){for(a=-1,n=i.length-1;n>=0;n--)if(i[n]===t||i[n].listener===t){r=i[n].listener,a=n;break}if(a<0)return this;0===a?i.shift():v(i,a),1===i.length&&(s[e]=i[0]),void 0!==s.removeListener&&this.emit("removeListener",e,r||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,i,s;if(i=this._events,void 0===i)return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var a,n=Object.keys(i);for(s=0;s<n.length;++s)a=n[s],"removeListener"!==a&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},c.prototype.listeners=function(e){return f(this,e,!0)},c.prototype.rawListeners=function(e){return f(this,e,!1)},c.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},c.prototype.listenerCount=g,c.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},fc97:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonTagMapper=void 0;class s{static toIntOrNull(e){const t=parseInt(e,10);return isNaN(t)?null:t}static normalizeTrack(e){const t=e.toString().split("/");return{no:parseInt(t[0],10)||null,of:parseInt(t[1],10)||null}}constructor(e,t){this.tagTypes=e,this.tagMap=t}mapGenericTag(e,t){e={id:e.id,value:e.value},this.postMap(e,t);const i=this.getCommonName(e.id);return i?{id:i,value:e.value}:null}getCommonName(e){return this.tagMap[e]}postMap(e,t){}}s.maxRatingScore=1,t.CommonTagMapper=s},fcd6:function(e,t,i){},fd17:function(e,t,i){"use strict";var s=i("1b08").codes.ERR_STREAM_PREMATURE_CLOSE;function a(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];e.apply(this,s)}}}function n(){}function r(e){return e.setHeader&&"function"===typeof e.abort}function o(e,t,i){if("function"===typeof t)return o(e,null,t);t||(t={}),i=a(i||n);var c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||h()},d=e._writableState&&e._writableState.finished,h=function(){l=!1,d=!0,c||i.call(e)},m=e._readableState&&e._readableState.endEmitted,p=function(){c=!1,m=!0,l||i.call(e)},f=function(t){i.call(e,t)},g=function(){var t;return c&&!m?(e._readableState&&e._readableState.ended||(t=new s),i.call(e,t)):l&&!d?(e._writableState&&e._writableState.ended||(t=new s),i.call(e,t)):void 0},b=function(){e.req.on("finish",h)};return r(e)?(e.on("complete",h),e.on("abort",g),e.req?b():e.on("request",b)):l&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",f),e.on("close",g),function(){e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",b),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",p),e.removeListener("error",f),e.removeListener("close",g)}}e.exports=o},fe07:function(e,t,i){},fe7a:function(e,t,i){"use strict";i("f55ab")},fe99:function(e,t,i){"use strict";i("db9d")},feb6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MP4TagMapper=t.tagType=void 0;const s=i("53d6"),a={"nam":"title","ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","alb":"album","day":"date","cmt":"comment","com":"comment",trkn:"track",disk:"disk","gen":"genre",covr:"picture","wrt":"composer","lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear",desc:"description",ldes:"longDescription","mvn":"movement","mvi":"movementIndex","mvc":"movementTotal","wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik",rate:"rating"};t.tagType="iTunes";class n extends s.CaseInsensitiveTagMap{constructor(){super([t.tagType],a)}postMap(e,t){switch(e.id){case"rate":e.value={source:void 0,rating:parseFloat(e.value)/100};break}}}t.MP4TagMapper=n},ff51:function(e,t,i){}}]);