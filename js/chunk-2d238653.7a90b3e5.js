(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d238653"],{feca:function(t,e,n){"use strict";n.r(e),n.d(e,"FirebaseAuthenticationWeb",(function(){return o}));var r=n("1547"),i=n("be8c"),s=n("dbd1");class o extends r["b"]{constructor(){super();const t=Object(i["getAuth"])();t.onAuthStateChanged(t=>this.handleAuthStateChange(t))}async applyActionCode(t){const e=Object(i["getAuth"])();return Object(i["applyActionCode"])(e,t.oobCode)}async createUserWithEmailAndPassword(t){const e=Object(i["getAuth"])(),n=await Object(i["createUserWithEmailAndPassword"])(e,t.email,t.password);return this.createSignInResult(n,null)}async confirmPasswordReset(t){const e=Object(i["getAuth"])();return Object(i["confirmPasswordReset"])(e,t.oobCode,t.newPassword)}async deleteUser(){const t=Object(i["getAuth"])(),e=t.currentUser;if(!e)throw new Error(o.ERROR_NO_USER_SIGNED_IN);return Object(i["deleteUser"])(e)}async getCurrentUser(){const t=Object(i["getAuth"])(),e=this.createUserResult(t.currentUser),n={user:e};return n}async getIdToken(t){const e=Object(i["getAuth"])();if(!e.currentUser)throw new Error(o.ERROR_NO_USER_SIGNED_IN);const n=await e.currentUser.getIdToken(null===t||void 0===t?void 0:t.forceRefresh),r={token:n||""};return r}async getRedirectResult(){const t=Object(i["getAuth"])(),e=await Object(i["getRedirectResult"])(t),n=e?i["OAuthProvider"].credentialFromResult(e):null;return this.createSignInResult(e,n)}async getTenantId(){const t=Object(i["getAuth"])();return{tenantId:t.tenantId}}async isSignInWithEmailLink(t){const e=Object(i["getAuth"])();return{isSignInWithEmailLink:Object(i["isSignInWithEmailLink"])(e,t.emailLink)}}async linkWithApple(t){const e=new i["OAuthProvider"](s["a"].APPLE);this.applySignInOptions(t||{},e);const n=await this.linkCurrentUserWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["OAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async linkWithEmailAndPassword(t){const e=i["EmailAuthProvider"].credential(t.email,t.password),n=await this.linkCurrentUserWithCredential(e);return this.createSignInResult(n,e)}async linkWithEmailLink(t){const e=i["EmailAuthProvider"].credentialWithLink(t.email,t.emailLink),n=await this.linkCurrentUserWithCredential(e);return this.createSignInResult(n,e)}async linkWithFacebook(t){const e=new i["FacebookAuthProvider"];this.applySignInOptions(t||{},e);const n=await this.linkCurrentUserWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["FacebookAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async linkWithGameCenter(){throw new Error("Not available on web.")}async linkWithGithub(t){const e=new i["GithubAuthProvider"];this.applySignInOptions(t||{},e);const n=await this.linkCurrentUserWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["GithubAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async linkWithGoogle(t){const e=new i["GoogleAuthProvider"];this.applySignInOptions(t||{},e);const n=await this.linkCurrentUserWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["GoogleAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async linkWithMicrosoft(t){const e=new i["OAuthProvider"](s["a"].MICROSOFT);this.applySignInOptions(t||{},e);const n=await this.linkCurrentUserWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["OAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async linkWithPhoneNumber(t){throw new Error("Not implemented on web.")}async linkWithPlayGames(){throw new Error("Not available on web.")}async linkWithTwitter(t){const e=new i["TwitterAuthProvider"];this.applySignInOptions(t||{},e);const n=await this.linkCurrentUserWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["TwitterAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async linkWithYahoo(t){const e=new i["OAuthProvider"](s["a"].YAHOO);this.applySignInOptions(t||{},e);const n=await this.linkCurrentUserWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["OAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async reload(){const t=Object(i["getAuth"])(),e=t.currentUser;if(!e)throw new Error(o.ERROR_NO_USER_SIGNED_IN);return Object(i["reload"])(e)}async sendEmailVerification(){const t=Object(i["getAuth"])(),e=t.currentUser;if(!e)throw new Error(o.ERROR_NO_USER_SIGNED_IN);return Object(i["sendEmailVerification"])(e)}async sendPasswordResetEmail(t){const e=Object(i["getAuth"])();return Object(i["sendPasswordResetEmail"])(e,t.email)}async sendSignInLinkToEmail(t){const e=Object(i["getAuth"])();return Object(i["sendSignInLinkToEmail"])(e,t.email,t.actionCodeSettings)}async setLanguageCode(t){const e=Object(i["getAuth"])();e.languageCode=t.languageCode}async signInAnonymously(){const t=Object(i["getAuth"])(),e=await Object(i["signInAnonymously"])(t);return this.createSignInResult(e,null)}async setTenantId(t){const e=Object(i["getAuth"])();e.tenantId=t.tenantId}async signInWithApple(t){const e=new i["OAuthProvider"](s["a"].APPLE);this.applySignInOptions(t||{},e);const n=await this.signInWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["OAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async signInWithCustomToken(t){const e=Object(i["getAuth"])(),n=await Object(i["signInWithCustomToken"])(e,t.token);return this.createSignInResult(n,null)}async signInWithEmailAndPassword(t){const e=Object(i["getAuth"])(),n=await Object(i["signInWithEmailAndPassword"])(e,t.email,t.password);return this.createSignInResult(n,null)}async signInWithEmailLink(t){const e=Object(i["getAuth"])(),n=await Object(i["signInWithEmailLink"])(e,t.email,t.emailLink);return this.createSignInResult(n,null)}async signInWithFacebook(t){const e=new i["FacebookAuthProvider"];this.applySignInOptions(t||{},e);const n=await this.signInWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["FacebookAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async signInWithGithub(t){const e=new i["GithubAuthProvider"];this.applySignInOptions(t||{},e);const n=await this.signInWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["GithubAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async signInWithGoogle(t){const e=new i["GoogleAuthProvider"];this.applySignInOptions(t||{},e);const n=await this.signInWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["GoogleAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async signInWithMicrosoft(t){const e=new i["OAuthProvider"](s["a"].MICROSOFT);this.applySignInOptions(t||{},e);const n=await this.signInWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["OAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async signInWithPhoneNumber(t){throw new Error("Not implemented on web.")}async signInWithPlayGames(){throw new Error("Not available on web.")}async signInWithGameCenter(){throw new Error("Not available on web.")}async signInWithTwitter(t){const e=new i["TwitterAuthProvider"];this.applySignInOptions(t||{},e);const n=await this.signInWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["TwitterAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async signInWithYahoo(t){const e=new i["OAuthProvider"](s["a"].YAHOO);this.applySignInOptions(t||{},e);const n=await this.signInWithPopupOrRedirect(e,null===t||void 0===t?void 0:t.mode),r=i["OAuthProvider"].credentialFromResult(n);return this.createSignInResult(n,r)}async signOut(){const t=Object(i["getAuth"])();await t.signOut()}async unlink(t){const e=Object(i["getAuth"])();if(!e.currentUser)throw new Error(o.ERROR_NO_USER_SIGNED_IN);const n=await Object(i["unlink"])(e.currentUser,t.providerId),r=this.createUserResult(n),s={user:r};return s}async updateEmail(t){const e=Object(i["getAuth"])(),n=e.currentUser;if(!n)throw new Error(o.ERROR_NO_USER_SIGNED_IN);return Object(i["updateEmail"])(n,t.newEmail)}async updatePassword(t){const e=Object(i["getAuth"])(),n=e.currentUser;if(!n)throw new Error(o.ERROR_NO_USER_SIGNED_IN);return Object(i["updatePassword"])(n,t.newPassword)}async updateProfile(t){const e=Object(i["getAuth"])(),n=e.currentUser;if(!n)throw new Error(o.ERROR_NO_USER_SIGNED_IN);return Object(i["updateProfile"])(n,t)}async useAppLanguage(){const t=Object(i["getAuth"])();t.useDeviceLanguage()}async useEmulator(t){const e=Object(i["getAuth"])(),n=t.port||9099;Object(i["connectAuthEmulator"])(e,`${t.host}:${n}`)}handleAuthStateChange(t){const e=this.createUserResult(t),n={user:e};this.notifyListeners("authStateChange",n)}applySignInOptions(t,e){if(t.customParameters){const n={};t.customParameters.map(t=>{n[t.key]=t.value}),e.setCustomParameters(n)}if(t.scopes)for(const n of t.scopes)e.addScope(n)}signInWithPopupOrRedirect(t,e){const n=Object(i["getAuth"])();return"redirect"===e?Object(i["signInWithRedirect"])(n,t):Object(i["signInWithPopup"])(n,t)}linkCurrentUserWithPopupOrRedirect(t,e){const n=Object(i["getAuth"])();if(!n.currentUser)throw new Error(o.ERROR_NO_USER_SIGNED_IN);return"redirect"===e?Object(i["linkWithRedirect"])(n.currentUser,t):Object(i["linkWithPopup"])(n.currentUser,t)}linkCurrentUserWithCredential(t){const e=Object(i["getAuth"])();if(!e.currentUser)throw new Error(o.ERROR_NO_USER_SIGNED_IN);return Object(i["linkWithCredential"])(e.currentUser,t)}createSignInResult(t,e){const n=this.createUserResult((null===t||void 0===t?void 0:t.user)||null),r=this.createCredentialResult(e),i=this.createAdditionalUserInfoResult(t),s={user:n,credential:r,additionalUserInfo:i};return s}createCredentialResult(t){if(!t)return null;const e={providerId:t.providerId};return t instanceof i["OAuthCredential"]&&(e.accessToken=t.accessToken,e.idToken=t.idToken,e.secret=t.secret),e}createUserResult(t){if(!t)return null;const e={displayName:t.displayName,email:t.email,emailVerified:t.emailVerified,isAnonymous:t.isAnonymous,phoneNumber:t.phoneNumber,photoUrl:t.photoURL,providerId:t.providerId,tenantId:t.tenantId,uid:t.uid};return e}createAdditionalUserInfoResult(t){if(!t)return null;const e=Object(i["getAdditionalUserInfo"])(t);if(!e)return null;const{isNewUser:n,profile:r,providerId:s,username:o}=e,a={isNewUser:n};return null!==s&&(a.providerId=s),null!==r&&(a.profile=r),null!==o&&void 0!==o&&(a.username=o),a}}o.ERROR_NO_USER_SIGNED_IN="No user is signed in."}}]);